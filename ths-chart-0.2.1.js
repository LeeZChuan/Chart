!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ThsChart={})}(this,(function(t){"use strict";var e=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},i=new function(){this.browser=new e,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(i.wxa=!0,i.canvasSupported=!0,i.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(i.worker=!0,i.canvasSupported=!0):"undefined"==typeof navigator?(i.node=!0,i.canvasSupported=!0,i.svgSupported=!0):function(t,e){var i=e.browser,n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);n&&(i.firefox=!0,i.version=n[1]);r&&(i.ie=!0,i.version=r[1]);o&&(i.edge=!0,i.version=o[1],i.newEdge=+o[1].split(".")[0]>18);a&&(i.weChat=!0);e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,e.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(i.ie&&"transition"in s||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||i.ie&&+i.version>=9}(navigator.userAgent,i);var n=i,r={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},o={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},a=Object.prototype.toString,s=Array.prototype,h=s.forEach,l=s.slice,u=s.map,c=function(){}.constructor,f=c?c.prototype:null,d={},p=2311;function y(){return p++}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function g(t){if(null==t||"object"!=typeof t)return t;var e=t,i=a.call(t);if("[object Array]"===i){if(!E(t)){e=[];for(var n=0,s=t.length;n<s;n++)e[n]=g(t[n])}}else if(o[i]){if(!E(t)){var h=t.constructor;if(h.from)e=h.from(t);else{e=new h(t.length);for(n=0,s=t.length;n<s;n++)e[n]=g(t[n])}}}else if(!r[i]&&!E(t)&&!D(t))for(var l in e={},t)t.hasOwnProperty(l)&&(e[l]=g(t[l]));return e}function m(t,e,i){if(!P(e)||!P(t))return i?g(e):t;for(var n in e)if(e.hasOwnProperty(n)){var r=t[n],o=e[n];!P(o)||!P(r)||C(o)||C(r)||D(o)||D(r)||L(o)||L(r)||E(o)||E(r)?!i&&n in t||(t[n]=g(e[n])):m(r,o,i)}return t}function _(t,e){if(Object.assign)Object.assign(t,e);else for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function x(t,e,i){for(var n=T(e),r=0;r<n.length;r++){var o=n[r];(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var b=function(){return d.createCanvas()};function w(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function k(t,e,i){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r];"constructor"!==o&&(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}else x(t,e,i)}function S(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function M(t,e,i){if(t&&e)if(t.forEach&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function A(t,e,i){if(!t)return[];if(!e)return function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return l.apply(t,e)}(t);if(t.map&&t.map===u)return t.map(e,i);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(i,t[r],r,t));return n}function T(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function C(t){return Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function z(t){return"string"==typeof t}function P(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function L(t){return!!r[a.call(t)]}function D(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function F(t,e){return null!=t?t:e}function R(t,e,i){return null!=t?t:null!=e?e:i}d.createCanvas=function(){return document.createElement("canvas")},f&&"function"==typeof f.bind&&f.call.bind(f.bind);function E(t){return t.__ec_primitive__}function I(t,e){var i;if(Object.create)i=Object.create(t);else{var n=function(){};n.prototype=t,i=new n}return e&&_(i,e),i}function O(){}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var B=function(t,e){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},B(t,e)};function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function W(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function H(t){return[t[0],t[1]]}function j(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Y(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function X(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function U(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var V=U;var G=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function Z(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function q(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function K(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var Q=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},$=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Q(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this.handler.dispatchToElement(new Q(e,t),"drag",t.event);var a=this.handler.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new Q(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new Q(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Q(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Q(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),J=$,tt=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,i,n){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(n=i,i=e,e=null),!i||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a<r[t].length;a++)if(r[t][a].h===i)return this;var s={h:i,query:e,ctx:n||this,callAtLast:i.zrEventfulCallAtLast},h=r[t].length-1,l=r[t][h];return l&&l.callAtLast?r[t].splice(h,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!==e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],r=this._$eventProcessor;if(n)for(var o=e.length,a=n.length,s=0;s<a;s++){var h=n[s];if(!r||!r.filter||null==h.query||r.filter(t,h.query))switch(o){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,e[0]);break;case 2:h.h.call(h.ctx,e[0],e[1]);break;default:h.h.apply(h.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],r=this._$eventProcessor;if(n)for(var o=e.length,a=e[o-1],s=n.length,h=0;h<s;h++){var l=n[h];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(a);break;case 1:l.h.call(a,e[0]);break;case 2:l.h.call(a,e[0],e[1]);break;default:l.h.apply(a,e.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t}(),et=tt,it=Math.log(2);function nt(t,e,i,n,r,o){var a=n+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var h=Math.round(Math.log((1<<s)-1&~r)/it);return t[i][h]}for(var l=n|1<<i,u=i+1;n&1<<u;)u++;for(var c=0,f=0,d=0;f<s;f++){var p=1<<f;p&r||(c+=(d%2?-1:1)*t[i][f]*nt(t,e-1,u,l,r|p,o),d++)}return o[a]=c,c}function rt(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=nt(i,8,0,0,0,n);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*nt(i,7,0===a?1:0,1<<a,1<<s,n)/r*e[a];return function(t,e,i){var n=e*o[6]+i*o[7]+1;t[0]=(e*o[0]+i*o[1]+o[2])/n,t[1]=(e*o[3]+i*o[4]+o[5])/n}}}function ot(t,e,i,r,o){if(e.getBoundingClientRect&&n.domSupported&&!at(e)){var a=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),s=function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,h=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[s]+":0",r[h]+":0",n[1-s]+":auto",r[1-h]+":auto",""].join("!important;"),t.appendChild(a),i.push(a)}return i}(e,a),h=function(t,e,i){for(var n=i?"invTrans":"trans",r=e[n],o=e.srcCoords,a=[],s=[],h=!0,l=0;l<4;l++){var u=t[l].getBoundingClientRect(),c=2*l,f=u.left,d=u.top;a.push(f,d),h=h&&o&&f===o[c]&&d===o[c+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return h&&r?r:(e.srcCoords=a,e[n]=i?rt(s,a):rt(a,s))}(s,a,o);if(h)return h(t,i,r),!0}return!1}function at(t){return"CANVAS"===t.nodeName.toUpperCase()}var st="undefined"!=typeof window&&!!window.addEventListener,ht=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lt=[];function ut(t,e,i,r){return i=i||{},r||!n.canvasSupported?ct(t,e,i):n.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):ct(t,e,i),i}function ct(t,e,i){if(n.domSupported&&t.getBoundingClientRect){var r=e.clientX,o=e.clientY;if(at(t)){var a=t.getBoundingClientRect();return i.zrX=r-a.left,void(i.zrY=o-a.top)}if(ot(lt,t,r,o))return i.zrX=lt[0],void(i.zrY=lt[1])}i.zrX=i.zrY=0}function ft(t){return t||window.event}function dt(t,e,i){if(null!=(e=ft(e)).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var r="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];r&&ut(t,r,e,i)}else{ut(t,e,e,i);var o=function(t){var e=t.wheelDelta;if(e)return e;var i=t.deltaX,n=t.deltaY;if(null==i||null==n)return e;return 3*(0!==n?Math.abs(n):Math.abs(i))*(n>0?-1:n<0?1:i>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&ht.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}var pt=st?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},yt=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,a=n.length;o<a;o++){var s=n[o],h=ut(i,s,{});r.points.push([h.zrX,h.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in gt)if(gt.hasOwnProperty(e)){var i=gt[e](this._track,t);if(i)return i}},t}();function vt(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}var gt={pinch:function(t,e){var i=t.length;if(i){var n,r=(t[i-1]||{}).points,o=(t[i-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=vt(r)/vt(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((n=r)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},mt="silent";function _t(){pt(this.event)}var xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return N(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(et),bt=function(t,e){this.x=t,this.y=e},wt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],kt=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o._hovered=new bt(0,0),o.storage=e,o.painter=i,o.painterRoot=r,n=n||new xt,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new J(o),o}return N(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(M(wt,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,i=t.zrY,n=Mt(this,e,i),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=n?new bt(e,i):this.findHover(e,i),s=a.target,h=this.proxy;h.setCursor&&h.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new bt(0,0)},e.prototype.dispatch=function(t,e){var i=this[t];i&&i.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var r="on"+e,o=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:_t}}(e,t,i);n&&(n[r]&&(o.cancelBubble=!!n[r].call(n,o)),n.trigger(e,o),n=n.__hostTarget?n.__hostTarget:n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,i){for(var n=this.storage.getDisplayList(),r=new bt(t,e),o=n.length-1;o>=0;o--){var a=void 0;if(n[o]!==i&&!n[o].ignore&&(a=St(n[o],t,e))&&(!r.topTarget&&(r.topTarget=n[o]),a!==mt)){r.target=n[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new yt);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var r=n.type;t.gestureEvent=r;var o=new bt;o.target=n.target,this.dispatchToElement(o,r,n.event)}},e}(et);function St(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t,r=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var a=n.getClipPath();if(a&&!a.contain(e,i))return!1;n.silent&&(r=!0)}var s=n.__hostTarget;n=s||n.parent}return!r||mt}return!1}function Mt(t,e,i){var n=t.painter;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}M(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){kt.prototype[t]=function(e){var i,n,r=e.zrX,o=e.zrY,a=Mt(this,r,o);if("mouseup"===t&&a||(n=(i=this.findHover(r,o)).target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||V(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}));var At=kt;function Tt(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;!function(t,e,i){i--;for(;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&n(t[r],t[r-1])>=0;)r++;return r-e}function Ct(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var o,a=t[n],s=e,h=n;s<h;)r(a,t[o=s+h>>>1])<0?h=o:s=o+1;var l=n-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function zt(t,e,i,n,r,o){var a=0,s=0,h=1;if(o(t,e[i+r])>0){for(s=n-r;h<s&&o(t,e[i+r+h])>0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s),a+=r,h+=r}else{for(s=r+1;h<s&&o(t,e[i+r-h])<=0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s);var l=a;a=r-h,h=r-l}for(a++;a<h;){var u=a+(h-a>>>1);o(t,e[i+u])>0?a=u+1:h=u}return h}function Pt(t,e,i,n,r,o){var a=0,s=0,h=1;if(o(t,e[i+r])<0){for(s=r+1;h<s&&o(t,e[i+r-h])<0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s);var l=a;a=r-h,h=r-l}else{for(s=n-r;h<s&&o(t,e[i+r+h])>=0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s),a+=r,h+=r}for(a++;a<h;){var u=a+(h-a>>>1);o(t,e[i+u])<0?h=u:a=u+1}return h}function Lt(t,e){var i,n,r=7,o=0,a=[];function s(s){var h=i[s],l=n[s],u=i[s+1],c=n[s+1];n[s]=l+c,s===o-3&&(i[s+1]=i[s+2],n[s+1]=n[s+2]),o--;var f=Pt(t[u],t,h,l,0,e);h+=f,0!==(l-=f)&&0!==(c=zt(t[h+l-1],t,u,c,c-1,e))&&(l<=c?function(i,n,o,s){var h=0;for(h=0;h<n;h++)a[h]=t[i+h];var l=0,u=o,c=i;if(t[c++]=t[u++],0==--s){for(h=0;h<n;h++)t[c+h]=a[l+h];return}if(1===n){for(h=0;h<s;h++)t[c+h]=t[u+h];return void(t[c+s]=a[l])}var f,d,p,y=r;for(;;){f=0,d=0,p=!1;do{if(e(t[u],a[l])<0){if(t[c++]=t[u++],d++,f=0,0==--s){p=!0;break}}else if(t[c++]=a[l++],f++,d=0,1==--n){p=!0;break}}while((f|d)<y);if(p)break;do{if(0!==(f=Pt(t[u],a,l,n,0,e))){for(h=0;h<f;h++)t[c+h]=a[l+h];if(c+=f,l+=f,(n-=f)<=1){p=!0;break}}if(t[c++]=t[u++],0==--s){p=!0;break}if(0!==(d=zt(a[l],t,u,s,0,e))){for(h=0;h<d;h++)t[c+h]=t[u+h];if(c+=d,u+=d,0===(s-=d)){p=!0;break}}if(t[c++]=a[l++],1==--n){p=!0;break}y--}while(f>=7||d>=7);if(p)break;y<0&&(y=0),y+=2}if((r=y)<1&&(r=1),1===n){for(h=0;h<s;h++)t[c+h]=t[u+h];t[c+s]=a[l]}else{if(0===n)throw new Error;for(h=0;h<n;h++)t[c+h]=a[l+h]}}(h,l,u,c):function(i,n,o,s){var h=0;for(h=0;h<s;h++)a[h]=t[o+h];var l=i+n-1,u=s-1,c=o+s-1,f=0,d=0;if(t[c--]=t[l--],0==--n){for(f=c-(s-1),h=0;h<s;h++)t[f+h]=a[h];return}if(1===s){for(d=(c-=n)+1,f=(l-=n)+1,h=n-1;h>=0;h--)t[d+h]=t[f+h];return void(t[c]=a[u])}var p=r;for(;;){var y=0,v=0,g=!1;do{if(e(a[u],t[l])<0){if(t[c--]=t[l--],y++,v=0,0==--n){g=!0;break}}else if(t[c--]=a[u--],v++,y=0,1==--s){g=!0;break}}while((y|v)<p);if(g)break;do{if(0!==(y=n-Pt(a[u],t,i,n,n-1,e))){for(n-=y,d=(c-=y)+1,f=(l-=y)+1,h=y-1;h>=0;h--)t[d+h]=t[f+h];if(0===n){g=!0;break}}if(t[c--]=a[u--],1==--s){g=!0;break}if(0!==(v=s-zt(t[l],a,0,s,s-1,e))){for(s-=v,d=(c-=v)+1,f=(u-=v)+1,h=0;h<v;h++)t[d+h]=a[f+h];if(s<=1){g=!0;break}}if(t[c--]=t[l--],0==--n){g=!0;break}p--}while(y>=7||v>=7);if(g)break;p<0&&(p=0),p+=2}(r=p)<1&&(r=1);if(1===s){for(d=(c-=n)+1,f=(l-=n)+1,h=n-1;h>=0;h--)t[d+h]=t[f+h];t[c]=a[u]}else{if(0===s)throw new Error;for(f=c-(s-1),h=0;h<s;h++)t[f+h]=a[h]}}(h,l,u,c))}return i=[],n=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;s(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&n[t-1]<n[t+1]&&t--,s(t)}},pushRun:function(t,e){i[o]=t,n[o]=e,o+=1}}}var Dt=!1;function Ft(){Dt||(Dt=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Rt(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Et=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Rt}return t.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,n.canvasSupported&&function(t,e,i,n){i||(i=0),n||(n=t.length);var r=n-i;if(!(r<2)){var o=0;if(r<32)Ct(t,i,n,i+(o=Tt(t,i,n,e)),e);else{var a=Lt(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(r);do{if((o=Tt(t,i,n,e))<s){var h=r;h>s&&(h=s),Ct(t,i,i+h,i+o,e),o=h}a.pushRun(i,o),a.mergeRuns(),r-=o,i+=o}while(0!==r);a.forceMergeRuns()}}}(i,Rt)},t.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.getClipPath();if(t.ignoreClip)e=null;else if(n){e=e?e.slice():[];for(var r=n,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var h=a[s];t.__dirty&&(h.__dirty|=1),this._updateAndAddDisplayable(h,e,i)}t.__dirty=0}else{var l=t;e&&e.length?l.__clipPaths=e:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(Ft(),l.z=0),isNaN(l.z2)&&(Ft(),l.z2=0),isNaN(l.zlevel)&&(Ft(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var u=t.getDecalElement&&t.getDecalElement();u&&this._updateAndAddDisplayable(u,e,i);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,i);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,e,i)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var n=w(this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),It=Et,Ot="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},Bt={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Bt.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Bt.bounceIn(2*t):.5*Bt.bounceOut(2*t-1)+.5}},Nt=Bt,Wt=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var n=this.easing,r="string"==typeof n?Nt[n]:n,o="function"==typeof r?r(i):i;if(this.onframe&&this.onframe(o),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),Ht=Wt,jt=function(t){this.value=t},Yt=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new jt(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Xt=function(){function t(t){this._list=new Yt,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var i=this._list,n=this._map,r=null;if(null==n[t]){var o=i.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=i.head;i.remove(s),delete n[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new jt(e),a.key=t,i.insertEntry(a),n[t]=a}return r},t.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),Ut=Xt,Vt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Gt(t){return(t=Math.round(t))<0?0:t>255?255:t}function Zt(t){return t<0?0:t>1?1:t}function qt(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Gt(parseFloat(e)/100*255):Gt(parseInt(e,10))}function Kt(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Zt(parseFloat(e)/100):Zt(parseFloat(e))}function Qt(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function $t(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function Jt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var te=new Ut(20),ee=null;function ie(t,e){ee&&Jt(ee,e),ee=te.put(t,ee||e.slice())}function ne(t,e){if(t){e=e||[];var i=te.get(t);if(i)return Jt(e,i);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in Vt)return Jt(e,Vt[n]),ie(t,e),e;var r,o=n.length;if("#"===n.charAt(0))return 4===o||5===o?(r=parseInt(n.slice(1,4),16))>=0&&r<=4095?($t(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(n.slice(4),16)/15:1),ie(t,e),e):void $t(e,0,0,0,1):7===o||9===o?(r=parseInt(n.slice(1,7),16))>=0&&r<=16777215?($t(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(n.slice(7),16)/255:1),ie(t,e),e):void $t(e,0,0,0,1):void 0;var a=n.indexOf("("),s=n.indexOf(")");if(-1!==a&&s+1===o){var h=n.substr(0,a),l=n.substr(a+1,s-(a+1)).split(","),u=1;switch(h){case"rgba":if(4!==l.length)return 3===l.length?$t(e,+l[0],+l[1],+l[2],1):$t(e,0,0,0,1);u=Kt(l.pop());case"rgb":return 3!==l.length?void $t(e,0,0,0,1):($t(e,qt(l[0]),qt(l[1]),qt(l[2]),u),ie(t,e),e);case"hsla":return 4!==l.length?void $t(e,0,0,0,1):(l[3]=Kt(l[3]),re(l,e),ie(t,e),e);case"hsl":return 3!==l.length?void $t(e,0,0,0,1):(re(l,e),ie(t,e),e);default:return}}$t(e,0,0,0,1)}}function re(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=Kt(t[1]),r=Kt(t[2]),o=r<=.5?r*(n+1):r+n-r*n,a=2*r-o;return $t(e=e||[],Gt(255*Qt(a,o,i+1/3)),Gt(255*Qt(a,o,i)),Gt(255*Qt(a,o,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function oe(t){var e=ne(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function ae(t,e){var i=ne(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*e:0}var se=Array.prototype.slice;function he(t,e,i){return(e-t)*i+t}function le(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=he(e[o],i[o],n)}function ue(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+i[o]*n;return t}function ce(t,e,i,n){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+i[a][s]*n}return t}function fe(t,e,i){var n=t,r=e;if(n.push&&r.push){var o=n.length,a=r.length;if(o!==a)if(o>a)n.length=a;else for(var s=o;s<a;s++)n.push(1===i?r[s]:se.call(r[s]));var h=n[0]&&n[0].length;for(s=0;s<n.length;s++)if(1===i)isNaN(n[s])&&(n[s]=r[s]);else for(var l=0;l<h;l++)isNaN(n[s][l])&&(n[s][l]=r[s][l])}}function de(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function pe(t,e,i,n,r,o,a){var s=.5*(i-t),h=.5*(n-e);return(2*(e-i)+s+h)*a+(-3*(e-i)-2*s-h)*o+s*r+e}function ye(t,e,i,n,r,o,a,s){for(var h=e.length,l=0;l<h;l++)t[l]=pe(e[l],i[l],n[l],r[l],o,a,s)}function ve(t){if(S(t)){var e=t.length;if(S(t[0])){for(var i=[],n=0;n<e;n++)i.push(se.call(t[n]));return i}return se.call(t)}return t}function ge(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var me,_e,xe=[0,0,0,0],be=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var i=this.keyframes,n=i.length;if(this.interpolable)if(S(e)){var r=function(t){return S(t&&t[0])?2:1}(e);if(n>0&&this.arrDim!==r)return void(this.interpolable=!1);if(1===r&&"number"!=typeof e[0]||2===r&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(n>0){var o=i[n-1];this._isAllValueEqual&&(1===r&&de(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=r}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var a=ne(e);a?(e=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e||isNaN(e))return void(this.interpolable=!1);if(this._isAllValueEqual&&n>0){o=i[n-1];(this.isValueColor&&!de(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1)}}var s={time:t,value:e,percent:0};return this.keyframes.push(s),s},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var i=this.arrDim,n=e.length,r=e[n-1],o=0;o<n;o++)e[o].percent=e[o].time/this.maxTime,i>0&&o!==n-1&&fe(e[o].value,r.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var a=e[0].value;for(o=0;o<n;o++)0===i?this.isValueColor?e[o].additiveValue=ue([],e[o].value,a,-1):e[o].additiveValue=e[o].value-a:1===i?e[o].additiveValue=ue([],e[o].value,a,-1):2===i&&(e[o].additiveValue=ce([],e[o].value,a,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,n=null!=this._additiveTrack,r=n?"additiveValue":"value",o=this.keyframes,a=this.keyframes.length,s=this.propName,h=this.arrDim,l=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){for(i=Math.min(this._lastFrame+1,a-1);i>=0&&!(o[i].percent<=e);i--);i=Math.min(i,a-2)}else{for(i=this._lastFrame;i<a&&!(o[i].percent>e);i++);i=Math.min(i-1,a-2)}var u=o[i+1],c=o[i];if(c&&u){this._lastFrame=i,this._lastFramePercent=e;var f=u.percent-c.percent;if(0!==f){var d=(e-c.percent)/f,p=n?this._additiveValue:l?xe:t[s];if((h>0||l)&&!p&&(p=this._additiveValue=[]),this.useSpline){var y=o[i][r],v=o[0===i?i:i-1][r],g=o[i>a-2?a-1:i+1][r],m=o[i>a-3?a-1:i+2][r];if(h>0)1===h?ye(p,v,y,g,m,d,d*d,d*d*d):function(t,e,i,n,r,o,a,s){for(var h=e.length,l=e[0].length,u=0;u<h;u++){t[u]||(t[1]=[]);for(var c=0;c<l;c++)t[u][c]=pe(e[u][c],i[u][c],n[u][c],r[u][c],o,a,s)}}(p,v,y,g,m,d,d*d,d*d*d);else if(l)ye(p,v,y,g,m,d,d*d,d*d*d),n||(t[s]=ge(p));else{var _=void 0;_=this.interpolable?pe(v,y,g,m,d,d*d,d*d*d):g,n?this._additiveValue=_:t[s]=_}}else if(h>0)1===h?le(p,c[r],u[r],d):function(t,e,i,n){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=he(e[a][s],i[a][s],n)}}(p,c[r],u[r],d);else if(l)le(p,c[r],u[r],d),n||(t[s]=ge(p));else{_=void 0;_=this.interpolable?he(c[r],u[r],d):function(t,e,i){return i>.5?e:t}(c[r],u[r],d),n?this._additiveValue=_:t[s]=_}n&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,n=this._additiveValue;0===e?this.isValueColor?(ne(t[i],xe),ue(xe,xe,n,1),t[i]=ge(xe)):t[i]=t[i]+n:1===e?ue(t[i],t[i],n,1):2===e&&ce(t[i],t[i],n,1)},t}(),we=function(){function t(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?v("Can' use additive animation on looped animation."):this._additiveAnimators=i}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,T(e))},t.prototype.whenWithKeys=function(t,e,i){for(var n=this._tracks,r=0;r<i.length;r++){var o=i[r],a=n[o];if(!a){a=n[o]=new be(o);var s=void 0,h=this._getAdditiveTrack(o);if(h){var l=h.keyframes[h.keyframes.length-1];s=l&&l.value,h.isValueColor&&s&&(s=ge(s))}else s=this._target[o];if(null==s)continue;0!==t&&a.addKeyframe(0,ve(s)),this._trackKeys.push(o)}a.addKeyframe(t,ve(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var n=0;n<i.length;n++){var r=i[n].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,n=[],r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),h=a.keyframes;if(a.prepare(s),a.needsAnimate())n.push(a);else if(!a.interpolable){var l=h[h.length-1];l&&(i._target[a.propName]=l.value)}}if(n.length||e){var u=new Ht({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){i._started=2;var e=i._additiveAnimators;if(e){for(var r=!1,o=0;o<e.length;o++)if(e[o]._clip){r=!0;break}r||(i._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(i._target,t);var a=i._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](i._target,t)},ondestroy:function(){i._doneCallback()}});this._clip=u,this.animation&&this.animation.addClip(u),t&&"spline"!==t&&(u.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,n=this._trackKeys,r=0;r<t.length;r++){var o=i[t[r]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<n.length;r++)if(!i[n[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r&&!r.isFinished()){var o=r.keyframes,a=o[o.length-1];if(a){var s=ve(a.value);r.isValueColor&&(s=ge(s)),t[n]=s}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||T(t);for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,t[n]),r.prepare(r.getAdditiveTrack())}}}},t}(),ke=we,Se=function(t){function e(e){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,e=e||{},i.stage=e.stage||{},i.onframe=e.onframe||function(){},i}return N(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,i=t.next;e?e.next=i:this._clipsHead=i,i?i.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=(new Date).getTime()-this._pausedTime,i=e-this._time,n=this._clipsHead;n;){var r=n.next;n.step(e,i)?(n.ondestroy&&n.ondestroy(),this.removeClip(n),n=r):n=r}this._time=e,t||(this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Ot((function e(){t._running&&(Ot(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._clipsHead;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var i=new ke(t,e.loop);return this.addAnimator(i),i},e}(et),Me=Se,Ae=n.domSupported,Te=(_e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:me=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:A(me,(function(t){var e=t.replace("mouse","pointer");return _e.hasOwnProperty(e)?e:t}))}),Ce=["mousemove","mouseup"],ze=["pointermove","pointerup"],Pe=!1;function Le(t){var e=t.pointerType;return"pen"===e||"touch"===e}function De(t){t&&(t.zrByTouch=!0)}function Fe(t,e){for(var i=e,n=!1;i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot);)i=i.parentNode;return n}var Re=function(t,e){this.stopPropagation=O,this.stopImmediatePropagation=O,this.preventDefault=O,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Ee={mousedown:function(t){t=dt(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=dt(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=dt(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){Fe(this,(t=dt(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Pe=!0,t=dt(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Pe||(t=dt(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){De(t=dt(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Ee.mousemove.call(this,t),Ee.mousedown.call(this,t)},touchmove:function(t){De(t=dt(this.dom,t)),this.handler.processGesture(t,"change"),Ee.mousemove.call(this,t)},touchend:function(t){De(t=dt(this.dom,t)),this.handler.processGesture(t,"end"),Ee.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&Ee.click.call(this,t)},pointerdown:function(t){Ee.mousedown.call(this,t)},pointermove:function(t){Le(t)||Ee.mousemove.call(this,t)},pointerup:function(t){Ee.mouseup.call(this,t)},pointerout:function(t){Le(t)||Ee.mouseout.call(this,t)}};M(["click","dblclick","contextmenu"],(function(t){Ee[t]=function(e){e=dt(this.dom,e),this.trigger(t,e)}}));var Ie={pointermove:function(t){Le(t)||Ie.mousemove.call(this,t)},pointerup:function(t){Ie.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Oe(t,e){var i=e.domHandlers;n.pointerEventsSupported?M(Te.pointer,(function(n){Ne(e,n,(function(e){i[n].call(t,e)}))})):(n.touchEventsSupported&&M(Te.touch,(function(n){Ne(e,n,(function(r){i[n].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),M(Te.mouse,(function(n){Ne(e,n,(function(r){r=ft(r),e.touching||i[n].call(t,r)}))})))}function Be(t,e){function i(i){Ne(e,i,(function(n){n=ft(n),Fe(t,n.target)||(n=function(t,e){return dt(t.dom,new Re(t,e),!0)}(t,n),e.domHandlers[i].call(t,n))}),{capture:!0})}n.pointerEventsSupported?M(ze,i):n.touchEventsSupported||M(Ce,i)}function Ne(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,function(t,e,i,n){st?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}(t.domTarget,e,i,n)}function We(t){var e,i,n,r,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,i=a,n=o[a],r=t.listenerOpts[a],st?e.removeEventListener(i,n,r):e.detachEvent("on"+i,n));t.mounted={}}var He=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},je=function(t){function e(e,i){var n=t.call(this)||this;return n.__pointerCapturing=!1,n.dom=e,n.painterRoot=i,n._localHandlerScope=new He(e,Ee),Ae&&(n._globalHandlerScope=new He(document,Ie)),Oe(n,n._localHandlerScope),n}return N(e,t),e.prototype.dispose=function(){We(this._localHandlerScope),Ae&&We(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Ae&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Be(this,e):We(e)}},e}(et),Ye=1;"undefined"!=typeof window&&(Ye=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Xe=Ye,Ue="#333",Ve="#ccc";function Ge(t,e,i){var n=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],h=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=h,t}function Ze(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}var qe=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},Ke=5e-5;function Qe(t){return t>Ke||t<-5e-5}var $e,Je,ti=[],ei=[],ii=[1,0,0,1,0,0],ni=Math.abs,ri=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return Qe(this.rotation)||Qe(this.x)||Qe(this.y)||Qe(this.scaleX-1)||Qe(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;e||t?(i=i||[1,0,0,1,0,0],e?this.getLocalTransform(i):qe(i),t&&(e?Ge(i,t,i):function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&qe(i)},t.prototype._resolveGlobalScaleRatio=function(t){var e,i,n,r,o,a,s,h,l,u=this.globalScaleRatio;if(null!=u&&1!==u){this.getGlobalScale(ti);var c=ti[0]<0?-1:1,f=ti[1]<0?-1:1,d=((ti[0]-c)*u+c)/ti[0]||0,p=((ti[1]-f)*u+f)/ti[1]||0;t[0]*=d,t[1]*=d,t[2]*=p,t[3]*=p}this.invTransform=this.invTransform||[1,0,0,1,0,0],e=this.invTransform,n=(i=t)[0],r=i[2],o=i[4],a=i[1],s=i[3],h=i[5],(l=n*s-a*r)&&(l=1/l,e[0]=s*l,e[1]=-a*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*h-s*o)*l,e[5]=(a*o-n*h)*l)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=Math.atan2(t[1],t[0]),r=Math.PI/2+n-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(r),e=Math.sqrt(e),this.skewX=r,this.skewY=0,this.rotation=-n,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Ge(ei,t.invTransform,e),e=ei);var i=this.originX,n=this.originY;(i||n)&&(ii[4]=i,ii[5]=n,Ge(ei,e,ii),ei[4]-=i,ei[5]-=n,e=ei),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&Z(i,i,n),i},t.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&Z(i,i,n),i},t.prototype.getLineScale=function(){var t=this.transform;return t&&ni(t[0]-1)>1e-10&&ni(t[3]-1)>1e-10?Math.sqrt(ni(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){for(var e=0;e<oi.length;e++){var i=oi[e];this[i]=t[i]}},t.getLocalTransform=function(t,e){e=e||[];var i,n,r,o,a,s,h,l,u,c,f,d=t.originX||0,p=t.originY||0,y=t.scaleX,v=t.scaleY,g=t.rotation||0,m=t.x,_=t.y,x=t.skewX?Math.tan(t.skewX):0,b=t.skewY?Math.tan(-t.skewY):0;return d||p?(e[4]=-d*y-x*p*v,e[5]=-p*v-b*d*y):e[4]=e[5]=0,e[0]=y,e[3]=v,e[1]=b*y,e[2]=x*v,g&&(i=e,r=g,o=(n=e)[0],a=n[2],s=n[4],h=n[1],l=n[3],u=n[5],c=Math.sin(r),f=Math.cos(r),i[0]=o*f+h*c,i[1]=-o*c+h*f,i[2]=a*f+l*c,i[3]=-a*c+f*l,i[4]=f*s+c*u,i[5]=f*u-c*s),e[4]+=d+m,e[5]+=p+_,e},t.initDefaultProps=((e=t.prototype).x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.skewX=0,e.skewY=0,e.rotation=0,void(e.globalScaleRatio=1)),t}(),oi=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"],ai=ri,si=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,i){t.x=e,t.y=i},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},t.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},t.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},t.scaleAndAdd=function(t,e,i,n){t.x=e.x+i.x*n,t.y=e.y+i.y*n},t.lerp=function(t,e,i,n){var r=1-n;t.x=r*e.x+n*i.x,t.y=r*e.y+n*i.y},t}(),hi=si,li=Math.min,ui=Math.max,ci=new hi,fi=new hi,di=new hi,pi=new hi,yi=new hi,vi=new hi,gi=function(){function t(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.union=function(t){var e=li(t.x,this.x),i=li(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ui(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=ui(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=e,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,n=t.height/e.height,r=[1,0,0,1,0,0];return Ze(r,r,[-e.x,-e.y]),function(t,e,i){var n=i[0],r=i[1];t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r}(r,r,[i,n]),Ze(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,i){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,r=n.x,o=n.x+n.width,a=n.y,s=n.y+n.height,h=e.x,l=e.x+e.width,u=e.y,c=e.y+e.height,f=!(o<h||l<r||s<u||c<a);if(i){var d=1/0,p=0,y=Math.abs(o-h),v=Math.abs(l-r),g=Math.abs(s-u),m=Math.abs(c-a),_=Math.min(y,v),x=Math.min(g,m);o<h||l<r?_>p&&(p=_,y<v?hi.set(vi,-y,0):hi.set(vi,v,0)):_<d&&(d=_,y<v?hi.set(yi,y,0):hi.set(yi,-v,0)),s<u||c<a?x>p&&(p=x,g<m?hi.set(vi,0,-g):hi.set(vi,0,m)):_<d&&(d=_,g<m?hi.set(yi,0,g):hi.set(yi,0,-m))}return i&&hi.copy(i,f?yi:vi),f},t.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,i,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],o=n[3],a=n[4],s=n[5];return e.x=i.x*r+a,e.y=i.y*o+s,e.width=i.width*r,e.height=i.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}ci.x=di.x=i.x,ci.y=pi.y=i.y,fi.x=pi.x=i.x+i.width,fi.y=di.y=i.y+i.height,ci.transform(n),pi.transform(n),fi.transform(n),di.transform(n),e.x=li(ci.x,fi.x,di.x,pi.x),e.y=li(ci.y,fi.y,di.y,pi.y);var h=ui(ci.x,fi.x,di.x,pi.x),l=ui(ci.y,fi.y,di.y,pi.y);e.width=h-e.x,e.height=l-e.y}else e!==i&&t.copy(e,i)},t}(),mi=gi,_i={},xi="12px sans-serif";var bi={measureText:function(t,e){return $e||($e=b().getContext("2d")),Je!==e&&(Je=$e.font=e||xi),$e.measureText(t)}};function wi(t,e){var i=_i[e=e||xi];i||(i=_i[e]=new Ut(500));var n=i.get(t);return null==n&&(n=bi.measureText(t,e).width,i.put(t,n)),n}function ki(t,e,i,n){var r=wi(t,e),o=Ai(e),a=Si(0,r,i),s=Mi(0,o,n);return new mi(a,s,r,o)}function Si(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function Mi(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function Ai(t){return wi("国",t)}function Ti(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var Ci="__zr_normal__",zi=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Pi={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Li={},Di=new mi(0,0,0,0),Fi=function(){function t(t){this.id=y(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,n=i.local,r=e.innerTransformable,o=void 0,a=void 0,s=!1;r.parent=n?this:null;var h=!1;if(r.copyTransform(e),null!=i.position){var l=Di;i.layoutRect?l.copy(i.layoutRect):l.copy(this.getBoundingRect()),n||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Li,i,l):function(t,e,i){var n=e.position||"inside",r=null!=e.distance?e.distance:5,o=i.height,a=i.width,s=o/2,h=i.x,l=i.y,u="left",c="top";if(n instanceof Array)h+=Ti(n[0],i.width),l+=Ti(n[1],i.height),u=null,c=null;else switch(n){case"left":h-=r,l+=s,u="right",c="middle";break;case"right":h+=r+a,l+=s,c="middle";break;case"top":h+=a/2,l-=r,u="center",c="bottom";break;case"bottom":h+=a/2,l+=o+r,u="center";break;case"inside":h+=a/2,l+=s,u="center",c="middle";break;case"insideLeft":h+=r,l+=s,c="middle";break;case"insideRight":h+=a-r,l+=s,u="right",c="middle";break;case"insideTop":h+=a/2,l+=r,u="center";break;case"insideBottom":h+=a/2,l+=o-r,u="center",c="bottom";break;case"insideTopLeft":h+=r,l+=r;break;case"insideTopRight":h+=a-r,l+=r,u="right";break;case"insideBottomLeft":h+=r,l+=o-r,c="bottom";break;case"insideBottomRight":h+=a-r,l+=o-r,u="right",c="bottom"}(t=t||{}).x=h,t.y=l,t.align=u,t.verticalAlign=c}(Li,i,l),r.x=Li.x,r.y=Li.y,o=Li.align,a=Li.verticalAlign;var u=i.origin;if(u&&null!=i.rotation){var c=void 0,f=void 0;"center"===u?(c=.5*l.width,f=.5*l.height):(c=Ti(u[0],l.width),f=Ti(u[1],l.height)),h=!0,r.originX=-r.x+c+(n?0:l.x),r.originY=-r.y+f+(n?0:l.y)}}null!=i.rotation&&(r.rotation=i.rotation);var d=i.offset;d&&(r.x+=d[0],r.y+=d[1],h||(r.originX=-d[0],r.originY=-d[1]));var p=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,g=void 0,m=void 0;p&&this.canBeInsideText()?(v=i.insideFill,g=i.insideStroke,null!=v&&"auto"!==v||(v=this.getInsideTextFill()),null!=g&&"auto"!==g||(g=this.getInsideTextStroke(v),m=!0)):(v=i.outsideFill,g=i.outsideStroke,null!=v&&"auto"!==v||(v=this.getOutsideFill()),null!=g&&"auto"!==g||(g=this.getOutsideStroke(v),m=!0)),(v=v||"#000")===y.fill&&g===y.stroke&&m===y.autoStroke&&o===y.align&&a===y.verticalAlign||(s=!0,y.fill=v,y.stroke=g,y.autoStroke=m,y.align=o,y.verticalAlign=a,e.setDefaultTextStyle(y)),e.__dirty|=1,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Ve:Ue},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&ne(e);i||(i=[255,255,255,1]);for(var n=i[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*n+(r?0:255)*(1-n);return i[3]=1,function(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}(i,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},_(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(P(t))for(var i=T(t),n=0;n<i.length;n++){var r=i[n];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var n=this.animators[i],r=n.__fromStateTransition;if(!r||r===Ci){var o=n.targetName,a=o?e[o]:e;n.saveFinalToTarget(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,zi)},t.prototype._savePrimaryToNormal=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(Ci,!1,t)},t.prototype.useState=function(t,e,i,n){var r=t===Ci;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(w(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||r){r||this.saveCurrentToNormalState(s);var h=!!(s&&s.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!i&&!this.__inHover&&a&&a.duration>0,a);var l=this._textContent,u=this._textGuide;return l&&l.useState(t,e,i,h),u&&u.useState(t,e,i,h),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),s}v("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,i){if(t.length){var n=[],r=this.currentStates,o=t.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(t[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var h=t[s],l=void 0;this.stateProxy&&(l=this.stateProxy(h,t)),l||(l=this.states[h]),l&&n.push(l)}var u=n[o-1],c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(n),d=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!e&&!this.__inHover&&d&&d.duration>0,d);var p=this._textContent,y=this._textGuide;p&&p.useStates(t,e,c),y&&y.useStates(t,e,c),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=w(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},t.prototype.replaceState=function(t,e,i){var n=this.currentStates.slice(),r=w(n,t),o=w(n,e)>=0;r>=0?o?n.splice(r,1):n[r]=e:i&&!o&&n.push(e),this.useStates(n)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,i={},n=0;n<t.length;n++){var r=t[n];_(i,r),r.textConfig&&_(e=e||{},r.textConfig)}return e&&(i.textConfig=e),i},t.prototype._applyStateObj=function(t,e,i,n,r,o){var a=!(e&&n);e&&e.textConfig?(this.textConfig=_({},n?this.textConfig:i.textConfig),_(this.textConfig,e.textConfig)):a&&i.textConfig&&(this.textConfig=i.textConfig);for(var s={},h=!1,l=0;l<zi.length;l++){var u=zi[l],c=r&&Pi[u];e&&null!=e[u]?c?(h=!0,s[u]=e[u]):this[u]=e[u]:a&&null!=i[u]&&(c?(h=!0,s[u]=i[u]):this[u]=i[u])}if(!r)for(l=0;l<this.animators.length;l++){var f=this.animators[l],d=f.targetName;f.__changeFinalValue(d?(e||i)[d]:e||i)}h&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new ai,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),_(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var n=new ke(i,e);return this.addAnimator(n,t),n}v('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var i=this.__zr,n=this;t.during((function(){n.updateDuringAnimation(e)})).done((function(){var e=n.animators,i=w(e,t);i>=0&&e.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var i=this.animators,n=i.length,r=[],o=0;o<n;o++){var a=i[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,i){Ri(this,t,e,i)},t.prototype.animateFrom=function(t,e,i){Ri(this,t,e,i,!0)},t.prototype._transitionState=function(t,e,i,n){for(var r=Ri(this,e,i,n),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=1;var i={};function r(t,e,n){i[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),i[t+e+n]=!0)}function o(t,i,n,o){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[n]},set:function(e){t[n]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){(r(t,n,o),this[i])||a(this,this[i]=[]);return this[i]},set:function(e){r(t,n,o),this[n]=e[0],this[o]=e[1],this[i]=e,a(this,e)}})}Object.defineProperty&&(!n.browser.ie||n.browser.version>8)&&(o("position","_legacyPos","x","y"),o("scale","_legacyScale","scaleX","scaleY"),o("origin","_legacyOrigin","originX","originY"))}(),t}();function Ri(t,e,i,n,r){var o=[];Oi(t,"",t,e,i=i||{},n,o,r);var a=o.length,s=!1,h=i.done,l=i.aborted,u=function(){s=!0,--a<=0&&(s?h&&h():l&&l())},c=function(){--a<=0&&(s?h&&h():l&&l())};a||h&&h(),o.length>0&&i.during&&o[0].during((function(t,e){i.during(e)}));for(var f=0;f<o.length;f++){var d=o[f];u&&d.done(u),c&&d.aborted(c),d.start(i.easing,i.force)}return o}function Ei(t,e,i){for(var n=0;n<i;n++)t[n]=e[n]}function Ii(t,e,i){if(S(e[i]))if(S(t[i])||(t[i]=[]),function(t){return!!o[a.call(t)]}(e[i])){var n=e[i].length;t[i].length!==n&&(t[i]=new e[i].constructor(n),Ei(t[i],e[i],n))}else{var r=e[i],s=t[i],h=r.length;if(function(t){return S(t[0])}(r))for(var l=r[0].length,u=0;u<h;u++)s[u]?Ei(s[u],r[u],l):s[u]=Array.prototype.slice.call(r[u]);else Ei(s,r,h);s.length=r.length}else t[i]=e[i]}function Oi(t,e,i,n,r,o,a,s){for(var h=[],l=[],u=T(n),c=r.duration,f=r.delay,d=r.additive,p=r.setToFinal,y=!P(o),v=0;v<u.length;v++){if(null!=i[C=u[v]]&&null!=n[C]&&(y||o[C]))if(P(n[C])&&!S(n[C])){if(e){s||(i[C]=n[C],t.updateDuringAnimation(e));continue}Oi(t,C,i[C],n[C],r,o&&o[C],a,s)}else h.push(C),l.push(C);else s||(i[C]=n[C],t.updateDuringAnimation(e),l.push(C))}var g=h.length;if(g>0||r.force&&!a.length){for(var m=t.animators,_=[],x=0;x<m.length;x++)m[x].targetName===e&&_.push(m[x]);if(!d&&_.length)for(x=0;x<_.length;x++){if(_[x].stopTracks(l)){var b=w(m,_[x]);m.splice(b,1)}}var k=void 0,M=void 0,A=void 0;if(s){M={},p&&(k={});for(x=0;x<g;x++){M[C=h[x]]=i[C],p?k[C]=n[C]:i[C]=n[C]}}else if(p){A={};for(x=0;x<g;x++){var C;A[C=h[x]]=ve(i[C]),Ii(i,n,C)}}var z=new ke(i,!1,d?_:null);z.targetName=e,r.scope&&(z.scope=r.scope),p&&k&&z.whenWithKeys(0,k,h),A&&z.whenWithKeys(0,A,h),z.whenWithKeys(null==c?500:c,s?M:n,h).delay(f||0),t.addAnimator(z,e),a.push(z)}}k(Fi,et),k(Fi,ai);var Bi=Fi,Ni=function(t){function e(e){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return N(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var i=w(this._children,t);return i>=0&&this.replaceAt(e,i),this},e.prototype.replaceAt=function(t,e){var i=this._children,n=i[e];if(t&&t!==this&&t.parent!==this&&t!==n){i[e]=t,n.parent=null;var r=this.__zr;r&&n.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,i=this._children,n=w(i,t);return n<0||(i.splice(n,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,i=0;i<t.length;i++){var n=t[i];e&&n.removeSelfFromZr(e),n.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var i=this._children,n=0;n<i.length;n++){var r=i[n];t.call(e,r,n)}return this},e.prototype.traverse=function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i],r=t.call(e,n);n.isGroup&&!r&&n.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++){this._children[i].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++){this._children[i].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new mi(0,0,0,0),i=t||this._children,n=[],r=null,o=0;o<i.length;o++){var a=i[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),h=a.getLocalTransform(n);h?(mi.applyTransform(e,s,h),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}}return r||e},e}(Bi);Ni.prototype.type="group";var Wi=Ni,Hi=!n.canvasSupported,ji={},Yi={};
/*!
    * ZRender, a high performance 2d drawing library.
    *
    * Copyright (c) 2013, Baidu Inc.
    * All rights reserved.
    *
    * LICENSE
    * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
    */var Xi=function(){function t(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new It,a=i.renderer||"canvas";if(Hi)throw new Error("IE8 support has been dropped since 5.0");if(ji[a]||(a=T(ji)[0]),!ji[a])throw new Error("Renderer '"+a+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new ji[a](e,o,i,t);this.storage=o,this.painter=s;var h=n.node||n.worker?null:new je(s.getViewportRoot(),s.root);this.handler=new At(o,s,h,s.root),this.animation=new Me({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return ae(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,i=0,n=e.length,r=0;r<n;r++)i+=ae(e[r].color,1);return(i/=n)<.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var n=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Wi&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(t){delete Yi[t]}(this.id)},t}();function Ui(t,e){var i=new Xi(y(),t,e);return Yi[i.id]=i,i}function Vi(t,e){ji[t]=e}var Gi="__zr_style_"+Math.round(10*Math.random()),Zi={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},qi={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Zi[Gi]=!0;var Ki=["z","z2","invisible"],Qi=["invisible"],$i=function(t){function e(e){return t.call(this,e)||this}var i;return N(e,t),e.prototype._init=function(e){for(var i=T(e),n=0;n<i.length;n++){var r=i[n];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,i,n){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,i){Ji.copy(t.getBoundingRect()),t.transform&&Ji.applyTransform(t.transform);return tn.width=e,tn.height=i,!Ji.intersect(tn)}(this,t,e)||r&&!r[0]&&!r[3])return!1;if(i&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(n&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,i=this.getBoundingRect(),n=this.style,r=n.shadowBlur||0,o=n.shadowOffsetX||0,a=n.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new mi(0,0,0,0)),e?mi.applyTransform(t,i,e):t.copy(i),(r||o||a)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+a-r));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new mi(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,i){"style"!==e?t.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:_(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return I(Zi,t)},e.prototype.useStyle=function(t){t[Gi]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[Gi]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,Ki)},e.prototype._applyStateObj=function(e,i,n,r,o,a){t.prototype._applyStateObj.call(this,e,i,n,r,o,a);var s,h=!(i&&r);if(i&&i.style?o?r?s=i.style:(s=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(s,i.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:n.style),this._mergeStyle(s,i.style)):h&&(s=n.style),s)if(o){var l=this.style;if(this.style=this.createStyle(h?{}:l),h)for(var u=T(l),c=0;c<u.length;c++){(d=u[c])in s&&(s[d]=s[d],this.style[d]=l[d])}var f=T(s);for(c=0;c<f.length;c++){var d=f[c];this.style[d]=this.style[d]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var p=this.__inHover?Qi:Ki;for(c=0;c<p.length;c++){d=p[c];i&&null!=i[d]?this[d]=i[d]:h&&null!=n[d]&&(this[d]=n[d])}},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,e){return _(t,e),t},e.prototype.getAnimationStyleProps=function(){return qi},e.initDefaultProps=((i=e.prototype).type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,void(i.__dirty=3)),e}(Bi),Ji=new mi(0,0,0,0),tn=new mi(0,0,0,0);var en=$i,nn=Math.pow,rn=Math.sqrt,on=1e-8,an=1e-4,sn=rn(3),hn=1/3,ln=W(),un=W(),cn=W();function fn(t){return t>-1e-8&&t<on}function dn(t){return t>on||t<-1e-8}function pn(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function yn(t,e,i,n,r){var o=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,s=3*e-3*t,h=0;if(fn(a)){if(dn(o))(u=-s/o)>=0&&u<=1&&(r[h++]=u)}else{var l=o*o-4*a*s;if(fn(l))r[0]=-o/(2*a);else if(l>0){var u,c=rn(l),f=(-o-c)/(2*a);(u=(-o+c)/(2*a))>=0&&u<=1&&(r[h++]=u),f>=0&&f<=1&&(r[h++]=f)}}return h}function vn(t,e,i,n,r,o){var a=(e-t)*r+t,s=(i-e)*r+e,h=(n-i)*r+i,l=(s-a)*r+a,u=(h-s)*r+s,c=(u-l)*r+l;o[0]=t,o[1]=a,o[2]=l,o[3]=c,o[4]=c,o[5]=u,o[6]=h,o[7]=n}function gn(t,e,i,n,r,o,a,s,h){for(var l=t,u=e,c=0,f=1/h,d=1;d<=h;d++){var p=d*f,y=pn(t,i,r,a,p),v=pn(e,n,o,s,p),g=y-l,m=v-u;c+=Math.sqrt(g*g+m*m),l=y,u=v}return c}function mn(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function _n(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function xn(t,e,i,n,r){var o=(e-t)*n+t,a=(i-e)*n+e,s=(a-o)*n+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=i}function bn(t,e,i,n,r,o,a){for(var s=t,h=e,l=0,u=1/a,c=1;c<=a;c++){var f=c*u,d=mn(t,i,r,f),p=mn(e,n,o,f),y=d-s,v=p-h;l+=Math.sqrt(y*y+v*v),s=d,h=p}return l}var wn=Math.min,kn=Math.max,Sn=Math.sin,Mn=Math.cos,An=2*Math.PI,Tn=W(),Cn=W(),zn=W();function Pn(t,e,i,n,r,o){r[0]=wn(t,i),r[1]=wn(e,n),o[0]=kn(t,i),o[1]=kn(e,n)}var Ln=[],Dn=[];function Fn(t,e,i,n,r,o,a,s,h,l){var u=yn,c=pn,f=u(t,i,r,a,Ln);h[0]=1/0,h[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var d=0;d<f;d++){var p=c(t,i,r,a,Ln[d]);h[0]=wn(p,h[0]),l[0]=kn(p,l[0])}f=u(e,n,o,s,Dn);for(d=0;d<f;d++){var y=c(e,n,o,s,Dn[d]);h[1]=wn(y,h[1]),l[1]=kn(y,l[1])}h[0]=wn(t,h[0]),l[0]=kn(t,l[0]),h[0]=wn(a,h[0]),l[0]=kn(a,l[0]),h[1]=wn(e,h[1]),l[1]=kn(e,l[1]),h[1]=wn(s,h[1]),l[1]=kn(s,l[1])}function Rn(t,e,i,n,r,o,a,s){var h=_n,l=mn,u=kn(wn(h(t,i,r),1),0),c=kn(wn(h(e,n,o),1),0),f=l(t,i,r,u),d=l(e,n,o,c);a[0]=wn(t,r,f),a[1]=wn(e,o,d),s[0]=kn(t,r,f),s[1]=kn(e,o,d)}function En(t,e,i,n,r,o,a,s,h){var l=q,u=K,c=Math.abs(r-o);if(c%An<1e-4&&c>1e-4)return s[0]=t-i,s[1]=e-n,h[0]=t+i,void(h[1]=e+n);if(Tn[0]=Mn(r)*i+t,Tn[1]=Sn(r)*n+e,Cn[0]=Mn(o)*i+t,Cn[1]=Sn(o)*n+e,l(s,Tn,Cn),u(h,Tn,Cn),(r%=An)<0&&(r+=An),(o%=An)<0&&(o+=An),r>o&&!a?o+=An:r<o&&a&&(r+=An),a){var f=o;o=r,r=f}for(var d=0;d<o;d+=Math.PI/2)d>r&&(zn[0]=Mn(d)*i+t,zn[1]=Sn(d)*n+e,l(s,zn,s),u(h,zn,h))}var In={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},On=[],Bn=[],Nn=[],Wn=[],Hn=[],jn=[],Yn=Math.min,Xn=Math.max,Un=Math.cos,Vn=Math.sin,Gn=Math.sqrt,Zn=Math.abs,qn=Math.PI,Kn=2*qn,Qn="undefined"!=typeof Float32Array,$n=[];function Jn(t){return Math.round(t/qn*1e8)/1e8%2*qn}function tr(t,e){var i=Jn(t[0]);i<0&&(i+=Kn);var n=i-t[0],r=t[1];r+=n,!e&&r-i>=Kn?r=i+Kn:e&&i-r>=Kn?r=i-Kn:!e&&i>r?r=i+(Kn-Jn(i-r)):e&&i<r&&(r=i-(Kn-Jn(r-i))),t[0]=i,t[1]=r}var er=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=Zn(i/Xe/t)||0,this._uy=Zn(i/Xe/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(In.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var i=Zn(t-this._xi),n=Zn(e-this._yi),r=i>this._ux||n>this._uy;if(this.addData(In.L,t,e),this._ctx&&r&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),r)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=i*i+n*n;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){return this._drawPendingPt(),this.addData(In.C,t,e,i,n,r,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,i,n){return this._drawPendingPt(),this.addData(In.Q,t,e,i,n),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},t.prototype.arc=function(t,e,i,n,r,o){this._drawPendingPt(),$n[0]=n,$n[1]=r,tr($n,o),n=$n[0];var a=(r=$n[1])-n;return this.addData(In.A,t,e,i,i,n,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=Un(r)*i+t,this._yi=Vn(r)*i+e,this},t.prototype.arcTo=function(t,e,i,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},t.prototype.rect=function(t,e,i,n){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,n),this.addData(In.R,t,e,i,n),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(In.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Qn||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();Qn&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[n++]=o[a];this._len=n},t.prototype.addData=function(t,e,i,n,r,o,a,s,h){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var u=0;u<arguments.length;u++)l[this._len++]=arguments[u]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var i,n,r=this._dashSum,o=this._lineDash,a=this._ctx,s=this._dashOffset,h=this._xi,l=this._yi,u=t-h,c=e-l,f=Gn(u*u+c*c),d=h,p=l,y=o.length;for(s<0&&(s=r+s),d-=(s%=r)*(u/=f),p-=s*(c/=f);u>0&&d<=t||u<0&&d>=t||0===u&&(c>0&&p<=e||c<0&&p>=e);)d+=u*(i=o[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%y,u>0&&d<h||u<0&&d>h||c>0&&p<l||c<0&&p>l||a[n%2?"moveTo":"lineTo"](u>=0?Yn(d,t):Xn(d,t),c>=0?Yn(p,e):Xn(p,e));u=d-t,c=p-e,this._dashOffset=-Gn(u*u+c*c)},t.prototype._dashedBezierTo=function(t,e,i,n,r,o){var a,s,h,l,u,c=this._ctx,f=this._dashSum,d=this._dashOffset,p=this._lineDash,y=this._xi,v=this._yi,g=0,m=this._dashIdx,_=p.length,x=0;for(d<0&&(d=f+d),d%=f,a=0;a<1;a+=.1)s=pn(y,t,i,r,a+.1)-pn(y,t,i,r,a),h=pn(v,e,n,o,a+.1)-pn(v,e,n,o,a),g+=Gn(s*s+h*h);for(;m<_&&!((x+=p[m])>d);m++);for(a=(x-d)/g;a<=1;)l=pn(y,t,i,r,a),u=pn(v,e,n,o,a),m%2?c.moveTo(l,u):c.lineTo(l,u),a+=p[m]/g,m=(m+1)%_;m%2!=0&&c.lineTo(r,o),s=r-l,h=o-u,this._dashOffset=-Gn(s*s+h*h)},t.prototype._dashedQuadraticTo=function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,r,o)},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Qn&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){Nn[0]=Nn[1]=Hn[0]=Hn[1]=Number.MAX_VALUE,Wn[0]=Wn[1]=jn[0]=jn[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,n=0,r=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(r=i=e[t],o=n=e[t+1]),a){case In.M:i=r=e[t++],n=o=e[t++],Hn[0]=r,Hn[1]=o,jn[0]=r,jn[1]=o;break;case In.L:Pn(i,n,e[t],e[t+1],Hn,jn),i=e[t++],n=e[t++];break;case In.C:Fn(i,n,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Hn,jn),i=e[t++],n=e[t++];break;case In.Q:Rn(i,n,e[t++],e[t++],e[t],e[t+1],Hn,jn),i=e[t++],n=e[t++];break;case In.A:var h=e[t++],l=e[t++],u=e[t++],c=e[t++],f=e[t++],d=e[t++]+f;t+=1;var p=!e[t++];s&&(r=Un(f)*u+h,o=Vn(f)*c+l),En(h,l,u,c,f,d,p,Hn,jn),i=Un(d)*u+h,n=Vn(d)*c+l;break;case In.R:Pn(r=i=e[t++],o=n=e[t++],r+e[t++],o+e[t++],Hn,jn);break;case In.Z:i=r,n=o}q(Nn,Nn,Hn),K(Wn,Wn,jn)}return 0===t&&(Nn[0]=Nn[1]=Wn[0]=Wn[1]=0),new mi(Nn[0],Nn[1],Wn[0]-Nn[0],Wn[1]-Nn[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,n=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,l=0,u=0,c=0;c<e;){var f=t[c++],d=1===c;d&&(a=r=t[c],s=o=t[c+1]);var p=-1;switch(f){case In.M:r=a=t[c++],o=s=t[c++];break;case In.L:var y=t[c++],v=(_=t[c++])-o;(Zn(z=y-r)>i||Zn(v)>n||c===e-1)&&(p=Math.sqrt(z*z+v*v),r=y,o=_);break;case In.C:var g=t[c++],m=t[c++],_=(y=t[c++],t[c++]),x=t[c++],b=t[c++];p=gn(r,o,g,m,y,_,x,b,10),r=x,o=b;break;case In.Q:p=bn(r,o,g=t[c++],m=t[c++],y=t[c++],_=t[c++],10),r=y,o=_;break;case In.A:var w=t[c++],k=t[c++],S=t[c++],M=t[c++],A=t[c++],T=t[c++],C=T+A;c+=1,t[c++],d&&(a=Un(A)*S+w,s=Vn(A)*M+k),p=Xn(S,M)*Yn(Kn,Math.abs(T)),r=Un(C)*S+w,o=Vn(C)*M+k;break;case In.R:a=r=t[c++],s=o=t[c++],p=2*t[c++]+2*t[c++];break;case In.Z:var z=a-r;v=s-o;p=Math.sqrt(z*z+v*v),r=a,o=s}p>=0&&(h[u++]=p,l+=p)}return this._pathLen=l,l},t.prototype.rebuildPath=function(t,e){var i,n,r,o,a,s,h,l,u,c,f=this.data,d=this._ux,p=this._uy,y=this._len,v=e<1,g=0,m=0,_=0;if(!v||(this._pathSegLen||this._calculateLength(),h=this._pathSegLen,l=e*this._pathLen))t:for(var x=0;x<y;){var b=f[x++],w=1===x;switch(w&&(i=r=f[x],n=o=f[x+1]),b!==In.L&&_>0&&(t.lineTo(u,c),_=0),b){case In.M:i=r=f[x++],n=o=f[x++],t.moveTo(r,o);break;case In.L:a=f[x++],s=f[x++];var k=Zn(a-r),S=Zn(s-o);if(k>d||S>p){if(v){if(g+(Z=h[m++])>l){var M=(l-g)/Z;t.lineTo(r*(1-M)+a*M,o*(1-M)+s*M);break t}g+=Z}t.lineTo(a,s),r=a,o=s,_=0}else{var A=k*k+S*S;A>_&&(u=a,c=s,_=A)}break;case In.C:var T=f[x++],C=f[x++],z=f[x++],P=f[x++],L=f[x++],D=f[x++];if(v){if(g+(Z=h[m++])>l){vn(r,T,z,L,M=(l-g)/Z,On),vn(o,C,P,D,M,Bn),t.bezierCurveTo(On[1],Bn[1],On[2],Bn[2],On[3],Bn[3]);break t}g+=Z}t.bezierCurveTo(T,C,z,P,L,D),r=L,o=D;break;case In.Q:T=f[x++],C=f[x++],z=f[x++],P=f[x++];if(v){if(g+(Z=h[m++])>l){xn(r,T,z,M=(l-g)/Z,On),xn(o,C,P,M,Bn),t.quadraticCurveTo(On[1],Bn[1],On[2],Bn[2]);break t}g+=Z}t.quadraticCurveTo(T,C,z,P),r=z,o=P;break;case In.A:var F=f[x++],R=f[x++],E=f[x++],I=f[x++],O=f[x++],B=f[x++],N=f[x++],W=!f[x++],H=E>I?E:I,j=Zn(E-I)>.001,Y=O+B,X=!1;if(v)g+(Z=h[m++])>l&&(Y=O+B*(l-g)/Z,X=!0),g+=Z;if(j&&t.ellipse?t.ellipse(F,R,E,I,N,O,Y,W):t.arc(F,R,H,O,Y,W),X)break t;w&&(i=Un(O)*E+F,n=Vn(O)*I+R),r=Un(Y)*E+F,o=Vn(Y)*I+R;break;case In.R:i=r=f[x],n=o=f[x+1],a=f[x++],s=f[x++];var U=f[x++],V=f[x++];if(v){if(g+(Z=h[m++])>l){var G=l-g;t.moveTo(a,s),t.lineTo(a+Yn(G,U),s),(G-=U)>0&&t.lineTo(a+U,s+Yn(G,V)),(G-=V)>0&&t.lineTo(a+Xn(U-G,0),s+V),(G-=U)>0&&t.lineTo(a,s+Xn(V-G,0));break t}g+=Z}t.rect(a,s,U,V);break;case In.Z:if(v){var Z;if(g+(Z=h[m++])>l){M=(l-g)/Z;t.lineTo(r*(1-M)+i*M,o*(1-M)+n*M);break t}g+=Z}t.closePath(),r=i,o=n}}},t.prototype.clone=function(){var e=new t,i=this.data;return e.data=i.slice?i.slice():Array.prototype.slice.call(i),e._len=this._len,e},t.CMD=In,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}(),ir=er;function nr(t,e,i,n,r,o,a){if(0===r)return!1;var s=r,h=0;if(a>e+s&&a>n+s||a<e-s&&a<n-s||o>t+s&&o>i+s||o<t-s&&o<i-s)return!1;if(t===i)return Math.abs(o-t)<=s/2;var l=(h=(e-n)/(t-i))*o-a+(t*n-i*e)/(t-i);return l*l/(h*h+1)<=s/2*s/2}function rr(t,e,i,n,r,o,a,s,h,l,u){if(0===h)return!1;var c=h;if(u>e+c&&u>n+c&&u>o+c&&u>s+c||u<e-c&&u<n-c&&u<o-c&&u<s-c||l>t+c&&l>i+c&&l>r+c&&l>a+c||l<t-c&&l<i-c&&l<r-c&&l<a-c)return!1;var f=function(t,e,i,n,r,o,a,s,h,l,u){var c,f,d,p,y,v=.005,g=1/0;ln[0]=h,ln[1]=l;for(var m=0;m<1;m+=.05)un[0]=pn(t,i,r,a,m),un[1]=pn(e,n,o,s,m),(p=G(ln,un))<g&&(c=m,g=p);g=1/0;for(var _=0;_<32&&!(v<an);_++)f=c-v,d=c+v,un[0]=pn(t,i,r,a,f),un[1]=pn(e,n,o,s,f),p=G(un,ln),f>=0&&p<g?(c=f,g=p):(cn[0]=pn(t,i,r,a,d),cn[1]=pn(e,n,o,s,d),y=G(cn,ln),d<=1&&y<g?(c=d,g=y):v*=.5);return u&&(u[0]=pn(t,i,r,a,c),u[1]=pn(e,n,o,s,c)),rn(g)}(t,e,i,n,r,o,a,s,l,u,null);return f<=c/2}function or(t,e,i,n,r,o,a,s,h){if(0===a)return!1;var l=a;if(h>e+l&&h>n+l&&h>o+l||h<e-l&&h<n-l&&h<o-l||s>t+l&&s>i+l&&s>r+l||s<t-l&&s<i-l&&s<r-l)return!1;var u=function(t,e,i,n,r,o,a,s,h){var l,u=.005,c=1/0;ln[0]=a,ln[1]=s;for(var f=0;f<1;f+=.05)un[0]=mn(t,i,r,f),un[1]=mn(e,n,o,f),(v=G(ln,un))<c&&(l=f,c=v);c=1/0;for(var d=0;d<32&&!(u<an);d++){var p=l-u,y=l+u;un[0]=mn(t,i,r,p),un[1]=mn(e,n,o,p);var v=G(un,ln);if(p>=0&&v<c)l=p,c=v;else{cn[0]=mn(t,i,r,y),cn[1]=mn(e,n,o,y);var g=G(cn,ln);y<=1&&g<c?(l=y,c=g):u*=.5}}return h&&(h[0]=mn(t,i,r,l),h[1]=mn(e,n,o,l)),rn(c)}(t,e,i,n,r,o,s,h,null);return u<=l/2}var ar=2*Math.PI;function sr(t){return(t%=ar)<0&&(t+=ar),t}var hr=2*Math.PI;function lr(t,e,i,n,r,o,a,s,h){if(0===a)return!1;var l=a;s-=t,h-=e;var u=Math.sqrt(s*s+h*h);if(u-l>i||u+l<i)return!1;if(Math.abs(n-r)%hr<1e-4)return!0;if(o){var c=n;n=sr(r),r=sr(c)}else n=sr(n),r=sr(r);n>r&&(r+=hr);var f=Math.atan2(h,s);return f<0&&(f+=hr),f>=n&&f<=r||f+hr>=n&&f+hr<=r}function ur(t,e,i,n,r,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var a=(o-e)/(n-e),s=n<e?1:-1;1!==a&&0!==a||(s=n<e?.5:-.5);var h=a*(i-t)+t;return h===r?1/0:h>r?s:0}var cr=ir.CMD,fr=2*Math.PI;var dr=[-1,-1,-1],pr=[-1,-1];function yr(t,e,i,n,r,o,a,s,h,l){if(l>e&&l>n&&l>o&&l>s||l<e&&l<n&&l<o&&l<s)return 0;var u,c=function(t,e,i,n,r,o){var a=n+3*(e-i)-t,s=3*(i-2*e+t),h=3*(e-t),l=t-r,u=s*s-3*a*h,c=s*h-9*a*l,f=h*h-3*s*l,d=0;if(fn(u)&&fn(c))fn(s)?o[0]=0:(S=-h/s)>=0&&S<=1&&(o[d++]=S);else{var p=c*c-4*u*f;if(fn(p)){var y=c/u,v=-y/2;(S=-s/a+y)>=0&&S<=1&&(o[d++]=S),v>=0&&v<=1&&(o[d++]=v)}else if(p>0){var g=rn(p),m=u*s+1.5*a*(-c+g),_=u*s+1.5*a*(-c-g);(S=(-s-((m=m<0?-nn(-m,hn):nn(m,hn))+(_=_<0?-nn(-_,hn):nn(_,hn))))/(3*a))>=0&&S<=1&&(o[d++]=S)}else{var x=(2*u*s-3*a*c)/(2*rn(u*u*u)),b=Math.acos(x)/3,w=rn(u),k=Math.cos(b),S=(-s-2*w*k)/(3*a),M=(v=(-s+w*(k+sn*Math.sin(b)))/(3*a),(-s+w*(k-sn*Math.sin(b)))/(3*a));S>=0&&S<=1&&(o[d++]=S),v>=0&&v<=1&&(o[d++]=v),M>=0&&M<=1&&(o[d++]=M)}}return d}(e,n,o,s,l,dr);if(0===c)return 0;for(var f=0,d=-1,p=void 0,y=void 0,v=0;v<c;v++){var g=dr[v],m=0===g||1===g?.5:1;pn(t,i,r,a,g)<h||(d<0&&(d=yn(e,n,o,s,pr),pr[1]<pr[0]&&d>1&&(u=void 0,u=pr[0],pr[0]=pr[1],pr[1]=u),p=pn(e,n,o,s,pr[0]),d>1&&(y=pn(e,n,o,s,pr[1]))),2===d?g<pr[0]?f+=p<e?m:-m:g<pr[1]?f+=y<p?m:-m:f+=s<y?m:-m:g<pr[0]?f+=p<e?m:-m:f+=s<p?m:-m)}return f}function vr(t,e,i,n,r,o,a,s){if(s>e&&s>n&&s>o||s<e&&s<n&&s<o)return 0;var h=function(t,e,i,n,r){var o=t-2*e+i,a=2*(e-t),s=t-n,h=0;if(fn(o))dn(a)&&(u=-s/a)>=0&&u<=1&&(r[h++]=u);else{var l=a*a-4*o*s;if(fn(l))(u=-a/(2*o))>=0&&u<=1&&(r[h++]=u);else if(l>0){var u,c=rn(l),f=(-a-c)/(2*o);(u=(-a+c)/(2*o))>=0&&u<=1&&(r[h++]=u),f>=0&&f<=1&&(r[h++]=f)}}return h}(e,n,o,s,dr);if(0===h)return 0;var l=_n(e,n,o);if(l>=0&&l<=1){for(var u=0,c=mn(e,n,o,l),f=0;f<h;f++){var d=0===dr[f]||1===dr[f]?.5:1;mn(t,i,r,dr[f])<a||(dr[f]<l?u+=c<e?d:-d:u+=o<c?d:-d)}return u}d=0===dr[0]||1===dr[0]?.5:1;return mn(t,i,r,dr[0])<a?0:o<e?d:-d}function gr(t,e,i,n,r,o,a,s){if((s-=e)>i||s<-i)return 0;var h=Math.sqrt(i*i-s*s);dr[0]=-h,dr[1]=h;var l=Math.abs(n-r);if(l<1e-4)return 0;if(l>=fr-1e-4){n=0,r=fr;var u=o?1:-1;return a>=dr[0]+t&&a<=dr[1]+t?u:0}if(n>r){var c=n;n=r,r=c}n<0&&(n+=fr,r+=fr);for(var f=0,d=0;d<2;d++){var p=dr[d];if(p+t>a){var y=Math.atan2(s,p);u=o?1:-1;y<0&&(y=fr+y),(y>=n&&y<=r||y+fr>=n&&y+fr<=r)&&(y>Math.PI/2&&y<1.5*Math.PI&&(u=-u),f+=u)}}return f}function mr(t,e,i,n,r){for(var o,a,s,h,l=t.data,u=t.len(),c=0,f=0,d=0,p=0,y=0,v=0;v<u;){var g=l[v++],m=1===v;switch(g===cr.M&&v>1&&(i||(c+=ur(f,d,p,y,n,r))),m&&(p=f=l[v],y=d=l[v+1]),g){case cr.M:f=p=l[v++],d=y=l[v++];break;case cr.L:if(i){if(nr(f,d,l[v],l[v+1],e,n,r))return!0}else c+=ur(f,d,l[v],l[v+1],n,r)||0;f=l[v++],d=l[v++];break;case cr.C:if(i){if(rr(f,d,l[v++],l[v++],l[v++],l[v++],l[v],l[v+1],e,n,r))return!0}else c+=yr(f,d,l[v++],l[v++],l[v++],l[v++],l[v],l[v+1],n,r)||0;f=l[v++],d=l[v++];break;case cr.Q:if(i){if(or(f,d,l[v++],l[v++],l[v],l[v+1],e,n,r))return!0}else c+=vr(f,d,l[v++],l[v++],l[v],l[v+1],n,r)||0;f=l[v++],d=l[v++];break;case cr.A:var _=l[v++],x=l[v++],b=l[v++],w=l[v++],k=l[v++],S=l[v++];v+=1;var M=!!(1-l[v++]);o=Math.cos(k)*b+_,a=Math.sin(k)*w+x,m?(p=o,y=a):c+=ur(f,d,o,a,n,r);var A=(n-_)*w/b+_;if(i){if(lr(_,x,w,k,k+S,M,e,A,r))return!0}else c+=gr(_,x,w,k,k+S,M,A,r);f=Math.cos(k+S)*b+_,d=Math.sin(k+S)*w+x;break;case cr.R:if(p=f=l[v++],y=d=l[v++],o=p+l[v++],a=y+l[v++],i){if(nr(p,y,o,y,e,n,r)||nr(o,y,o,a,e,n,r)||nr(o,a,p,a,e,n,r)||nr(p,a,p,y,e,n,r))return!0}else c+=ur(o,y,o,a,n,r),c+=ur(p,a,p,y,n,r);break;case cr.Z:if(i){if(nr(f,d,p,y,e,n,r))return!0}else c+=ur(f,d,p,y,n,r);f=p,d=y}}return i||(s=d,h=y,Math.abs(s-h)<1e-4)||(c+=ur(f,d,p,y,n,r)||0),0!==c}var _r=x({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Zi),xr={style:x({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},qi.style)},br=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],wr=function(t){function e(e){return t.call(this,e)||this}var i;return N(e,t),e.prototype.update=function(){var i=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){i.buildPath(t,i.shape)}),r.silent=!0;var o=r.style;for(var a in n)o[a]!==n[a]&&(o[a]=n[a]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var s=0;s<br.length;++s)r[br[s]]=this[br[s]];r.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var i=T(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var r=0;r<i.length;r++){var o=i[r],a=e[o];"style"===o?this.style?_(this.style,a):this.useStyle(a):"shape"===o?_(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(z(t)){var e=ae(t,0);return e>.5?Ue:e>.2?"#eee":Ve}if(t)return Ve}return Ue},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(z(e)){var i=this.__zr;if(!(!i||!i.isDarkMode())===ae(t,0)<.4)return e}},e.prototype.buildPath=function(t,e,i){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new ir(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,i=!t;if(i){var n=!1;this.path||(n=!0,this.createPathProxy());var r=this.path;(n||4&this.__dirty)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var h=this.strokeContainThreshold;s=Math.max(s,null==h?4:h)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,i,n){return mr(t,e,!0,i,n)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,i){return mr(t,0,!1,e,i)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,i){"shape"===e?this.setShape(i):t.prototype.attrKV.call(this,e,i)},e.prototype.setShape=function(t,e){var i=this.shape;return i||(i=this.shape={}),"string"==typeof t?i[t]=e:_(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(t){return I(_r,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=_({},this.shape))},e.prototype._applyStateObj=function(e,i,n,r,o,a){t.prototype._applyStateObj.call(this,e,i,n,r,o,a);var s,h=!(i&&r);if(i&&i.shape?o?r?s=i.shape:(s=_({},n.shape),_(s,i.shape)):(s=_({},r?this.shape:n.shape),_(s,i.shape)):h&&(s=n.shape),s)if(o){this.shape=_({},this.shape);for(var l={},u=T(s),c=0;c<u.length;c++){var f=u[c];"object"==typeof s[f]?this.shape[f]=s[f]:l[f]=s[f]}this._transitionState(e,{shape:l},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return xr},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(i){var n=e.call(this,i)||this;return t.init&&t.init.call(n,i),n}return N(i,e),i.prototype.getDefaultStyle=function(){return g(t.style)},i.prototype.getDefaultShape=function(){return g(t.shape)},i}(e);for(var n in t)"function"==typeof t[n]&&(i.prototype[n]=t[n]);return i},e.initDefaultProps=((i=e.prototype).type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,void(i.__dirty=7)),e}(en),kr=wr,Sr=x({x:0,y:0},Zi),Mr={style:x({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},qi.style)};var Ar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.createStyle=function(t){return I(Sr,t)},e.prototype._getSize=function(t){var e=this.style,i=e[t];if(null!=i)return i;var n,r=(n=e.image)&&"string"!=typeof n&&n.width&&n.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Mr},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new mi(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(en);Ar.prototype.type="image";var Tr=Ar,Cr=function(){this.cx=0,this.cy=0,this.r=0},zr=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.getDefaultShape=function(){return new Cr},e.prototype.buildPath=function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(kr);zr.prototype.type="circle";var Pr=zr;var Lr=Math.round;function Dr(t,e,i){if(!e)return t;var n=Lr(2*t);return(n+Lr(e))%2==0?n/2:(n+(i?1:-1))/2}var Fr=function(){this.x=0,this.y=0,this.width=0,this.height=0},Rr={},Er=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.getDefaultShape=function(){return new Fr},e.prototype.buildPath=function(t,e){var i,n,r,o;if(this.subPixelOptimize){var a=function(t,e,i){if(e){var n=e.x,r=e.y,o=e.width,a=e.height;t.x=n,t.y=r,t.width=o,t.height=a;var s=i&&i.lineWidth;return s?(t.x=Dr(n,s,!0),t.y=Dr(r,s,!0),t.width=Math.max(Dr(n+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(Dr(r+a,s,!1)-t.y,0===a?0:1),t):t}}(Rr,e,this.style);i=a.x,n=a.y,r=a.width,o=a.height,a.r=e.r,e=a}else i=e.x,n=e.y,r=e.width,o=e.height;e.r?function(t,e){var i,n,r,o,a,s=e.x,h=e.y,l=e.width,u=e.height,c=e.r;l<0&&(s+=l,l=-l),u<0&&(h+=u,u=-u),"number"==typeof c?i=n=r=o=c:c instanceof Array?1===c.length?i=n=r=o=c[0]:2===c.length?(i=r=c[0],n=o=c[1]):3===c.length?(i=c[0],n=o=c[1],r=c[2]):(i=c[0],n=c[1],r=c[2],o=c[3]):i=n=r=o=0,i+n>l&&(i*=l/(a=i+n),n*=l/a),r+o>l&&(r*=l/(a=r+o),o*=l/a),n+r>u&&(n*=u/(a=n+r),r*=u/a),i+o>u&&(i*=u/(a=i+o),o*=u/a),t.moveTo(s+i,h),t.lineTo(s+l-n,h),0!==n&&t.arc(s+l-n,h+n,n,-Math.PI/2,0),t.lineTo(s+l,h+u-r),0!==r&&t.arc(s+l-r,h+u-r,r,0,Math.PI/2),t.lineTo(s+o,h+u),0!==o&&t.arc(s+o,h+u-o,o,Math.PI/2,Math.PI),t.lineTo(s,h+i),0!==i&&t.arc(s+i,h+i,i,Math.PI,1.5*Math.PI)}(t,e):t.rect(i,n,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(kr);Er.prototype.type="rect";var Ir=Er,Or={},Br=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Nr=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Br},e.prototype.buildPath=function(t,e){var i,n,r,o;if(this.subPixelOptimize){var a=function(t,e,i){if(e){var n=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=n,t.x2=r,t.y1=o,t.y2=a;var s=i&&i.lineWidth;return s?(Lr(2*n)===Lr(2*r)&&(t.x1=t.x2=Dr(n,s,!0)),Lr(2*o)===Lr(2*a)&&(t.y1=t.y2=Dr(o,s,!0)),t):t}}(Or,e,this.style);i=a.x1,n=a.y1,r=a.x2,o=a.y2}else i=e.x1,n=e.y1,r=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(i,n),s<1&&(r=i*(1-s)+r*s,o=n*(1-s)+o*s),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(kr);Nr.prototype.type="line";var Wr=Nr;function Hr(t,e,i,n,r,o,a){var s=.5*(i-t),h=.5*(n-e);return(2*(e-i)+s+h)*a+(-3*(e-i)-2*s-h)*o+s*r+e}function jr(t,e,i){var n=e.smooth,r=e.points;if(r&&r.length>=2){if(n&&"spline"!==n){var o=function(t,e,i,n){var r,o,a,s,h=[],l=[],u=[],c=[];if(n){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)q(a,a,t[f]),K(s,s,t[f]);q(a,a,n[0]),K(s,s,n[1])}for(f=0,d=t.length;f<d;f++){var p=t[f];if(i)r=t[f?f-1:d-1],o=t[(f+1)%d];else{if(0===f||f===d-1){h.push(H(t[f]));continue}r=t[f-1],o=t[f+1]}Y(l,o,r),X(l,l,e);var y=U(p,r),v=U(p,o),g=y+v;0!==g&&(y/=g,v/=g),X(u,l,-y),X(c,l,v);var m=j([],p,u),_=j([],p,c);n&&(K(m,m,a),q(m,m,s),K(_,_,a),q(_,_,s)),h.push(m),h.push(_)}return i&&h.push(h.shift()),h}(r,n,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(i?a:a-1);s++){var h=o[2*s],l=o[2*s+1],u=r[(s+1)%a];t.bezierCurveTo(h[0],h[1],l[0],l[1],u[0],u[1])}}else{"spline"===n&&(r=function(t,e){for(var i=t.length,n=[],r=0,o=1;o<i;o++)r+=U(t[o-1],t[o]);var a=r/2;for(a=a<i?i:a,o=0;o<a;o++){var s=o/(a-1)*(e?i:i-1),h=Math.floor(s),l=s-h,u=void 0,c=t[h%i],f=void 0,d=void 0;e?(u=t[(h-1+i)%i],f=t[(h+1)%i],d=t[(h+2)%i]):(u=t[0===h?h:h-1],f=t[h>i-2?i-1:h+1],d=t[h>i-3?i-1:h+2]);var p=l*l,y=l*p;n.push([Hr(u[0],c[0],f[0],d[0],l,p,y),Hr(u[1],c[1],f[1],d[1],l,p,y)])}return n}(r,i)),t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}i&&t.closePath()}}var Yr=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Xr=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.getDefaultShape=function(){return new Yr},e.prototype.buildPath=function(t,e){jr(t,e,!0)},e}(kr);Xr.prototype.type="polygon";var Ur=Xr,Vr=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Gr=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Vr},e.prototype.buildPath=function(t,e){jr(t,e,!1)},e}(kr);Gr.prototype.type="polyline";var Zr=Gr,qr=function(t){function e(e,i,n,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==i?0:i,s.x2=null==n?1:n,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return N(e,t),e}(function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}()),Kr=qr,Qr=x({strokeFirst:!0,font:xi,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},_r),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return I(Qr,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var i=function(t,e,i,n){var r=((t||"")+"").split("\n");if(1===r.length)return ki(r[0],e,i,n);for(var o=new mi(0,0,0,0),a=0;a<r.length;a++){var s=ki(r[a],e,i,n);0===a?o.copy(s):o.union(s)}return o}(e,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var n=t.lineWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(en);$r.prototype.type="tspan";var Jr=$r,to=Math.PI,eo=2*to,io=Math.sin,no=Math.cos,ro=Math.acos,oo=Math.atan2,ao=Math.abs,so=Math.sqrt,ho=Math.max,lo=Math.min,uo=1e-4;function co(t,e,i,n,r,o,a){var s=t-i,h=e-n,l=(a?o:-o)/so(s*s+h*h),u=l*h,c=-l*s,f=t+u,d=e+c,p=i+u,y=n+c,v=(f+p)/2,g=(d+y)/2,m=p-f,_=y-d,x=m*m+_*_,b=r-o,w=f*y-p*d,k=(_<0?-1:1)*so(ho(0,b*b*x-w*w)),S=(w*_-m*k)/x,M=(-w*m-_*k)/x,A=(w*_+m*k)/x,T=(-w*m+_*k)/x,C=S-v,z=M-g,P=A-v,L=T-g;return C*C+z*z>P*P+L*L&&(S=A,M=T),{cx:S,cy:M,x01:-u,y01:-c,x11:S*(r/b-1),y11:M*(r/b-1)}}function fo(t,e){var i=ho(e.r,0),n=ho(e.r0||0,0),r=i>0;if(r||n>0){if(r||(i=n,n=0),n>i){var o=i;i=n,n=o}var a,s=!!e.clockwise,h=e.startAngle,l=e.endAngle;if(h===l)a=0;else{var u=[h,l];tr(u,!s),a=ao(u[0]-u[1])}var c=e.cx,f=e.cy,d=e.cornerRadius||0,p=e.innerCornerRadius||0;if(i>uo)if(a>eo-uo)t.moveTo(c+i*no(h),f+i*io(h)),t.arc(c,f,i,h,l,!s),n>uo&&(t.moveTo(c+n*no(l),f+n*io(l)),t.arc(c,f,n,l,h,s));else{var y=ao(i-n)/2,v=lo(y,d),g=lo(y,p),m=g,_=v,x=i*no(h),b=i*io(h),w=n*no(l),k=n*io(l),S=void 0,M=void 0,A=void 0,T=void 0;if((v>uo||g>uo)&&(S=i*no(l),M=i*io(l),A=n*no(h),T=n*io(h),a<to)){var C=function(t,e,i,n,r,o,a,s){var h=i-t,l=n-e,u=a-r,c=s-o,f=c*h-u*l;if(!(f*f<uo))return[t+(f=(u*(e-o)-c*(t-r))/f)*h,e+f*l]}(x,b,A,T,S,M,w,k);if(C){var z=x-C[0],P=b-C[1],L=S-C[0],D=M-C[1],F=1/io(ro((z*L+P*D)/(so(z*z+P*P)*so(L*L+D*D)))/2),R=so(C[0]*C[0]+C[1]*C[1]);m=lo(g,(n-R)/(F-1)),_=lo(v,(i-R)/(F+1))}}if(a>uo)if(_>uo){var E=co(A,T,x,b,i,_,s),I=co(S,M,w,k,i,_,s);t.moveTo(c+E.cx+E.x01,f+E.cy+E.y01),_<v?t.arc(c+E.cx,f+E.cy,_,oo(E.y01,E.x01),oo(I.y01,I.x01),!s):(t.arc(c+E.cx,f+E.cy,_,oo(E.y01,E.x01),oo(E.y11,E.x11),!s),t.arc(c,f,i,oo(E.cy+E.y11,E.cx+E.x11),oo(I.cy+I.y11,I.cx+I.x11),!s),t.arc(c+I.cx,f+I.cy,_,oo(I.y11,I.x11),oo(I.y01,I.x01),!s))}else t.moveTo(c+x,f+b),t.arc(c,f,i,h,l,!s);else t.moveTo(c+x,f+b);if(n>uo&&a>uo)if(m>uo){E=co(w,k,S,M,n,-m,s),I=co(x,b,A,T,n,-m,s);t.lineTo(c+E.cx+E.x01,f+E.cy+E.y01),m<g?t.arc(c+E.cx,f+E.cy,m,oo(E.y01,E.x01),oo(I.y01,I.x01),!s):(t.arc(c+E.cx,f+E.cy,m,oo(E.y01,E.x01),oo(E.y11,E.x11),!s),t.arc(c,f,n,oo(E.cy+E.y11,E.cx+E.x11),oo(I.cy+I.y11,I.cx+I.x11),s),t.arc(c+I.cx,f+I.cy,m,oo(I.y11,I.x11),oo(I.y01,I.x01),!s))}else t.lineTo(c+w,f+k),t.arc(c,f,n,l,h,s);else t.lineTo(c+w,f+k)}else t.moveTo(c,f);t.closePath()}}var po=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},yo=function(t){function e(e){return t.call(this,e)||this}return N(e,t),e.prototype.getDefaultShape=function(){return new po},e.prototype.buildPath=function(t,e){fo(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(kr);yo.prototype.type="sector";var vo=yo,go=[],mo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return N(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new mi(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(go)),t.union(n)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++){if(this._displayables[n].contain(t,e))return!0}return!1},e}(en),_o=mo,xo=new Ut(50);function bo(t){if("string"==typeof t){var e=xo.get(t);return e&&e.image}return t}function wo(t,e,i,n,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var o=xo.get(t),a={hostEl:i,cb:n,cbPayload:r};return o?!So(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=ko,xo.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function ko(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function So(t){return t&&t.width&&t.height}var Mo=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ao(t,e,i,n,r){if(!e)return"";var o=(t+"").split("\n");r=To(e,i,n,r);for(var a=0,s=o.length;a<s;a++)o[a]=Co(o[a],r);return o.join("\n")}function To(t,e,i,n){var r=_({},n=n||{});r.font=e,i=F(i,"..."),r.maxIterations=F(n.maxIterations,2);var o=r.minChar=F(n.minChar,0);r.cnCharWidth=wi("国",e);var a=r.ascCharWidth=wi("a",e);r.placeholder=F(n.placeholder,"");for(var s=t=Math.max(0,t-1),h=0;h<o&&s>=a;h++)s-=a;var l=wi(i,e);return l>s&&(i="",l=0),s=t-l,r.ellipsis=i,r.ellipsisWidth=l,r.contentWidth=s,r.containerWidth=t,r}function Co(t,e){var i=e.containerWidth,n=e.font,r=e.contentWidth;if(!i)return"";var o=wi(t,n);if(o<=i)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?zo(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=wi(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function zo(t,e,i,n){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?i:n}return o}var Po=function(){},Lo=function(t){this.tokens=[],t&&(this.tokens=t)},Do=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Fo(t,e,i,n,r){var o,a,s=""===e,h=r&&i.rich[r]||{},l=t.lines,u=h.font||i.font,c=!1;if(n){var f=h.padding,d=f?f[1]+f[3]:0;if(null!=h.width&&"auto"!==h.width){var p=Ti(h.width,n.width)+d;l.length>0&&p+n.accumWidth>n.width&&(o=e.split("\n"),c=!0),n.accumWidth=p}else{var y=Io(e,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=y.accumWidth+d,a=y.linesWidths,o=y.lines}}else o=e.split("\n");for(var v=0;v<o.length;v++){var g=o[v],m=new Po;if(m.styleName=r,m.text=g,m.isLineHolder=!g&&!s,"number"==typeof h.width?m.width=h.width:m.width=a?a[v]:wi(g,u),v||c)l.push(new Lo([m]));else{var _=(l[l.length-1]||(l[0]=new Lo)).tokens,x=_.length;1===x&&_[0].isLineHolder?_[0]=m:(g||!x||s)&&_.push(m)}}}var Ro=function(t,e,i,n){if(t&&e){for(var r=0,o=t.length;r<o;r++)i=e.call(n,i,t[r],r,t);return i}}(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function Eo(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=255}(t)||!!Ro[t]}function Io(t,e,i,n,r){for(var o=[],a=[],s="",h="",l=0,u=0,c=0;c<t.length;c++){var f=t.charAt(c);if("\n"!==f){var d=wi(f,e),p=!n&&!Eo(f);(o.length?u+d>i:r+u+d>i)?u?(s||h)&&(p?(s||(s=h,h="",u=l=0),o.push(s),a.push(u-l),h+=f,s="",u=l+=d):(h&&(s+=h,u+=l,h="",l=0),o.push(s),a.push(u),s=f,u=d)):p?(o.push(h),a.push(l),h=f,l=d):(o.push(f),a.push(d)):(u+=d,p?(h+=f,l+=d):(h&&(s+=h,h="",l=0),s+=f))}else h&&(s+=h,u+=l),o.push(s),a.push(u),s="",h="",l=0,u=0}return o.length||s||(s=t,h="",l=0),h&&(s+=h),s&&(o.push(s),a.push(u)),1===o.length&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}var Oo={fill:"#000"},Bo={style:x({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},qi.style)},No=function(t){function e(e){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=Oo,i.attr(e),i}return N(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,jo(t=this.style),M(t.rich,jo),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new mi(0,0,0,0),e=this._children,i=[],n=null,r=0;r<e.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(i);s?(t.copy(a),t.applyTransform(s),(n=n||t.clone()).union(t)):(n=n||a.clone()).union(a)}this._rect=n||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Oo},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var i=e.rich,n=t.rich||i&&{};return _(t,e),i&&n?(this._mergeRich(n,i),t.rich=n):n&&(t.rich=n),t},e.prototype._mergeRich=function(t,e){for(var i=T(e),n=0;n<i.length;n++){var r=i[n];t[r]=t[r]||{},_(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return Bo},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||xi,i=t.padding,n=function(t,e){null!=t&&(t+="");var i,n=e.overflow,r=e.padding,o=e.font,a="truncate"===n,s=Ai(o),h=F(e.lineHeight,s),l="truncate"===e.lineOverflow,u=e.width,c=(i=null!=u&&"break"===n||"breakAll"===n?t?Io(t,e.font,u,"breakAll"===n,0).lines:[]:t?t.split("\n"):[]).length*h,f=F(e.height,c);if(c>f&&l){var d=Math.floor(f/h);i=i.slice(0,d)}var p=f,y=u;if(r&&(p+=r[0]+r[2],null!=y&&(y+=r[1]+r[3])),t&&a&&null!=y)for(var v=To(u,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),g=0;g<i.length;g++)i[g]=Co(i[g],v);if(null==u){var m=0;for(g=0;g<i.length;g++)m=Math.max(wi(i[g],o),m);u=m}return{lines:i,height:f,outerHeight:p,lineHeight:h,calculatedLineHeight:s,contentHeight:c,width:u}}(Vo(t),t),r=Go(t),o=!!t.backgroundColor,a=n.outerHeight,s=n.lines,h=n.lineHeight,l=this._defaultStyle,u=t.x||0,c=t.y||0,f=t.align||l.align||"left",d=t.verticalAlign||l.verticalAlign||"top",p=u,y=Mi(c,n.contentHeight,d);if(r||i){var v=n.width;i&&(v+=i[1]+i[3]);var g=Si(u,v,f),m=Mi(c,a,d);r&&this._renderBackground(t,t,g,m,v,a)}y+=h/2,i&&(p=Uo(u,f,i),"top"===d?y+=i[0]:"bottom"===d&&(y-=i[2]));for(var _=0,x=!1,b=(Xo("fill"in t?t.fill:(x=!0,l.fill))),w=(Yo("stroke"in t?t.stroke:o||l.autoStroke&&!x?null:(_=2,l.stroke))),k=t.textShadowBlur>0,S=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),M=n.calculatedLineHeight,A=0;A<s.length;A++){var T=this._getOrCreateChild(Jr),C=T.createStyle();T.useStyle(C),C.text=s[A],C.x=p,C.y=y,f&&(C.textAlign=f),C.textBaseline="middle",C.opacity=t.opacity,C.strokeFirst=!0,k&&(C.shadowBlur=t.textShadowBlur||0,C.shadowColor=t.textShadowColor||"transparent",C.shadowOffsetX=t.textShadowOffsetX||0,C.shadowOffsetY=t.textShadowOffsetY||0),w&&(C.stroke=w,C.lineWidth=t.lineWidth||_,C.lineDash=t.lineDash,C.lineDashOffset=t.lineDashOffset||0),b&&(C.fill=b),C.font=e,y+=h,S&&T.setBoundingRect(new mi(Si(C.x,t.width,C.textAlign),Mi(C.y,M,C.textBaseline),t.width,M))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var i=new Do;if(null!=t&&(t+=""),!t)return i;for(var n,r=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},h=Mo.lastIndex=0;null!=(n=Mo.exec(t));){var l=n.index;l>h&&Fo(i,t.substring(h,l),e,s),Fo(i,n[2],e,s,n[1]),h=Mo.lastIndex}h<t.length&&Fo(i,t.substring(h,t.length),e,s);var u=[],c=0,f=0,d=e.padding,p="truncate"===a,y="truncate"===e.lineOverflow;function v(t,e,i){t.width=e,t.lineHeight=i,c+=i,f=Math.max(f,e)}t:for(var g=0;g<i.lines.length;g++){for(var m=i.lines[g],_=0,x=0,b=0;b<m.tokens.length;b++){var w=(D=m.tokens[b]).styleName&&e.rich[D.styleName]||{},k=D.textPadding=w.padding,S=k?k[1]+k[3]:0,M=D.font=w.font||e.font;D.contentHeight=Ai(M);var A=F(w.height,D.contentHeight);if(D.innerHeight=A,k&&(A+=k[0]+k[2]),D.height=A,D.lineHeight=R(w.lineHeight,e.lineHeight,A),D.align=w&&w.align||e.align,D.verticalAlign=w&&w.verticalAlign||"middle",y&&null!=o&&c+D.lineHeight>o){b>0?(m.tokens=m.tokens.slice(0,b),v(m,x,_),i.lines=i.lines.slice(0,g+1)):i.lines=i.lines.slice(0,g);break t}var T=w.width,C=null==T||"auto"===T;if("string"==typeof T&&"%"===T.charAt(T.length-1))D.percentWidth=T,u.push(D),D.contentWidth=wi(D.text,M);else{if(C){var z=w.backgroundColor,P=z&&z.image;P&&So(P=bo(P))&&(D.width=Math.max(D.width,P.width*A/P.height))}var L=p&&null!=r?r-x:null;null!=L&&L<D.width?!C||L<S?(D.text="",D.width=D.contentWidth=0):(D.text=Ao(D.text,L-S,M,e.ellipsis,{minChar:e.truncateMinChar}),D.width=D.contentWidth=wi(D.text,M)):D.contentWidth=wi(D.text,M)}D.width+=S,x+=D.width,w&&(_=Math.max(_,D.lineHeight))}v(m,x,_)}for(i.outerWidth=i.width=F(r,f),i.outerHeight=i.height=F(o,c),i.contentHeight=c,i.contentWidth=f,d&&(i.outerWidth+=d[1]+d[3],i.outerHeight+=d[0]+d[2]),g=0;g<u.length;g++){var D,E=(D=u[g]).percentWidth;D.width=parseInt(E,10)/100*i.width}return i}(Vo(t),t),i=e.width,n=e.outerWidth,r=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,h=this._defaultStyle,l=t.align||h.align,u=t.verticalAlign||h.verticalAlign,c=Si(a,n,l),f=Mi(s,r,u),d=c,p=f;o&&(d+=o[3],p+=o[0]);var y=d+i;Go(t)&&this._renderBackground(t,t,c,f,n,r);for(var v=!!t.backgroundColor,g=0;g<e.lines.length;g++){for(var m=e.lines[g],_=m.tokens,x=_.length,b=m.lineHeight,w=m.width,k=0,S=d,M=y,A=x-1,T=void 0;k<x&&(!(T=_[k]).align||"left"===T.align);)this._placeToken(T,t,b,p,S,"left",v),w-=T.width,S+=T.width,k++;for(;A>=0&&"right"===(T=_[A]).align;)this._placeToken(T,t,b,p,M,"right",v),w-=T.width,M-=T.width,A--;for(S+=(i-(S-d)-(y-M)-w)/2;k<=A;)T=_[k],this._placeToken(T,t,b,p,S+T.width/2,"center",v),S+=T.width,k++;p+=b}},e.prototype._placeToken=function(t,e,i,n,r,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var h=t.verticalAlign,l=n+i/2;"top"===h?l=n+t.height/2:"bottom"===h&&(l=n+i-t.height/2),!t.isLineHolder&&Go(s)&&this._renderBackground(s,e,"right"===o?r-t.width:"center"===o?r-t.width/2:r,l-t.height/2,t.width,t.height);var u=!!s.backgroundColor,c=t.textPadding;c&&(r=Uo(r,o,c),l-=t.height/2-c[0]-t.innerHeight/2);var f=this._getOrCreateChild(Jr),d=f.createStyle();f.useStyle(d);var p=this._defaultStyle,y=!1,v=0,g=Xo("fill"in s?s.fill:"fill"in e?e.fill:(y=!0,p.fill)),m=Yo("stroke"in s?s.stroke:"stroke"in e?e.stroke:u||a||p.autoStroke&&!y?null:(v=2,p.stroke)),_=s.textShadowBlur>0||e.textShadowBlur>0;d.text=t.text,d.x=r,d.y=l,_&&(d.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,d.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",d.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,d.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),d.textAlign=o,d.textBaseline="middle",d.font=t.font||xi,d.opacity=R(s.opacity,e.opacity,1),m&&(d.lineWidth=R(s.lineWidth,e.lineWidth,v),d.lineDash=F(s.lineDash,e.lineDash),d.lineDashOffset=e.lineDashOffset||0,d.stroke=m),g&&(d.fill=g);var x=t.contentWidth,b=t.contentHeight;f.setBoundingRect(new mi(Si(d.x,x,d.textAlign),Mi(d.y,b,d.textBaseline),x,b))},e.prototype._renderBackground=function(t,e,i,n,r,o){var a,s,h,l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,d=l&&!f,p=t.borderRadius,y=this;if(d||t.lineHeight||u&&c){(a=this._getOrCreateChild(Ir)).useStyle(a.createStyle()),a.style.fill=null;var v=a.shape;v.x=i,v.y=n,v.width=r,v.height=o,v.r=p,a.dirtyShape()}if(d)(h=a.style).fill=l||null,h.fillOpacity=F(t.fillOpacity,1);else if(f){(s=this._getOrCreateChild(Tr)).onload=function(){y.dirtyStyle()};var g=s.style;g.image=l.image,g.x=i,g.y=n,g.width=r,g.height=o}u&&c&&((h=a.style).lineWidth=u,h.stroke=c,h.strokeOpacity=F(t.strokeOpacity,1),h.lineDash=t.borderDash,h.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var m=(a||s).style;m.shadowBlur=t.shadowBlur||0,m.shadowColor=t.shadowColor||"transparent",m.shadowOffsetX=t.shadowOffsetX||0,m.shadowOffsetY=t.shadowOffsetY||0,m.opacity=R(t.opacity,e.opacity,1)},e.makeFont=function(t){var e,i="";if(t.fontSize||t.fontFamily||t.fontWeight){var n="";n="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,i=[t.fontStyle,t.fontWeight,n,t.fontFamily||"sans-serif"].join(" ")}return i&&(null==(e=i)?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))||t.textFont||t.font},e}(en),Wo={left:!0,right:1,center:1},Ho={top:1,bottom:1,middle:1};function jo(t){if(t){t.font=No.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||Wo[e]?e:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||Ho[i]?i:"top",t.padding&&(t.padding=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}(t.padding))}}function Yo(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Xo(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Uo(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function Vo(t){var e=t.text;return null!=e&&(e+=""),e}function Go(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Zo=No;function qo(t,e,i){for(var n="radial"===e.type?function(t,e,i){var n=i.width,r=i.height,o=Math.min(n,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,h=null==e.r?.5:e.r;return e.global||(a=a*n+i.x,s=s*r+i.y,h*=o),t.createRadialGradient(a,s,0,a,s,h)}(t,e,i):function(t,e,i){var n=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,r=r*i.width+i.x,o=o*i.height+i.y,a=a*i.height+i.y),n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(n,o,r,a)}(t,e,i),r=e.colorStops,o=0;o<r.length;o++)n.addColorStop(r[o].offset,r[o].color);return n}function Ko(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}function Qo(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:function(t){return"number"==typeof t}(t)?[t]:C(t)?t:null):null}var $o=new ir(!0);function Jo(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function ta(t){return"string"==typeof t&&"none"!==t}function ea(t){var e=t.fill;return null!=e&&"none"!==e}function ia(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var i=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function na(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var i=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function ra(t,e,i){var n=wo(e.image,e.__image,i);if(So(n)){var r=t.createPattern(n,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),o.scaleSelf(e.scaleX||1,e.scaleY||1),o.translateSelf(e.x||0,e.y||0),r.setTransform(o)}return r}}var oa=["shadowBlur","shadowOffsetX","shadowOffsetY"],aa=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function sa(t,e,i,n,r){var o=!1;if(!n&&e===(i=i||{}))return!1;if(n||e.opacity!==i.opacity){o||(ua(t,r),o=!0);var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?Zi.opacity:a}(n||e.blend!==i.blend)&&(o||(ua(t,r),o=!0),t.globalCompositeOperation=e.blend||Zi.blend);for(var s=0;s<oa.length;s++){var h=oa[s];(n||e[h]!==i[h])&&(o||(ua(t,r),o=!0),t[h]=t.dpr*(e[h]||0))}return(n||e.shadowColor!==i.shadowColor)&&(o||(ua(t,r),o=!0),t.shadowColor=e.shadowColor||Zi.shadowColor),o}function ha(t,e,i,n,r){var o=ca(e,r.inHover),a=n?null:i&&ca(i,r.inHover)||{};if(o===a)return!1;var s=sa(t,o,a,n,r);if((n||o.fill!==a.fill)&&(s||(ua(t,r),s=!0),ta(o.fill)&&(t.fillStyle=o.fill)),(n||o.stroke!==a.stroke)&&(s||(ua(t,r),s=!0),ta(o.stroke)&&(t.strokeStyle=o.stroke)),(n||o.opacity!==a.opacity)&&(s||(ua(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var h=o.lineWidth/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==h&&(s||(ua(t,r),s=!0),t.lineWidth=h)}for(var l=0;l<aa.length;l++){var u=aa[l],c=u[0];(n||o[c]!==a[c])&&(s||(ua(t,r),s=!0),t[c]=o[c]||u[1])}return s}function la(t,e){var i=e.transform,n=t.dpr||1;i?t.setTransform(n*i[0],n*i[1],n*i[2],n*i[3],n*i[4],n*i[5]):t.setTransform(n,0,0,n,0,0)}function ua(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function ca(t,e){return e&&t.__hoverStyle||t.style}function fa(t,e,i,n){var r=e.transform;if(!e.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var o=e.__clipPaths,a=i.prevElClipPaths,s=!1,h=!1;if(a&&!Ko(o,a)||(a&&a.length&&(ua(t,i),t.restore(),h=s=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),o&&o.length&&(ua(t,i),t.save(),function(t,e,i){for(var n=!1,r=0;r<t.length;r++){var o=t[r];n=n||o.isZeroArea(),la(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}i.allClipped=n}(o,t,i),s=!0),i.prevElClipPaths=o),i.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=i.prevEl;l||(h=s=!0);var u,c,f=e instanceof kr&&e.autoBatch&&function(t){var e=ea(t),i=Jo(t);return!(t.lineDash||!(+e^+i)||e&&"string"!=typeof t.fill||i&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(u=r,c=l.transform,u&&c?u[0]!==c[0]||u[1]!==c[1]||u[2]!==c[2]||u[3]!==c[3]||u[4]!==c[4]||u[5]!==c[5]:u||c)?(ua(t,i),la(t,e)):f||ua(t,i);var d=ca(e,i.inHover);e instanceof kr?(1!==i.lastDrawType&&(h=!0,i.lastDrawType=1),ha(t,e,l,h,i),f&&(i.batchFill||i.batchStroke)||t.beginPath(),function(t,e,i,n){var r=Jo(i),o=ea(i),a=i.strokePercent,s=a<1,h=!e.path;e.silent&&!s||!h||e.createPathProxy();var l=e.path||$o;if(!n){var u=i.fill,c=i.stroke,f=o&&!!u.colorStops,d=r&&!!c.colorStops,p=o&&!!u.image,y=r&&!!c.image,v=void 0,g=void 0,m=void 0,_=void 0,x=void 0;(f||d)&&(x=e.getBoundingRect()),f&&(v=e.__dirty?qo(t,u,x):e.__canvasFillGradient,e.__canvasFillGradient=v),d&&(g=e.__dirty?qo(t,c,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=g),p&&(m=e.__dirty||!e.__canvasFillPattern?ra(t,u,e):e.__canvasFillPattern,e.__canvasFillPattern=m),y&&(_=e.__dirty||!e.__canvasStrokePattern?ra(t,c,e):e.__canvasStrokePattern,e.__canvasStrokePattern=m),f?t.fillStyle=v:p&&(m?t.fillStyle=m:o=!1),d?t.strokeStyle=g:y&&(_?t.strokeStyle=_:r=!1)}var b=i.lineDash&&i.lineWidth>0&&Qo(i.lineDash,i.lineWidth),w=i.lineDashOffset,k=!!t.setLineDash,S=e.getGlobalScale();if(l.setScale(S[0],S[1],e.segmentIgnoreThreshold),b){var M=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;M&&1!==M&&(b=A(b,(function(t){return t/M})),w/=M)}var T=!0;(h||4&e.__dirty||b&&!k&&r)&&(l.setDPR(t.dpr),s?l.setContext(null):(l.setContext(t),T=!1),l.reset(),b&&!k&&(l.setLineDash(b),l.setLineDashOffset(w)),e.buildPath(l,e.shape,n),l.toStatic(),e.pathUpdated()),T&&l.rebuildPath(t,s?a:1),b&&k&&(t.setLineDash(b),t.lineDashOffset=w),n||(i.strokeFirst?(r&&na(t,i),o&&ia(t,i)):(o&&ia(t,i),r&&na(t,i))),b&&k&&t.setLineDash([])}(t,e,d,f),f&&(i.batchFill=d.fill||"",i.batchStroke=d.stroke||"")):e instanceof Jr?(3!==i.lastDrawType&&(h=!0,i.lastDrawType=3),ha(t,e,l,h,i),function(t,e,i){var n=i.text;if(null!=n&&(n+=""),n){t.font=i.font||xi,t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var r=void 0;if(t.setLineDash){var o=i.lineDash&&i.lineWidth>0&&Qo(i.lineDash,i.lineWidth),a=i.lineDashOffset;if(o){var s=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(o=A(o,(function(t){return t/s})),a/=s),t.setLineDash(o),t.lineDashOffset=a,r=!0}}i.strokeFirst?(Jo(i)&&t.strokeText(n,i.x,i.y),ea(i)&&t.fillText(n,i.x,i.y)):(ea(i)&&t.fillText(n,i.x,i.y),Jo(i)&&t.strokeText(n,i.x,i.y)),r&&t.setLineDash([])}}(t,e,d)):e instanceof Tr?(2!==i.lastDrawType&&(h=!0,i.lastDrawType=2),function(t,e,i,n,r){sa(t,ca(e,r.inHover),i&&ca(i,r.inHover),n,r)}(t,e,l,h,i),function(t,e,i){var n=e.__image=wo(i.image,e.__image,e,e.onload);if(n&&So(n)){var r=i.x||0,o=i.y||0,a=e.getWidth(),s=e.getHeight(),h=n.width/n.height;if(null==a&&null!=s?a=s*h:null==s&&null!=a?s=a/h:null==a&&null==s&&(a=n.width,s=n.height),i.sWidth&&i.sHeight){var l=i.sx||0,u=i.sy||0;t.drawImage(n,l,u,i.sWidth,i.sHeight,r,o,a,s)}else if(i.sx&&i.sy){var c=a-(l=i.sx),f=s-(u=i.sy);t.drawImage(n,l,u,c,f,r,o,a,s)}else t.drawImage(n,r,o,a,s)}}(t,e,d)):e instanceof _o&&(4!==i.lastDrawType&&(h=!0,i.lastDrawType=4),function(t,e,i){var n=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(o=e.getCursor(),a=n.length;o<a;o++){(u=n[o]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),fa(t,u,s,o===a-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}for(var h=0,l=r.length;h<l;h++){var u;(u=r[h]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),fa(t,u,s,h===l-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,i)),f&&n&&ua(t,i),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),i.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function da(){return!1}function pa(t,e,i){var n=b(),r=e.getWidth(),o=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",t)),n.width=r*i,n.height=o*i,n}var ya=function(t){function e(e,i,n){var r,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,n=n||Xe,"string"==typeof e?r=pa(e,i,n):P(e)&&(e=(r=e).id),o.id=e,o.dom=r;var a=r.style;return a&&(r.onselectstart=da,a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none",a.padding="0",a.margin="0",a.borderWidth="0"),o.domBack=null,o.ctxBack=null,o.painter=i,o.config=null,o.dpr=n,o}return N(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=pa("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,h=new mi(0,0,0,0);function l(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new mi(0,0,0,0)).copy(t),o.push(e)}else{for(var e,i=!1,n=1/0,r=0,l=0;l<o.length;++l){var u=o[l];if(u.intersect(t)){var c=new mi(0,0,0,0);c.copy(u),c.union(t),o[l]=c,i=!0;break}if(s){h.copy(t),h.union(u);var f=t.width*t.height,d=u.width*u.height,p=h.width*h.height-f-d;p<n&&(n=p,r=l)}}if(s&&(o[r].union(t),i=!0),!i)(e=new mi(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var u=this.__startIndex;u<this.__endIndex;++u){if(d=t[u]){var c=d.shouldBePainted(i,n,!0,!0);(p=d.__isRendered&&(1&d.__dirty||!c)?d.getPrevPaintRect():null)&&l(p);var f=c&&(1&d.__dirty||!d.__isRendered)?d.getPaintRect():null;f&&l(f)}}for(u=this.__prevStartIndex;u<this.__prevEndIndex;++u){var d,p;c=(d=e[u]).shouldBePainted(i,n,!0,!0);if(d&&(!c||!d.__zr)&&d.__isRendered)(p=d.getPrevPaintRect())&&l(p)}do{r=!1;for(u=0;u<o.length;)if(o[u].isZero())o.splice(u,1);else{for(var y=u+1;y<o.length;)o[u].intersect(o[y])?(r=!0,o[u].union(o[y]),o.splice(y,1)):y++;u++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var i=this.dpr,n=this.dom,r=n.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),n.width=t*i,n.height=e*i,o&&(o.width=t*i,o.height=e*i,1!==i&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,e,i){var n=this.dom,r=this.ctx,o=n.width,a=n.height;e=e||this.clearColor;var s=this.motionBlur&&!t,h=this.lastFrameAlpha,l=this.dpr,u=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,o/l,a/l));var c=this.domBack;function f(t,i,n,o){if(r.clearRect(t,i,n,o),e&&"transparent"!==e){var a=void 0;!function(t){return null!=t.colorStops}(e)?function(t){return null!=t.image}(e)&&(a=ra(r,e,{dirty:function(){u.setUnpainted(),u.__painter.refresh()}})):(a=e.__canvasGradient||qo(r,e,{x:0,y:0,width:n,height:o}),e.__canvasGradient=a),r.save(),r.fillStyle=a||e,r.fillRect(t,i,n,o),r.restore()}s&&(r.save(),r.globalAlpha=h,r.drawImage(c,t,i,n,o),r.restore())}!i||s?f(0,0,o,a):i.length&&M(i,(function(t){f(t.x*l,t.y*l,t.width*l,t.height*l)}))},e}(et),va=ya,ga=1e5,ma=314159,_a=.01;function xa(t){return parseInt(t,10)}var ba=function(){function t(t,e,i,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=_({},i||{}),this.dpr=i.devicePixelRatio||Xe,this._singleCanvas=r,this.root=t;var o=t.style;o&&(o.webkitTapHighlightColor="transparent",o.webkitUserSelect="none",o.userSelect="none",o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(r){var h=t,l=h.width,u=h.height;null!=i.width&&(l=i.width),null!=i.height&&(u=i.height),this.dpr=i.devicePixelRatio||1,h.width=l*this.dpr,h.height=u*this.dpr,this._width=l,this._height=u;var c=new va(h,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=ma,a.push(ma),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=function(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);t.appendChild(f)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var r=0;r<n.length;r++){var o=n[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var n,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(i||(i=this._hoverlayer=this.getLayer(ga)),n||(n=i.ctx).save(),fa(n,a,r,o===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(ga)},t.prototype.paintOne=function(t,e){!function(t,e){fa(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}(t,e)},t.prototype._paintList=function(t,e,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,i),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;Ot((function(){s._paintList(t,e,i,n)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(ma).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},t.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var h=this._zlevelList[s],l=this._layers[h];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||i)&&o.push(l)}for(var u=!0,c=!1,f=function(n){var s,h=o[n],l=h.ctx,f=a&&h.createRepaintRects(t,e,d._width,d._height),p=i?h.__startIndex:h.__drawIndex,y=!i&&h.incremental&&Date.now,v=y&&Date.now(),g=h.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(h.__startIndex===h.__endIndex)h.clear(!1,g,f);else if(p===h.__startIndex){var m=t[p];m.incremental&&m.notClear&&!i||h.clear(!1,g,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=h.__startIndex);var _=function(e){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=p;s<h.__endIndex;s++){var n=t[s];if(n.__inHover&&(c=!0),r._doPaintEl(n,h,a,e,i,s===h.__endIndex-1),y)if(Date.now()-v>15)break}i.prevElClipPaths&&l.restore()};if(f)if(0===f.length)s=h.__endIndex;else for(var x=d.dpr,b=0;b<f.length;++b){var w=f[b];l.save(),l.beginPath(),l.rect(w.x*x,w.y*x,w.width*x,w.height*x),l.clip(),_(w),l.restore()}else l.save(),_(),l.restore();h.__drawIndex=s,h.__drawIndex<h.__endIndex&&(u=!1)},d=this,p=0;p<o.length;p++)f(p);return n.wxa&&M(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:u,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,i,n,r,o){var a=e.ctx;if(i){var s=t.getPaintRect();(!n||s&&s.intersect(n))&&(fa(a,t,r,o),t.setPrevPaintRect(s))}else fa(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=ma);var i=this._layers[t];return i||((i=new va("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?m(i,this._layerConfig[t],!0):this._layerConfig[t-_a]&&m(i,this._layerConfig[t-_a],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,e){var i=this._layers,n=this._zlevelList,r=n.length,o=this._domRoot,a=null,s=-1;if(i[t])v("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>n[0]){for(s=0;s<r-1&&!(n[s]<t&&n[s+1]>t);s++);a=i[n[s]]}if(n.splice(s+1,0,t),i[t]=e,!e.virtual)if(a){var h=a.dom;h.nextSibling?o.insertBefore(e.dom,h.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}else v("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){if((s=t[i]).zlevel!==t[i-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var n,r,o=null,a=0;for(r=0;r<t.length;r++){var s,h=(s=t[r]).zlevel,l=void 0;n!==h&&(n=h,a=0),s.incremental?((l=this.getLayer(h+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(h+(a>0?_a:0),this._needsManuallyCompositing),l.__builtin__||v("ZLevel "+h+" has been used by unkown layer "+l.id),l!==o&&(l.__used=!0,l.__startIndex!==r&&(l.__dirty=!0),l.__startIndex=r,l.incremental?l.__drawIndex=-1:l.__drawIndex=r,e(r),o=l),1&s.__dirty&&!s.__inHover&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,M(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?m(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];if(r===t||r===t+_a)m(this._layers[r],i[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(w(i,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var r in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(ma).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new va("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,h=a.length;s<h;s++){var l=a[s];fa(i,l,o,s===h-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||xa(s[i])||xa(a.style[i]))-(xa(s[r])||0)-(xa(s[o])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,h=o.shadowOffsetY*e,l=t.hasStroke()?o.lineWidth:0,u=Math.max(l/2,-s+a),c=Math.max(l/2,s+a),f=Math.max(l/2,-h+a),d=Math.max(l/2,h+a),p=r.width+u+c,y=r.height+f+d;i.width=p*e,i.height=y*e,n.scale(e,e),n.clearRect(0,0,p,y),n.dpr=e;var v={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=u-r.x,t.y=f-r.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&fa(n,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var g=new Tr({style:{x:0,y:0,image:i}});return _(t,v),g},t}(),wa=ba;function ka(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Sa(t){var e;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var i=ne(t);i&&(t="rgb("+i[0]+","+i[1]+","+i[2]+")",e=i[3])}}else t="none";return{color:t,opacity:null==e?1:e}}function Ma(t,e,i,n,r){for(var o=e.length,a=i.length,s=t.newPos,h=s-n,l=0;s+1<o&&h+1<a&&r(e[s+1],i[h+1]);)s++,h++,l++;return l&&t.components.push({count:l,added:!1,removed:!1,indices:[]}),t.newPos=s,h}function Aa(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i,indices:[]}:t.push({count:1,added:e,removed:i,indices:[]})}function Ta(t){for(var e=0,i=t.length,n=0,r=0;e<i;e++){var o=t[e];if(o.removed){for(s=r;s<r+o.count;s++)o.indices.push(s);r+=o.count}else{for(var a=[],s=n;s<n+o.count;s++)a.push(s);o.indices=a,n+=o.count,o.added||(r+=o.count)}}return t}function Ca(t,e,i){return function(t,e,i){i||(i=function(t,e){return t===e}),t=t.slice();var n=(e=e.slice()).length,r=t.length,o=1,a=n+r,s=[{newPos:-1,components:[]}],h=Ma(s[0],e,t,0,i);if(s[0].newPos+1>=n&&h+1>=r){for(var l=[],u=0;u<e.length;u++)l.push(u);return[{indices:l,count:e.length,added:!1,removed:!1}]}function c(){for(var a=-1*o;a<=o;a+=2){var h,l=s[a-1],u=s[a+1],c=(u?u.newPos:0)-a;l&&(s[a-1]=void 0);var f=l&&l.newPos+1<n,d=u&&0<=c&&c<r;if(f||d){if(!f||d&&l.newPos<u.newPos?Aa((h={newPos:(p=u).newPos,components:p.components.slice(0)}).components,!1,!0):((h=l).newPos++,Aa(h.components,!0,!1)),c=Ma(h,e,t,a,i),h.newPos+1>=n&&c+1>=r)return Ta(h.components);s[a]=h}else s[a]=void 0}var p;o++}for(;o<=a;){var f=c();if(f)return f}}(t,e,i)}var za="none",Pa=Math.round,La=Math.sin,Da=Math.cos,Fa=Math.PI,Ra=2*Math.PI,Ea=180/Fa,Ia=1e-4;function Oa(t){return Pa(1e3*t)/1e3}function Ba(t){return Pa(1e4*t)/1e4}function Na(t){return t<Ia&&t>-1e-4}function Wa(t,e){e&&Ha(t,"transform","matrix("+Oa(e[0])+","+Oa(e[1])+","+Oa(e[2])+","+Oa(e[3])+","+Ba(e[4])+","+Ba(e[5])+")")}function Ha(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&t.setAttribute(e,i)}function ja(t,e,i){var n=null==e.opacity?1:e.opacity;if(i instanceof Tr)t.style.opacity=n+"";else{if(function(t){var e=t.fill;return null!=e&&e!==za}(e)){var r=Sa(e.fill);Ha(t,"fill",r.color),Ha(t,"fill-opacity",(null!=e.fillOpacity?e.fillOpacity*r.opacity*n:r.opacity*n)+"")}else Ha(t,"fill",za);if(function(t){var e=t.stroke;return null!=e&&e!==za}(e)){var o=Sa(e.stroke);Ha(t,"stroke",o.color);var a=e.lineWidth,s=e.strokeNoScale?i.getLineScale():1;Ha(t,"stroke-width",(s?a/s:0)+""),Ha(t,"paint-order",e.strokeFirst?"stroke":"fill"),Ha(t,"stroke-opacity",(null!=e.strokeOpacity?e.strokeOpacity*o.opacity*n:o.opacity*n)+"");var h=e.lineDash&&a>0&&Qo(e.lineDash,a);if(h){var l=e.lineDashOffset;s&&1!==s&&(h=A(h,(function(t){return t/s})),l&&(l=Pa(l/=s))),Ha(t,"stroke-dasharray",h.join(",")),Ha(t,"stroke-dashoffset",(l||0)+"")}else Ha(t,"stroke-dasharray","");e.lineCap&&Ha(t,"stroke-linecap",e.lineCap),e.lineJoin&&Ha(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Ha(t,"stroke-miterlimit",e.miterLimit+"")}else Ha(t,"stroke",za)}}var Ya=function(){function t(){}return t.prototype.reset=function(){this._d=[],this._str=""},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){this._add("C",t,e,i,n,r,o)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._add("Q",t,e,i,n)},t.prototype.arc=function(t,e,i,n,r,o){this.ellipse(t,e,i,i,0,n,r,o)},t.prototype.ellipse=function(t,e,i,n,r,o,a,s){var h=0===this._d.length,l=a-o,u=!s,c=Math.abs(l),f=Na(c-Ra)||(u?l>=Ra:-l>=Ra),d=l>0?l%Ra:l%Ra+Ra,p=!1;p=!!f||!Na(c)&&d>=Fa==!!u;var y=Ba(t+i*Da(o)),v=Ba(e+n*La(o));f&&(l=u?Ra-1e-4:1e-4-Ra,p=!0,h&&this._d.push("M",y,v));var g=Ba(t+i*Da(o+l)),m=Ba(e+n*La(o+l));if(isNaN(y)||isNaN(v)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(Ea)||isNaN(g)||isNaN(m))return"";this._d.push("A",Ba(i),Ba(n),Pa(r*Ea),+p,+u,g,m)},t.prototype.rect=function(t,e,i,n){this._add("M",t,e),this._add("L",t+i,e),this._add("L",t+i,e+n),this._add("L",t,e+n),this._add("L",t,e),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,i,n,r,o,a,s,h){this._d.push(t);for(var l=1;l<arguments.length;l++){var u=arguments[l];if(isNaN(u))return void(this._invalid=!0);this._d.push(Ba(u))}},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Xa={brush:function(t){var e=t.style,i=t.__svgEl;i||(i=ka("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;t.shapeChanged()&&(n.beginPath(),t.buildPath(n,t.shape),t.pathUpdated());var r=n.getVersion(),o=t,a=o.__svgPathBuilder;(o.__svgPathVersion!==r||!a||t.style.strokePercent<1)&&(a||(a=o.__svgPathBuilder=new Ya),a.reset(),n.rebuildPath(a,t.style.strokePercent),a.generateStr(),o.__svgPathVersion=r),Ha(i,"d",a.getStr()),ja(i,e,t),Wa(i,t.transform)}},Ua={brush:function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement?i=i.src:i instanceof HTMLCanvasElement&&(i=i.toDataURL()),i){var n=e.x||0,r=e.y||0,o=e.width,a=e.height,s=t.__svgEl;s||(s=ka("image"),t.__svgEl=s),i!==t.__imageSrc&&(!function(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}(s,"href",i),t.__imageSrc=i),Ha(s,"width",o+""),Ha(s,"height",a+""),Ha(s,"x",n+""),Ha(s,"y",r+""),ja(s,e,t),Wa(s,t.transform)}}},Va={left:"start",right:"end",center:"middle",middle:"middle"};var Ga={brush:function(t){var e=t.style,i=e.text;if(null!=i&&(i+=""),i&&!isNaN(e.x)&&!isNaN(e.y)){var n=t.__svgEl;n||(function(t,e,i){t.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,i)}(n=ka("text"),"xml:space","preserve"),t.__svgEl=n);var r=e.font||xi;n.style.font=r,n.textContent=i,ja(n,e,t),Wa(n,t.transform);var o=e.x||0,a=function(t,e,i){return"top"===i?t+=e/2:"bottom"===i&&(t-=e/2),t}(e.y||0,Ai(r),e.textBaseline),s=Va[e.textAlign]||e.textAlign;Ha(n,"dominant-baseline","central"),Ha(n,"text-anchor",s),Ha(n,"x",o+""),Ha(n,"y",a+"")}}},Za=function(){function t(t,e,i,n,r){this.nextId=0,this._domName="_dom",this.createElement=ka,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,r&&(this._domName=r)}return t.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(t){var n=e.insertBefore(this.createElement("defs"),e.firstChild);return n.contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n}return null}return i[0]},t.prototype.doUpdate=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},t.prototype.add=function(t){return null},t.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},t.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},t.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return M(this._tagNames,(function(i){for(var n=t.getElementsByTagName(i),r=0;r<n.length;r++)e.push(n[r])})),e},t.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;M(t,(function(t){t[e._markLabel]="0"}))},t.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},t.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},t.prototype.isDomUnused=function(t){return t&&"1"!==t[this._markLabel]},t.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);e&&M(this.getDoms(),(function(i){t.isDomUnused(i)&&e.removeChild(i)}))},t.prototype.getSvgProxy=function(t){return t instanceof kr?Xa:t instanceof Tr?Ua:t instanceof Jr?Ga:Xa},t.prototype.getSvgElement=function(t){return t.__svgEl},t}();function qa(t){return"linear"===t.type}function Ka(t){return"radial"===t.type}function Qa(t){return t&&("linear"===t.type||"radial"===t.type)}var $a=function(t){function e(e,i){return t.call(this,e,i,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return N(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;M(["fill","stroke"],(function(n){var r=e.style[n];if(Qa(r)){var o=r,a=i.getDefs(!0),s=void 0;o.__dom?(s=o.__dom,a.contains(o.__dom)||i.addDom(s)):s=i.add(o),i.markUsed(e);var h=s.getAttribute("id");t.setAttribute(n,"url(#"+h+")")}}))}},e.prototype.add=function(t){var e;if(qa(t))e=this.createElement("linearGradient");else{if(!Ka(t))return v("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},e.prototype.update=function(t){if(Qa(t)){var e=this;this.doUpdate(t,(function(){var i=t.__dom;if(i){var n=i.tagName,r=t.type;"linear"===r&&"linearGradient"===n||"radial"===r&&"radialGradient"===n?e.updateDom(t,t.__dom):(e.removeDom(t),e.add(t))}}))}},e.prototype.updateDom=function(t,e){if(qa(t))e.setAttribute("x1",t.x+""),e.setAttribute("y1",t.y+""),e.setAttribute("x2",t.x2+""),e.setAttribute("y2",t.y2+"");else{if(!Ka(t))return void v("Illegal gradient type.");e.setAttribute("cx",t.x+""),e.setAttribute("cy",t.y+""),e.setAttribute("r",t.r+"")}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,n=0,r=i.length;n<r;++n){var o=this.createElement("stop");o.setAttribute("offset",100*i[n].offset+"%");var a=i[n].color;if(a.indexOf("rgba")>-1){var s=ne(a)[3],h=oe(a);o.setAttribute("stop-color","#"+h),o.setAttribute("stop-opacity",s+"")}else o.setAttribute("stop-color",i[n].color);e.appendChild(o)}t.__dom=e},e.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;i&&i.__dom&&t.prototype.markDomUsed.call(this,i.__dom),(i=e.style.stroke)&&i.__dom&&t.prototype.markDomUsed.call(this,i.__dom)}},e}(Za),Ja=$a,ts=Math.round(9*Math.random()),es="function"==typeof Object.defineProperty,is=function(){function t(){this._id="__ec_inner_"+ts++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var i=this._guard(t);return es?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}();function ns(t){return t&&(!!t.image||!!t.svgElement)}var rs=new is,os=function(t){function e(e,i){return t.call(this,e,i,["pattern"],"__pattern_in_use__")||this}return N(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;M(["fill","stroke"],(function(n){var r=e.style[n];if(ns(r)){var o=i.getDefs(!0),a=rs.get(r);a?o.contains(a)||i.addDom(a):a=i.add(r),i.markUsed(e);var s=a.getAttribute("id");t.setAttribute(n,"url(#"+s+")")}}))}},e.prototype.add=function(t){if(ns(t)){var e=this.createElement("pattern");return t.id=null==t.id?this.nextId++:t.id,e.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id),e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(t,e),this.addDom(e),e}},e.prototype.update=function(t){if(ns(t)){var e=this;this.doUpdate(t,(function(){var i=rs.get(t);e.updateDom(t,i)}))}},e.prototype.updateDom=function(t,e){var i=t.svgElement;if(i instanceof SVGElement)i.parentNode!==e&&(e.innerHTML="",e.appendChild(i),e.setAttribute("width",t.svgWidth+""),e.setAttribute("height",t.svgHeight+""));else{var n=void 0,r=e.getElementsByTagName("image");if(r.length){if(!t.image)return void e.removeChild(r[0]);n=r[0]}else t.image&&(n=this.createElement("image"));if(n){var o=void 0,a=t.image;if("string"==typeof a?o=a:a instanceof HTMLImageElement?o=a.src:a instanceof HTMLCanvasElement&&(o=a.toDataURL()),o){n.setAttribute("href",o),n.setAttribute("x","0"),n.setAttribute("y","0");var s=wo(o,n,{dirty:function(){}},(function(t){e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")}));s&&s.width&&s.height&&(e.setAttribute("width",s.width+""),e.setAttribute("height",s.height+"")),e.appendChild(n)}}}var h="translate("+(t.x||0)+", "+(t.y||0)+") rotate("+(t.rotation||0)/Math.PI*180+") scale("+(t.scaleX||1)+", "+(t.scaleY||1)+")";e.setAttribute("patternTransform",h),rs.set(t,e)},e.prototype.markUsed=function(e){e.style&&(ns(e.style.fill)&&t.prototype.markDomUsed.call(this,rs.get(e.style.fill)),ns(e.style.stroke)&&t.prototype.markDomUsed.call(this,rs.get(e.style.stroke)))},e}(Za),as=os;function ss(t){var e=t.__clipPaths;return e&&e.length>0}var hs=function(t){function e(e,i){var n=t.call(this,e,i,"clipPath","__clippath_in_use__")||this;return n._refGroups={},n._keyDuplicateCount={},n}return N(e,t),e.prototype.markAllUnused=function(){t.prototype.markAllUnused.call(this);var e=this._refGroups;for(var i in e)e.hasOwnProperty(i)&&this.markDomUnused(e[i]);this._keyDuplicateCount={}},e.prototype._getClipPathGroup=function(t,e){if(ss(t)){var i=t.__clipPaths,n=this._keyDuplicateCount,r=function(t){var e=[];if(t)for(var i=0;i<t.length;i++){var n=t[i];e.push(n.id)}return e.join(",")}(i);return Ko(i,e&&e.__clipPaths)&&(n[r]=n[r]||0,n[r]&&(r+="-"+n[r]),n[r]++),this._refGroups[r]||(this._refGroups[r]=this.createElement("g"))}},e.prototype.update=function(t,e){var i=this._getClipPathGroup(t,e);return i&&(this.markDomUsed(i),this.updateDom(i,t.__clipPaths)),i},e.prototype.updateDom=function(t,e){if(e&&e.length>0){var i=this.getDefs(!0),n=e[0],r=void 0,o=void 0;n._dom?(o=n._dom.getAttribute("id"),r=n._dom,i.contains(r)||i.appendChild(r)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",o),i.appendChild(r),n._dom=r),this.getSvgProxy(n).brush(n);var a=this.getSvgElement(n);r.innerHTML="",r.appendChild(a),t.setAttribute("clip-path","url(#"+o+")"),e.length>1&&this.updateDom(r,e.slice(1))}else t&&t.setAttribute("clip-path","none")},e.prototype.markUsed=function(e){var i=this;e.__clipPaths&&M(e.__clipPaths,(function(e){e._dom&&t.prototype.markDomUsed.call(i,e._dom)}))},e.prototype.removeUnused=function(){t.prototype.removeUnused.call(this);var e={},i=this._refGroups;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];this.isDomUnused(r)?r.parentNode&&r.parentNode.removeChild(r):e[n]=r}this._refGroups=e},e}(Za),ls=function(t){function e(e,i){var n=t.call(this,e,i,["filter"],"__filter_in_use__","_shadowDom")||this;return n._shadowDomMap={},n._shadowDomPool=[],n}return N(e,t),e.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){(t=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var e=this.createElement("feDropShadow");t.appendChild(e),this.addDom(t)}return t},e.prototype.update=function(t,e){if(function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}(e.style)){var i=function(t){var e=t.style,i=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),i[0],i[1]].join(",")}(e),n=e._shadowDom=this._shadowDomMap[i];n||(n=this._getFromPool(),this._shadowDomMap[i]=n),this.updateDom(t,e,n)}else this.remove(t,e)},e.prototype.remove=function(t,e){null!=e._shadowDom&&(e._shadowDom=null,t.style.filter="")},e.prototype.updateDom=function(t,e,i){var n=i.children[0],r=e.style,o=e.getGlobalScale(),a=o[0],s=o[1];if(a&&s){var h=r.shadowOffsetX||0,l=r.shadowOffsetY||0,u=r.shadowBlur,c=Sa(r.shadowColor);n.setAttribute("dx",h/a+""),n.setAttribute("dy",l/s+""),n.setAttribute("flood-color",c.color),n.setAttribute("flood-opacity",c.opacity+"");var f=u/2/a+" "+u/2/s;n.setAttribute("stdDeviation",f),i.setAttribute("x","-100%"),i.setAttribute("y","-100%"),i.setAttribute("width","300%"),i.setAttribute("height","300%"),e._shadowDom=i;var d=i.getAttribute("id");t.style.filter="url(#"+d+")"}},e.prototype.removeUnused=function(){if(this.getDefs(!1)){var t=this._shadowDomPool,e=this._shadowDomMap;for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);this._shadowDomMap={}}},e}(Za),us=ls;function cs(t){return parseInt(t,10)}function fs(t){return t instanceof kr?Xa:t instanceof Tr?Ua:t instanceof Jr?Ga:Xa}function ds(t,e){return e&&t&&e.parentNode!==t}function ps(t,e,i){if(ds(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function ys(t,e){if(ds(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function vs(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function gs(t){return t.__svgEl}var ms=function(){function t(t,e,i,n){this.type="svg",this.refreshHover=_s("refreshHover"),this.pathToImage=_s("pathToImage"),this.configLayer=_s("configLayer"),this.root=t,this.storage=e,this._opts=i=_({},i||{});var r=ka("svg");r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;";var o=ka("g");r.appendChild(o);var a=ka("g");r.appendChild(a),this._gradientManager=new Ja(n,a),this._patternManager=new as(n,a),this._clipPathManager=new hs(n,a),this._shadowManager=new us(n,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgDom=r,this._svgRoot=a,this._backgroundRoot=o,this._viewport=s,t.appendChild(s),s.appendChild(r),this.resize(i.width,i.height),this._visibleList=[]}return t.prototype.getType=function(){return"svg"},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.getSvgRoot=function(){return this._svgRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},t.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=ka("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0);var i=Sa(t),n=i.color,r=i.opacity;e.setAttribute("fill",n),e.setAttribute("fill-opacity",r),this._backgroundRoot.appendChild(e),this._backgroundNode=e},t.prototype.createSVGElement=function(t){return ka(t)},t.prototype.paintOne=function(t){var e=fs(t);return e&&e.brush(t),gs(t)},t.prototype._paintList=function(t){var e=this._gradientManager,i=this._patternManager,n=this._clipPathManager,r=this._shadowManager;e.markAllUnused(),i.markAllUnused(),n.markAllUnused(),r.markAllUnused();for(var o=this._svgRoot,a=this._visibleList,s=t.length,h=[],l=0;l<s;l++){var u=fs(x=t[l]),c=gs(x);x.invisible||(!x.__dirty&&c||(u&&u.brush(x),(c=gs(x))&&x.style&&(e.update(x.style.fill),e.update(x.style.stroke),i.update(x.style.fill),i.update(x.style.stroke),r.update(c,x)),x.__dirty=0),c&&h.push(x))}var f,d,p,y,v,g=Ca(a,h);for(l=0;l<g.length;l++){if((_=g[l]).removed)for(var m=0;m<_.count;m++){c=gs(x=a[_.indices[m]]);ss(x)?(p=c)&&p.parentNode&&p.parentNode.removeChild(p):vs(o,c)}}for(l=0;l<g.length;l++){var _;if(!(_=g[l]).removed)for(m=0;m<_.count;m++){var x=h[_.indices[m]],b=n.update(x,y);b!==v&&(f=d,b&&(f?ps(o,b,f):ys(o,b),d=b,f=null),v=b);c=gs(x);f?ps(v||o,c,f):ys(v||o,c),f=c||f,v||(d=f),e.markUsed(x),e.addWithoutUpdate(c,x),i.markUsed(x),i.addWithoutUpdate(c,x),n.markUsed(x),y=x}}e.removeUnused(),i.removeUnused(),n.removeUnused(),r.removeUnused(),this._visibleList=h},t.prototype.resize=function(t,e){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var r=i.style;r.width=t+"px",r.height=e+"px";var o=this._svgDom;o.setAttribute("width",t+""),o.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||cs(s[i])||cs(a.style[i]))-(cs(s[r])||0)-(cs(s[o])||0)|0},t.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},t.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},t.prototype.toDataURL=function(){this.refresh();var t=this._svgDom,e=t.outerHTML||(t.parentNode&&t.parentNode).innerHTML;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e.replace(/></g,">\n\r<"))},t}();function _s(t){return function(){v('In SVG mode painter not support method "'+t+'"')}}var xs=ms;function bs(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function ws(t,e){if(t){if("string"==typeof t)return bs(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?bs(t,e):void 0}}function ks(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(t,e)||ws(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function As(t,e,i){return e&&Ms(t.prototype,e),i&&Ms(t,i),t}function Ts(t,e){return Ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ts(t,e)}function Cs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ts(t,e)}function zs(t){return zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zs(t)}var Ps="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ls(t,e){return t(e={exports:{}},e.exports),e.exports}var Ds,Fs=Ls((function(t){function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(i)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),Rs=(Ds=Fs)&&Ds.__esModule&&Object.prototype.hasOwnProperty.call(Ds,"default")?Ds.default:Ds;function Es(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t,e){if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function Os(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=zs(t);if(e){var r=zs(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Is(this,i)}}var Bs,Ns,Ws=function(t){return t&&t.Math==Math&&t},Hs=Ws("object"==typeof globalThis&&globalThis)||Ws("object"==typeof window&&window)||Ws("object"==typeof self&&self)||Ws("object"==typeof Ps&&Ps)||function(){return this}()||Function("return this")(),js=function(t){try{return!!t()}catch(t){return!0}},Ys=!js((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Xs={}.propertyIsEnumerable,Us=Object.getOwnPropertyDescriptor,Vs={f:Us&&!Xs.call({1:2},1)?function(t){var e=Us(this,t);return!!e&&e.enumerable}:Xs},Gs=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Zs={}.toString,qs=function(t){return Zs.call(t).slice(8,-1)},Ks="".split,Qs=js((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==qs(t)?Ks.call(t,""):Object(t)}:Object,$s=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Js=function(t){return Qs($s(t))},th=function(t){return"object"==typeof t?null!==t:"function"==typeof t},eh=function(t){return"function"==typeof t?t:void 0},ih=function(t,e){return arguments.length<2?eh(Hs[t]):Hs[t]&&Hs[t][e]},nh=ih("navigator","userAgent")||"",rh=Hs.process,oh=Hs.Deno,ah=rh&&rh.versions||oh&&oh.version,sh=ah&&ah.v8;sh?Ns=(Bs=sh.split("."))[0]<4?1:Bs[0]+Bs[1]:nh&&(!(Bs=nh.match(/Edge\/(\d+)/))||Bs[1]>=74)&&(Bs=nh.match(/Chrome\/(\d+)/))&&(Ns=Bs[1]);var hh=Ns&&+Ns,lh=!!Object.getOwnPropertySymbols&&!js((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&hh&&hh<41})),uh=lh&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ch=uh?function(t){return"symbol"==typeof t}:function(t){var e=ih("Symbol");return"function"==typeof e&&Object(t)instanceof e},fh=function(t,e){try{Object.defineProperty(Hs,t,{value:e,configurable:!0,writable:!0})}catch(i){Hs[t]=e}return e},dh="__core-js_shared__",ph=Hs[dh]||fh(dh,{}),yh=Ls((function(t){(t.exports=function(t,e){return ph[t]||(ph[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.4",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),vh=function(t){return Object($s(t))},gh={}.hasOwnProperty,mh=Object.hasOwn||function(t,e){return gh.call(vh(t),e)},_h=0,xh=Math.random(),bh=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++_h+xh).toString(36)},wh=yh("wks"),kh=Hs.Symbol,Sh=uh?kh:kh&&kh.withoutSetter||bh,Mh=function(t){return mh(wh,t)&&(lh||"string"==typeof wh[t])||(lh&&mh(kh,t)?wh[t]=kh[t]:wh[t]=Sh("Symbol."+t)),wh[t]},Ah=Mh("toPrimitive"),Th=function(t,e){if(!th(t)||ch(t))return t;var i,n=t[Ah];if(void 0!==n){if(void 0===e&&(e="default"),i=n.call(t,e),!th(i)||ch(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var i,n;if("string"===e&&"function"==typeof(i=t.toString)&&!th(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!th(n=i.call(t)))return n;if("string"!==e&&"function"==typeof(i=t.toString)&&!th(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(t,e)},Ch=function(t){var e=Th(t,"string");return ch(e)?e:String(e)},zh=Hs.document,Ph=th(zh)&&th(zh.createElement),Lh=function(t){return Ph?zh.createElement(t):{}},Dh=!Ys&&!js((function(){return 7!=Object.defineProperty(Lh("div"),"a",{get:function(){return 7}}).a})),Fh=Object.getOwnPropertyDescriptor,Rh={f:Ys?Fh:function(t,e){if(t=Js(t),e=Ch(e),Dh)try{return Fh(t,e)}catch(t){}if(mh(t,e))return Gs(!Vs.f.call(t,e),t[e])}},Eh=function(t){if(!th(t))throw TypeError(String(t)+" is not an object");return t},Ih=Object.defineProperty,Oh={f:Ys?Ih:function(t,e,i){if(Eh(t),e=Ch(e),Eh(i),Dh)try{return Ih(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},Bh=Ys?function(t,e,i){return Oh.f(t,e,Gs(1,i))}:function(t,e,i){return t[e]=i,t},Nh=Function.toString;"function"!=typeof ph.inspectSource&&(ph.inspectSource=function(t){return Nh.call(t)});var Wh,Hh,jh,Yh=ph.inspectSource,Xh=Hs.WeakMap,Uh="function"==typeof Xh&&/native code/.test(Yh(Xh)),Vh=yh("keys"),Gh=function(t){return Vh[t]||(Vh[t]=bh(t))},Zh={},qh="Object already initialized",Kh=Hs.WeakMap;if(Uh||ph.state){var Qh=ph.state||(ph.state=new Kh),$h=Qh.get,Jh=Qh.has,tl=Qh.set;Wh=function(t,e){if(Jh.call(Qh,t))throw new TypeError(qh);return e.facade=t,tl.call(Qh,t,e),e},Hh=function(t){return $h.call(Qh,t)||{}},jh=function(t){return Jh.call(Qh,t)}}else{var el=Gh("state");Zh[el]=!0,Wh=function(t,e){if(mh(t,el))throw new TypeError(qh);return e.facade=t,Bh(t,el,e),e},Hh=function(t){return mh(t,el)?t[el]:{}},jh=function(t){return mh(t,el)}}var il={set:Wh,get:Hh,has:jh,enforce:function(t){return jh(t)?Hh(t):Wh(t,{})},getterFor:function(t){return function(e){var i;if(!th(e)||(i=Hh(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},nl=Ls((function(t){var e=il.get,i=il.enforce,n=String(String).split("String");(t.exports=function(t,e,r,o){var a,s=!!o&&!!o.unsafe,h=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||mh(r,"name")||Bh(r,"name",e),(a=i(r)).source||(a.source=n.join("string"==typeof e?e:""))),t!==Hs?(s?!l&&t[e]&&(h=!0):delete t[e],h?t[e]=r:Bh(t,e,r)):h?t[e]=r:fh(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Yh(this)}))})),rl=Math.ceil,ol=Math.floor,al=function(t){return isNaN(t=+t)?0:(t>0?ol:rl)(t)},sl=Math.min,hl=function(t){return t>0?sl(al(t),9007199254740991):0},ll=Math.max,ul=Math.min,cl=function(t,e){var i=al(t);return i<0?ll(i+e,0):ul(i,e)},fl=function(t){return function(e,i,n){var r,o=Js(e),a=hl(o.length),s=cl(n,a);if(t&&i!=i){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===i)return t||s||0;return!t&&-1}},dl={includes:fl(!0),indexOf:fl(!1)}.indexOf,pl=function(t,e){var i,n=Js(t),r=0,o=[];for(i in n)!mh(Zh,i)&&mh(n,i)&&o.push(i);for(;e.length>r;)mh(n,i=e[r++])&&(~dl(o,i)||o.push(i));return o},yl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vl=yl.concat("length","prototype"),gl={f:Object.getOwnPropertyNames||function(t){return pl(t,vl)}},ml={f:Object.getOwnPropertySymbols},_l=ih("Reflect","ownKeys")||function(t){var e=gl.f(Eh(t)),i=ml.f;return i?e.concat(i(t)):e},xl=function(t,e){for(var i=_l(e),n=Oh.f,r=Rh.f,o=0;o<i.length;o++){var a=i[o];mh(t,a)||n(t,a,r(e,a))}},bl=/#|\.prototype\./,wl=function(t,e){var i=Sl[kl(t)];return i==Al||i!=Ml&&("function"==typeof e?js(e):!!e)},kl=wl.normalize=function(t){return String(t).replace(bl,".").toLowerCase()},Sl=wl.data={},Ml=wl.NATIVE="N",Al=wl.POLYFILL="P",Tl=wl,Cl=Rh.f,zl=function(t,e){var i,n,r,o,a,s=t.target,h=t.global,l=t.stat;if(i=h?Hs:l?Hs[s]||fh(s,{}):(Hs[s]||{}).prototype)for(n in e){if(o=e[n],r=t.noTargetGet?(a=Cl(i,n))&&a.value:i[n],!Tl(h?n:s+(l?".":"#")+n,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;xl(o,r)}(t.sham||r&&r.sham)&&Bh(o,"sham",!0),nl(i,n,o,t)}},Pl=function(t){if(ch(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},Ll=function(t){var e=Pl($s(this)),i="",n=al(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i},Dl=1..toFixed,Fl=Math.floor,Rl=function(t,e,i){return 0===e?i:e%2==1?Rl(t,e-1,i*t):Rl(t*t,e/2,i)},El=function(t,e,i){for(var n=-1,r=i;++n<6;)r+=e*t[n],t[n]=r%1e7,r=Fl(r/1e7)},Il=function(t,e){for(var i=6,n=0;--i>=0;)n+=t[i],t[i]=Fl(n/e),n=n%e*1e7},Ol=function(t){for(var e=6,i="";--e>=0;)if(""!==i||0===e||0!==t[e]){var n=String(t[e]);i=""===i?n:i+Ll.call("0",7-n.length)+n}return i},Bl=Dl&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!js((function(){Dl.call({})}));zl({target:"Number",proto:!0,forced:Bl},{toFixed:function(t){var e,i,n,r,o=function(t){if("number"!=typeof t&&"Number"!=qs(t))throw TypeError("Incorrect invocation");return+t}(this),a=al(t),s=[0,0,0,0,0,0],h="",l="0";if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(h="-",o=-o),o>1e-21)if(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(o*Rl(2,69,1))-69,i=e<0?o*Rl(2,-e,1):o/Rl(2,e,1),i*=4503599627370496,(e=52-e)>0){for(El(s,0,i),n=a;n>=7;)El(s,1e7,0),n-=7;for(El(s,Rl(10,n,1),0),n=e-1;n>=23;)Il(s,1<<23),n-=23;Il(s,1<<n),El(s,1,1),Il(s,2),l=Ol(s)}else El(s,0,i),El(s,1<<-e,0),l=Ol(s)+Ll.call("0",a);return l=a>0?h+((r=l.length)<=a?"0."+Ll.call("0",a-r)+l:l.slice(0,r-a)+"."+l.slice(r-a)):h+l}});var Nl=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Wl=function(t,e,i){if(Nl(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},Hl=Array.isArray||function(t){return"Array"==qs(t)},jl=Mh("species"),Yl=function(t,e){return new(function(t){var e;return Hl(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Hl(e.prototype)?th(e)&&null===(e=e[jl])&&(e=void 0):e=void 0),void 0===e?Array:e}(t))(0===e?0:e)},Xl=[].push,Ul=function(t){var e=1==t,i=2==t,n=3==t,r=4==t,o=6==t,a=7==t,s=5==t||o;return function(h,l,u,c){for(var f,d,p=vh(h),y=Qs(p),v=Wl(l,u,3),g=hl(y.length),m=0,_=c||Yl,x=e?_(h,g):i||a?_(h,0):void 0;g>m;m++)if((s||m in y)&&(d=v(f=y[m],m,p),t))if(e)x[m]=d;else if(d)switch(t){case 3:return!0;case 5:return f;case 6:return m;case 2:Xl.call(x,f)}else switch(t){case 4:return!1;case 7:Xl.call(x,f)}return o?-1:n||r?r:x}},Vl={forEach:Ul(0),map:Ul(1),filter:Ul(2),some:Ul(3),every:Ul(4),find:Ul(5),findIndex:Ul(6),filterReject:Ul(7)},Gl=Mh("species"),Zl=function(t){return hh>=51||!js((function(){var e=[];return(e.constructor={})[Gl]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ql=Vl.map,Kl=Zl("map");zl({target:"Array",proto:!0,forced:!Kl},{map:function(t){return ql(this,t,arguments.length>1?arguments[1]:void 0)}});var Ql=function(t,e,i){var n=Ch(e);n in t?Oh.f(t,n,Gs(0,i)):t[n]=i},$l=Mh("isConcatSpreadable"),Jl=9007199254740991,tu="Maximum allowed index exceeded",eu=hh>=51||!js((function(){var t=[];return t[$l]=!1,t.concat()[0]!==t})),iu=Zl("concat"),nu=function(t){if(!th(t))return!1;var e=t[$l];return void 0!==e?!!e:Hl(t)};function ru(t){return ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(t)}zl({target:"Array",proto:!0,forced:!eu||!iu},{concat:function(t){var e,i,n,r,o,a=vh(this),s=Yl(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(nu(o=-1===e?a:arguments[e])){if(h+(r=hl(o.length))>Jl)throw TypeError(tu);for(i=0;i<r;i++,h++)i in o&&Ql(s,h,o[i])}else{if(h>=Jl)throw TypeError(tu);Ql(s,h++,o)}return s.length=h,s}});var ou=gl.f,au={}.toString,su="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],hu={f:function(t){return su&&"[object Window]"==au.call(t)?function(t){try{return ou(t)}catch(t){return su.slice()}}(t):ou(Js(t))}},lu=!js((function(){return Object.isExtensible(Object.preventExtensions({}))})),uu=Ls((function(t){var e=Oh.f,i=!1,n=bh("meta"),r=0,o=Object.isExtensible||function(){return!0},a=function(t){e(t,n,{value:{objectID:"O"+r++,weakData:{}}})},s=t.exports={enable:function(){s.enable=function(){},i=!0;var t=gl.f,e=[].splice,r={};r[n]=1,t(r).length&&(gl.f=function(i){for(var r=t(i),o=0,a=r.length;o<a;o++)if(r[o]===n){e.call(r,o,1);break}return r},zl({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:hu.f}))},fastKey:function(t,e){if(!th(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!mh(t,n)){if(!o(t))return"F";if(!e)return"E";a(t)}return t[n].objectID},getWeakData:function(t,e){if(!mh(t,n)){if(!o(t))return!0;if(!e)return!1;a(t)}return t[n].weakData},onFreeze:function(t){return lu&&i&&o(t)&&!mh(t,n)&&a(t),t}};Zh[n]=!0}));uu.enable,uu.fastKey,uu.getWeakData,uu.onFreeze;var cu={},fu=Mh("iterator"),du=Array.prototype,pu={};pu[Mh("toStringTag")]="z";var yu="[object z]"===String(pu),vu=Mh("toStringTag"),gu="Arguments"==qs(function(){return arguments}()),mu=yu?qs:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),vu))?i:gu?qs(e):"Object"==(n=qs(e))&&"function"==typeof e.callee?"Arguments":n},_u=Mh("iterator"),xu=function(t){if(null!=t)return t[_u]||t["@@iterator"]||cu[mu(t)]},bu=function(t,e,i){var n,r;Eh(t);try{if(void 0===(n=t.return)){if("throw"===e)throw i;return i}n=n.call(t)}catch(t){r=!0,n=t}if("throw"===e)throw i;if(r)throw n;return Eh(n),i},wu=function(t,e){this.stopped=t,this.result=e},ku=function(t,e,i){var n,r,o,a,s,h,l,u,c=i&&i.that,f=!(!i||!i.AS_ENTRIES),d=!(!i||!i.IS_ITERATOR),p=!(!i||!i.INTERRUPTED),y=Wl(e,c,1+f+p),v=function(t){return n&&bu(n,"return",t),new wu(!0,t)},g=function(t){return f?(Eh(t),p?y(t[0],t[1],v):y(t[0],t[1])):p?y(t,v):y(t)};if(d)n=t;else{if("function"!=typeof(r=xu(t)))throw TypeError("Target is not iterable");if(void 0!==(u=r)&&(cu.Array===u||du[fu]===u)){for(o=0,a=hl(t.length);a>o;o++)if((s=g(t[o]))&&s instanceof wu)return s;return new wu(!1)}n=function(t,e){var i=arguments.length<2?xu(t):e;if("function"!=typeof i)throw TypeError(String(t)+" is not iterable");return Eh(i.call(t))}(t,r)}for(h=n.next;!(l=h.call(n)).done;){try{s=g(l.value)}catch(t){bu(n,"throw",t)}if("object"==typeof s&&s&&s instanceof wu)return s}return new wu(!1)},Su=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},Mu=Mh("iterator"),Au=!1;try{var Tu=0,Cu={next:function(){return{done:!!Tu++}},return:function(){Au=!0}};Cu[Mu]=function(){return this},Array.from(Cu,(function(){throw 2}))}catch(t){}var zu,Pu=Oh.f,Lu=Mh("toStringTag"),Du=function(t,e,i){t&&!mh(t=i?t:t.prototype,Lu)&&Pu(t,Lu,{configurable:!0,value:e})},Fu=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return Eh(i),function(t){if(!th(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),Ru=function(t,e,i){var n,r;return Fu&&"function"==typeof(n=e.constructor)&&n!==i&&th(r=n.prototype)&&r!==i.prototype&&Fu(t,r),t},Eu=function(t,e,i){var n=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),o=n?"set":"add",a=Hs[t],s=a&&a.prototype,h=a,l={},u=function(t){var e=s[t];nl(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!th(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!th(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!th(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(Tl(t,"function"!=typeof a||!(r||s.forEach&&!js((function(){(new a).entries().next()})))))h=i.getConstructor(e,t,n,o),uu.enable();else if(Tl(t,!0)){var c=new h,f=c[o](r?{}:-0,1)!=c,d=js((function(){c.has(1)})),p=function(t,e){if(!e&&!Au)return!1;var i=!1;try{var n={};n[Mu]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}((function(t){new a(t)})),y=!r&&js((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((h=e((function(e,i){Su(e,h,t);var r=Ru(new a,e,h);return null!=i&&ku(i,r[o],{that:r,AS_ENTRIES:n}),r}))).prototype=s,s.constructor=h),(d||y)&&(u("delete"),u("has"),n&&u("get")),(y||f)&&u(o),r&&s.clear&&delete s.clear}return l[t]=h,zl({global:!0,forced:h!=a},l),Du(h,t),r||i.setStrong(h,t,n),h},Iu=Object.keys||function(t){return pl(t,yl)},Ou=Ys?Object.defineProperties:function(t,e){Eh(t);for(var i,n=Iu(e),r=n.length,o=0;r>o;)Oh.f(t,i=n[o++],e[i]);return t},Bu=ih("document","documentElement"),Nu=Gh("IE_PROTO"),Wu=function(){},Hu=function(t){return"<script>"+t+"</"+"script>"},ju=function(t){t.write(Hu("")),t.close();var e=t.parentWindow.Object;return t=null,e},Yu=function(){try{zu=new ActiveXObject("htmlfile")}catch(t){}var t,e;Yu="undefined"!=typeof document?document.domain&&zu?ju(zu):((e=Lh("iframe")).style.display="none",Bu.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Hu("document.F=Object")),t.close(),t.F):ju(zu);for(var i=yl.length;i--;)delete Yu.prototype[yl[i]];return Yu()};Zh[Nu]=!0;var Xu,Uu,Vu,Gu=Object.create||function(t,e){var i;return null!==t?(Wu.prototype=Eh(t),i=new Wu,Wu.prototype=null,i[Nu]=t):i=Yu(),void 0===e?i:Ou(i,e)},Zu=function(t,e,i){for(var n in e)nl(t,n,e[n],i);return t},qu=!js((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ku=Gh("IE_PROTO"),Qu=Object.prototype,$u=qu?Object.getPrototypeOf:function(t){return t=vh(t),mh(t,Ku)?t[Ku]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Qu:null},Ju=Mh("iterator"),tc=!1;[].keys&&("next"in(Vu=[].keys())?(Uu=$u($u(Vu)))!==Object.prototype&&(Xu=Uu):tc=!0);var ec=null==Xu||js((function(){var t={};return Xu[Ju].call(t)!==t}));ec&&(Xu={}),mh(Xu,Ju)||Bh(Xu,Ju,(function(){return this}));var ic={IteratorPrototype:Xu,BUGGY_SAFARI_ITERATORS:tc},nc=ic.IteratorPrototype,rc=function(){return this},oc=ic.IteratorPrototype,ac=ic.BUGGY_SAFARI_ITERATORS,sc=Mh("iterator"),hc="keys",lc="values",uc="entries",cc=function(){return this},fc=function(t,e,i,n,r,o,a){!function(t,e,i){var n=e+" Iterator";t.prototype=Gu(nc,{next:Gs(1,i)}),Du(t,n,!1),cu[n]=rc}(i,e,n);var s,h,l,u=function(t){if(t===r&&y)return y;if(!ac&&t in d)return d[t];switch(t){case hc:case lc:case uc:return function(){return new i(this,t)}}return function(){return new i(this)}},c=e+" Iterator",f=!1,d=t.prototype,p=d[sc]||d["@@iterator"]||r&&d[r],y=!ac&&p||u(r),v="Array"==e&&d.entries||p;if(v&&(s=$u(v.call(new t)),oc!==Object.prototype&&s.next&&($u(s)!==oc&&(Fu?Fu(s,oc):"function"!=typeof s[sc]&&Bh(s,sc,cc)),Du(s,c,!0))),r==lc&&p&&p.name!==lc&&(f=!0,y=function(){return p.call(this)}),d[sc]!==y&&Bh(d,sc,y),cu[e]=y,r)if(h={values:u(lc),keys:o?y:u(hc),entries:u(uc)},a)for(l in h)(ac||f||!(l in d))&&nl(d,l,h[l]);else zl({target:e,proto:!0,forced:ac||f},h);return h},dc=Mh("species"),pc=Oh.f,yc=uu.fastKey,vc=il.set,gc=il.getterFor,mc={getConstructor:function(t,e,i,n){var r=t((function(t,o){Su(t,r,e),vc(t,{type:e,index:Gu(null),first:void 0,last:void 0,size:0}),Ys||(t.size=0),null!=o&&ku(o,t[n],{that:t,AS_ENTRIES:i})})),o=gc(e),a=function(t,e,i){var n,r,a=o(t),h=s(t,e);return h?h.value=i:(a.last=h={index:r=yc(e,!0),key:e,value:i,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=h),n&&(n.next=h),Ys?a.size++:t.size++,"F"!==r&&(a.index[r]=h)),t},s=function(t,e){var i,n=o(t),r=yc(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return Zu(r.prototype,{clear:function(){for(var t=o(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,Ys?t.size=0:this.size=0},delete:function(t){var e=this,i=o(e),n=s(e,t);if(n){var r=n.next,a=n.previous;delete i.index[n.index],n.removed=!0,a&&(a.next=r),r&&(r.previous=a),i.first==n&&(i.first=r),i.last==n&&(i.last=a),Ys?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=o(this),n=Wl(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),Zu(r.prototype,i?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),Ys&&pc(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(t,e,i){var n=e+" Iterator",r=gc(e),o=gc(n);fc(t,e,(function(t,e){vc(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),function(t){var e=ih(t),i=Oh.f;Ys&&e&&!e[dc]&&i(e,dc,{configurable:!0,get:function(){return this}})}(e)}};Eu("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),mc);var _c=yu?{}.toString:function(){return"[object "+mu(this)+"]"};yu||nl(Object.prototype,"toString",_c,{unsafe:!0});var xc=function(t){return function(e,i){var n,r,o=Pl($s(e)),a=al(i),s=o.length;return a<0||a>=s?t?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?t?o.charAt(a):n:t?o.slice(a,a+2):r-56320+(n-55296<<10)+65536}},bc={codeAt:xc(!1),charAt:xc(!0)},wc=bc.charAt,kc="String Iterator",Sc=il.set,Mc=il.getterFor(kc);fc(String,"String",(function(t){Sc(this,{type:kc,string:Pl(t),index:0})}),(function(){var t,e=Mc(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=wc(i,n),e.index+=t.length,{value:t,done:!1})}));var Ac={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Tc=Mh("unscopables"),Cc=Array.prototype;null==Cc[Tc]&&Oh.f(Cc,Tc,{configurable:!0,value:Gu(null)});var zc=function(t){Cc[Tc][t]=!0},Pc="Array Iterator",Lc=il.set,Dc=il.getterFor(Pc),Fc=fc(Array,"Array",(function(t,e){Lc(this,{type:Pc,target:Js(t),index:0,kind:e})}),(function(){var t=Dc(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");cu.Arguments=cu.Array,zc("keys"),zc("values"),zc("entries");var Rc=Mh("iterator"),Ec=Mh("toStringTag"),Ic=Fc.values;for(var Oc in Ac){var Bc=Hs[Oc],Nc=Bc&&Bc.prototype;if(Nc){if(Nc[Rc]!==Ic)try{Bh(Nc,Rc,Ic)}catch(t){Nc[Rc]=Ic}if(Nc[Ec]||Bh(Nc,Ec,Oc),Ac[Oc])for(var Wc in Fc)if(Nc[Wc]!==Fc[Wc])try{Bh(Nc,Wc,Fc[Wc])}catch(t){Nc[Wc]=Fc[Wc]}}}var Hc=Oh.f,jc=Function.prototype,Yc=jc.toString,Xc=/^\s*function ([^ (]*)/,Uc="name";Ys&&!(Uc in jc)&&Hc(jc,Uc,{configurable:!0,get:function(){try{return Yc.call(this).match(Xc)[1]}catch(t){return""}}});var Vc=function(t,e){var i=[][t];return!!i&&js((function(){i.call(null,e||function(){throw 1},1)}))},Gc=Vl.forEach,Zc=Vc("forEach")?[].forEach:function(t){return Gc(this,t,arguments.length>1?arguments[1]:void 0)};for(var qc in Ac){var Kc=Hs[qc],Qc=Kc&&Kc.prototype;if(Qc&&Qc.forEach!==Zc)try{Bh(Qc,"forEach",Zc)}catch(t){Qc.forEach=Zc}}function $c(t){return function(t){if(Array.isArray(t))return bs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ws(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jc,tf,ef=function(){var t=Eh(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},nf=Hs.RegExp,rf={UNSUPPORTED_Y:js((function(){var t=nf("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:js((function(){var t=nf("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},of=Hs.RegExp,af=js((function(){var t=of(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),sf=Hs.RegExp,hf=js((function(){var t=sf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),lf=il.get,uf=RegExp.prototype.exec,cf=yh("native-string-replace",String.prototype.replace),ff=uf,df=(Jc=/a/,tf=/b*/g,uf.call(Jc,"a"),uf.call(tf,"a"),0!==Jc.lastIndex||0!==tf.lastIndex),pf=rf.UNSUPPORTED_Y||rf.BROKEN_CARET,yf=void 0!==/()??/.exec("")[1];(df||yf||pf||af||hf)&&(ff=function(t){var e,i,n,r,o,a,s,h=this,l=lf(h),u=Pl(t),c=l.raw;if(c)return c.lastIndex=h.lastIndex,e=ff.call(c,u),h.lastIndex=c.lastIndex,e;var f=l.groups,d=pf&&h.sticky,p=ef.call(h),y=h.source,v=0,g=u;if(d&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=u.slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==u.charAt(h.lastIndex-1))&&(y="(?: "+y+")",g=" "+g,v++),i=new RegExp("^(?:"+y+")",p)),yf&&(i=new RegExp("^"+y+"$(?!\\s)",p)),df&&(n=h.lastIndex),r=uf.call(d?i:h,g),d?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:df&&r&&(h.lastIndex=h.global?r.index+r[0].length:n),yf&&r&&r.length>1&&cf.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&f)for(r.groups=a=Gu(null),o=0;o<f.length;o++)a[(s=f[o])[0]]=r[s[1]];return r});var vf=ff;zl({target:"RegExp",proto:!0,forced:/./.exec!==vf},{exec:vf});var gf=Mh("species"),mf=RegExp.prototype,_f=function(t,e,i,n){var r=Mh(t),o=!js((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),a=o&&!js((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[gf]=function(){return i},i.flags="",i[r]=/./[r]),i.exec=function(){return e=!0,null},i[r](""),!e}));if(!o||!a||i){var s=/./[r],h=e(r,""[t],(function(t,e,i,n,r){var a=e.exec;return a===vf||a===mf.exec?o&&!r?{done:!0,value:s.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}));nl(String.prototype,t,h[0]),nl(mf,r,h[1])}n&&Bh(mf[r],"sham",!0)},xf=Mh("match"),bf=Mh("species"),wf=bc.charAt,kf=function(t,e,i){return e+(i?wf(t,e).length:1)},Sf=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==qs(t))throw TypeError("RegExp#exec called on incompatible receiver");return vf.call(t,e)},Mf=rf.UNSUPPORTED_Y,Af=[].push,Tf=Math.min,Cf=4294967295,zf=!js((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));_f("split",(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n,r,o=Pl($s(this)),a=void 0===i?Cf:i>>>0;if(0===a)return[];if(void 0===t)return[o];if(!th(n=t)||!(void 0!==(r=n[xf])?r:"RegExp"==qs(n)))return e.call(o,t,a);for(var s,h,l,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=new RegExp(t.source,c+"g");(s=vf.call(d,o))&&!((h=d.lastIndex)>f&&(u.push(o.slice(f,s.index)),s.length>1&&s.index<o.length&&Af.apply(u,s.slice(1)),l=s[0].length,f=h,u.length>=a));)d.lastIndex===s.index&&d.lastIndex++;return f===o.length?!l&&d.test("")||u.push(""):u.push(o.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=$s(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,i):n.call(Pl(r),e,i)},function(t,r){var o=Eh(this),a=Pl(t),s=i(n,o,a,r,n!==e);if(s.done)return s.value;var h=function(t,e){var i,n=Eh(t).constructor;return void 0===n||null==(i=Eh(n)[bf])?e:Nl(i)}(o,RegExp),l=o.unicode,u=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Mf?"g":"y"),c=new h(Mf?"^(?:"+o.source+")":o,u),f=void 0===r?Cf:r>>>0;if(0===f)return[];if(0===a.length)return null===Sf(c,a)?[a]:[];for(var d=0,p=0,y=[];p<a.length;){c.lastIndex=Mf?0:p;var v,g=Sf(c,Mf?a.slice(p):a);if(null===g||(v=Tf(hl(c.lastIndex+(Mf?p:0)),a.length))===d)p=kf(a,p,l);else{if(y.push(a.slice(d,p)),y.length===f)return y;for(var m=1;m<=g.length-1;m++)if(y.push(g[m]),y.length===f)return y;p=d=v}}return y.push(a.slice(d)),y}]}),!zf,Mf);var Pf=function(){function t(e,i){Ss(this,t),this.ws=e,this.hs=i}return As(t,[{key:"getGrid",value:function(e,i){return{xs:[0].concat($c(t.split(this.ws,e))),ys:[0].concat($c(t.split(this.hs,i)))}}}],[{key:"split",value:function(t,e){var i=e,n=0,r=0,o=0,a=t.map((function(t){switch(ru(t)){case"number":return i-=t,o+=t;case"function":return n=t(),i-=n,o+=n;default:return r++,-1}}));return r&&(n=i/r,o=0,a=a.map((function(t,e){return t<0?(o+=n,e?a[e-1]+o:o):t+o}))),a}}]),t}(),Lf=Vl.filter,Df=Zl("filter");zl({target:"Array",proto:!0,forced:!Df},{filter:function(t){return Lf(this,t,arguments.length>1?arguments[1]:void 0)}});var Ff="\t\n\v\f\r                　\u2028\u2029\ufeff",Rf="["+Ff+"]",Ef=RegExp("^"+Rf+Rf+"*"),If=RegExp(Rf+Rf+"*$"),Of=function(t){return function(e){var i=Pl($s(e));return 1&t&&(i=i.replace(Ef,"")),2&t&&(i=i.replace(If,"")),i}},Bf={start:Of(1),end:Of(2),trim:Of(3)},Nf=gl.f,Wf=Rh.f,Hf=Oh.f,jf=Bf.trim,Yf="Number",Xf=Hs.Number,Uf=Xf.prototype,Vf=qs(Gu(Uf))==Yf,Gf=function(t){if(ch(t))throw TypeError("Cannot convert a Symbol value to a number");var e,i,n,r,o,a,s,h,l=Th(t,"number");if("string"==typeof l&&l.length>2)if(43===(e=(l=jf(l)).charCodeAt(0))||45===e){if(88===(i=l.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((h=o.charCodeAt(s))<48||h>r)return NaN;return parseInt(o,n)}return+l};if(Tl(Yf,!Xf(" 0o1")||!Xf("0b1")||Xf("+0x1"))){for(var Zf,qf=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof qf&&(Vf?js((function(){Uf.valueOf.call(i)})):qs(i)!=Yf)?Ru(new Xf(Gf(e)),i,qf):Gf(e)},Kf=Ys?Nf(Xf):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Qf=0;Kf.length>Qf;Qf++)mh(Xf,Zf=Kf[Qf])&&!mh(qf,Zf)&&Hf(qf,Zf,Wf(Xf,Zf));qf.prototype=Uf,Uf.constructor=qf,nl(Hs,Yf,qf)}zl({target:"Array",proto:!0},{fill:function(t){for(var e=vh(this),i=hl(e.length),n=arguments.length,r=cl(n>1?arguments[1]:void 0,i),o=n>2?arguments[2]:void 0,a=void 0===o?i:cl(o,i);a>r;)e[r++]=t;return e}}),zc("fill");var $f=Math.log,Jf=Math.LOG10E;zl({target:"Math",stat:!0},{log10:function(t){return $f(t)*Jf}});var td=Bf.trim,ed=Hs.parseFloat,id=1/ed(Ff+"-0")!=-1/0?function(t){var e=td(Pl(t)),i=ed(e);return 0===i&&"-"==e.charAt(0)?-0:i}:ed;zl({target:"Number",stat:!0,forced:Number.parseFloat!=id},{parseFloat:id});var nd="toString",rd=RegExp.prototype,od=rd.toString,ad=js((function(){return"/a/b"!=od.call({source:"a",flags:"b"})})),sd=od.name!=nd;(ad||sd)&&nl(RegExp.prototype,nd,(function(){var t=Eh(this),e=Pl(t.source),i=t.flags;return"/"+e+"/"+Pl(void 0===i&&t instanceof RegExp&&!("flags"in rd)?ef.call(t):i)}),{unsafe:!0});var hd=Vl.findIndex,ld="findIndex",ud=!0;ld in[]&&Array(1).findIndex((function(){ud=!1})),zl({target:"Array",proto:!0,forced:ud},{findIndex:function(t){return hd(this,t,arguments.length>1?arguments[1]:void 0)}}),zc(ld);var cd=Math.floor,fd=function(t,e){var i=t.length,n=cd(i/2);return i<8?dd(t,e):pd(fd(t.slice(0,n),e),fd(t.slice(n),e),e)},dd=function(t,e){for(var i,n,r=t.length,o=1;o<r;){for(n=o,i=t[o];n&&e(t[n-1],i)>0;)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},pd=function(t,e,i){for(var n=t.length,r=e.length,o=0,a=0,s=[];o<n||a<r;)o<n&&a<r?s.push(i(t[o],e[a])<=0?t[o++]:e[a++]):s.push(o<n?t[o++]:e[a++]);return s},yd=fd,vd=nh.match(/firefox\/(\d+)/i),gd=!!vd&&+vd[1],md=/MSIE|Trident/.test(nh),_d=nh.match(/AppleWebKit\/(\d+)\./),xd=!!_d&&+_d[1],bd=[],wd=bd.sort,kd=js((function(){bd.sort(void 0)})),Sd=js((function(){bd.sort(null)})),Md=Vc("sort"),Ad=!js((function(){if(hh)return hh<70;if(!(gd&&gd>3)){if(md)return!0;if(xd)return xd<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)bd.push({k:e+n,v:i})}for(bd.sort((function(t,e){return e.v-t.v})),n=0;n<bd.length;n++)e=bd[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));zl({target:"Array",proto:!0,forced:kd||!Sd||!Md||!Ad},{sort:function(t){void 0!==t&&Nl(t);var e=vh(this);if(Ad)return void 0===t?wd.call(e):wd.call(e,t);var i,n,r=[],o=hl(e.length);for(n=0;n<o;n++)n in e&&r.push(e[n]);for(r=yd(r,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:Pl(e)>Pl(i)?1:-1}}(t)),i=r.length,n=0;n<i;)e[n]=r[n++];for(;n<o;)delete e[n++];return e}});var Td=Math.floor,Cd="".replace,zd=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Pd=/\$([$&'`]|\d{1,2})/g,Ld=function(t,e,i,n,r,o){var a=i+t.length,s=n.length,h=Pd;return void 0!==r&&(r=vh(r),h=zd),Cd.call(o,h,(function(o,h){var l;switch(h.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":l=r[h.slice(1,-1)];break;default:var u=+h;if(0===u)return o;if(u>s){var c=Td(u/10);return 0===c?o:c<=s?void 0===n[c-1]?h.charAt(1):n[c-1]+h.charAt(1):o}l=n[u-1]}return void 0===l?"":l}))},Dd=Mh("replace"),Fd=Math.max,Rd=Math.min,Ed="$0"==="a".replace(/./,"$0"),Id=!!/./[Dd]&&""===/./[Dd]("a","$0");function Od(t,e){return isNaN(t)?t:(void 0===e&&(e=12),+parseFloat(t.toPrecision(e)))}function Bd(t){var e=t.toString().split(/[eE]/),i=(e[0].split(".")[1]||"").length-+(e[1]||0);return i>0?i:0}function Nd(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var e=Bd(t);return e>0?t*Math.pow(10,e):t}function Wd(t,e){var i=Nd(t),n=Nd(e),r=Bd(t)+Bd(e);return i*n/Math.pow(10,r)}function Hd(t,e){var i=Math.pow(10,Math.max(Bd(t),Bd(e)));return(Wd(t,i)+Wd(e,i))/i}function jd(t,e){var i=Math.pow(10,Math.max(Bd(t),Bd(e)));return(Wd(t,i)-Wd(e,i))/i}function Yd(t,e){return Wd(Nd(t)/Nd(e),Math.pow(10,Bd(e)-Bd(t)))}function Xd(t){var e=t.filter((function(t){return!isNaN(parseFloat(String(t)))}));if((e=e.map((function(t){return parseFloat(String(t))}))).length>0){var i=e[0],n=e[0];return e.forEach((function(t){t<i?i=t:t>n&&(n=t)})),[i,n]}throw new Error("空数组")}function Ud(t,e){if(t>=e)return[t,e];var i=t>0?0:t,n=e<0?0:e,r=[];if(n-i>1){var o=Math.ceil((n-i)/5*1.05);r[0]=Math.floor(i),r[1]=Math.floor(i)+5*o}else{var a=(n-i)/5*1.05;r[0]=Number(i),r[1]=Number(i+5*a)}return r}function Vd(t,e,i){if(t>=e)throw new Error("区间不合理");for(var n=function(t){var e=Math.pow(10,Math.floor(Math.log10(t)));return Math.ceil(t/e)*e}((e-t)/i),r=[],o=Math.floor(t/n)*n;o<e;)r.push(o),o+=n;return r.push(o),r}function Gd(){for(var t="#",e=0;e<3;e++)t+=Math.floor(256*Math.random()).toString(16);return t}function Zd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t.map((function(t){return[e[0]+i*Math.sin(t),e[1]-i*Math.cos(t)]}))}function qd(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=1/(t-1),n=[];if(e)for(var r=t-1;r>-1;r--)n.push(r*i);else for(var o=0;o<t;o++)n.push(o*i);return n}function Kd(t,e){var i=Math.pow(10,Math.floor(Math.log10(t))),n=Wd(Math.ceil(t/i),i),r=Wd(Math.floor(t/i),i),o=[Math.pow(10,Math.ceil(Math.log10(t))),n,Hd(r,Wd(.5,i)),Hd(r,Wd(.2,i)),Hd(r,Wd(.4,i)),Hd(r,Wd(.6,i)),Hd(r,Wd(.8,i))],a=o.findIndex((function(i){return i>t&&(i-t)/t<e}));return-1===a?n:o[a]}function Qd(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=null===e?0:e,o=null===t?0:t,a=Math.min(r,o),s=Math.max(r,o);a=a>0?0:a,s=s<0?0:s;var h=i-1,l=n||jd(s,a)/h,u=Kd(l,1/h),c=[];if(0>=s&&s*a==0)for(var f=0;f<=h;f++)c.push(Wd(u,-f));else if(0>=a&&s*a==0)for(var d=0;d<=h;d++)c.push(Wd(u,d));else{var p=Yd(s,u),y=h-(p=Math.floor(p)*u>s+u?Math.floor(p):Math.ceil(p));if(p*u<s||y*u<Math.abs(a))return Qd(s,a,i,1.05*u);c.push(0);for(var v=1;v<=p;v++)c.push(Wd(u,v));for(var g=1;g<=y;g++)c.push(Wd(u,-g))}return c.sort((function(t,e){return t-e})),c}function $d(t,e,i,n,r){var o=Qd(t,e,r),a=Qd(i,n,r);if(0===o[0]&&0===a[r-1]||0===o[r-1]&&0===a[0]){var s=Math.max(Math.abs(t),Math.abs(e)),h=Math.max(Math.abs(i),Math.abs(n));return $d(s,-s,h,-h,r)}var l=o.findIndex((function(t){return 0===t})),u=a.findIndex((function(t){return 0===t}));if(u===l)return[o,a];var c=r/2,f=Math.abs(c-l)>Math.abs(c-u)?u:l,d=Math.abs(c-l)>Math.abs(c-u)?o:a,p=Math.max(r-f-1,0),y=0===p?0:d[d.length-1]/p,v=0===f?0:Math.abs(d[0])/f,g=Math.max(y,v),m=Math.floor(Math.log10(g)),_=Math.pow(10,m);_=Wd(Math.ceil(g/_),_);for(var x=[],b=0;b<=p;b++)x.push(Wd(b,_));for(var w=1;w<=f;w++)x.push(Wd(-w,_));return x.sort((function(t,e){return t-e})),d===o?[x,a]:[o,x]}_f("replace",(function(t,e,i){var n=Id?"$":"$0";return[function(t,i){var n=$s(this),r=null==t?void 0:t[Dd];return void 0!==r?r.call(t,n,i):e.call(Pl(n),t,i)},function(t,r){var o=Eh(this),a=Pl(t);if("string"==typeof r&&-1===r.indexOf(n)&&-1===r.indexOf("$<")){var s=i(e,o,a,r);if(s.done)return s.value}var h="function"==typeof r;h||(r=Pl(r));var l=o.global;if(l){var u=o.unicode;o.lastIndex=0}for(var c=[];;){var f=Sf(o,a);if(null===f)break;if(c.push(f),!l)break;""===Pl(f[0])&&(o.lastIndex=kf(a,hl(o.lastIndex),u))}for(var d,p="",y=0,v=0;v<c.length;v++){f=c[v];for(var g=Pl(f[0]),m=Fd(Rd(al(f.index),a.length),0),_=[],x=1;x<f.length;x++)_.push(void 0===(d=f[x])?d:String(d));var b=f.groups;if(h){var w=[g].concat(_,m,a);void 0!==b&&w.push(b);var k=Pl(r.apply(void 0,w))}else k=Ld(g,a,m,_,b,r);m>=y&&(p+=a.slice(y,m)+k,y=m+g.length)}return p+a.slice(y)}]}),!!js((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Ed||Id),zl({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),zl({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Jd=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(this,i),(n=e.call(this)).grid={xs:[0],ys:[0]},n.elements=new Map,n.mousePosition=[0,0],n.intercept=!1,n.delayIntercept=0,n.hideMouseAfter=0,n.toIntercept=0,n.option=r,n.zr=Ui(t,{devicePixelRatio:n.dpr,renderer:n.render}),"number"==typeof r.catchMouseAfter&&r.catchMouseAfter>=0&&(n.delayIntercept=r.catchMouseAfter,n.hideMouseAfter=r.hideMouseAfter||0,n.zr.on("mousedown",n.onMouseDown.bind(Es(n))),n.zr.on("mousemove",n.onMouseMove.bind(Es(n))),n.zr.on("mouseup",n.onMouseUp.bind(Es(n)))),n}return As(i,[{key:"dpr",get:function(){return this.option.dpr||2}},{key:"render",get:function(){return this.option.render||"canvas"}},{key:"layout",get:function(){return this.option.layout||new Pf([10,"auto",10],[10,"auto",10])}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1],i=this.elements.get(t.name);return i&&this.remove(i),this.elements.set(t.name,t),this.zr.add(t.shape),t.onAdd(this,e),t}},{key:"remove",value:function(t){this.elements.delete(t.name),this.zr.remove(t.shape),t.onRemove()}},{key:"ready",value:function(){this.grid=this.layout.getGrid(this.zr.dom.offsetWidth,this.zr.dom.offsetHeight),this.elements.forEach((function(t){t.update()})),this.trigger("ready")}},{key:"resize",value:function(){this.zr.resize(),this.ready()}},{key:"getRect",value:function(t){var e,i,n,r;if("object"===ru(t[0])){var o=ks(t,1),a=ks(o[0],2);e=a[0],i=a[1]}else{i=e=ks(t,1)[0]}if("object"===ru(t[1])){var s=ks(t,2),h=ks(s[1],2);n=h[0],r=h[1]}else{r=n=ks(t,2)[1]}var l=this.grid.xs[e],u=this.grid.ys[n];return{x:l,y:u,width:this.grid.xs[i+1]-l,height:this.grid.ys[r+1]-u}}},{key:"showLayout",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,i=new Wi,n=0;n<this.grid.xs.length-1;n++)for(var r=this.grid.xs[n],o=this.grid.xs[n+1],a=0;a<this.grid.ys.length-1;a++){var s=this.grid.ys[a],h=this.grid.ys[a+1];i.add(new Ir({silent:!0,shape:{x:r,y:s,width:o-r,height:h-s},style:{fill:Gd(),opacity:.5}}))}this.zr.add(i),setTimeout((function(){t.zr.remove(i)}),e)}},{key:"onMouseDown",value:function(){var t=this;this.delayIntercept>=0&&(this.toIntercept=setTimeout((function(){t.toIntercept=0,t.intercept=!0,t.onMousedown()}),this.delayIntercept))}},{key:"onMouseMove",value:function(t){if(this.mousePosition[0]=t.offsetX,this.mousePosition[1]=t.offsetY,!this.intercept&&this.delayIntercept>0)return clearTimeout(this.toIntercept),void(this.toIntercept=0);t.event.preventDefault(),this.onMousemove()}},{key:"onMouseUp",value:function(){var t=this;this.toIntercept&&(clearTimeout(this.toIntercept),this.toIntercept=0),this.intercept=!1,this.hideMouseAfter>0?this.toIntercept=setTimeout((function(){t.intercept||t.elements.forEach((function(t){t.onCancelMousePointer&&t.onCancelMousePointer()}))}),this.hideMouseAfter):this.elements.forEach((function(t){t.onCancelMousePointer&&t.onCancelMousePointer()}))}},{key:"onMousemove",value:function(){this.elements.forEach((function(t){t.onMousemove&&t.onMousemove()}))}},{key:"onMousedown",value:function(){this.elements.forEach((function(t){t.onMousedown&&t.onMousedown()}))}}]),i}(et),tp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;return Ss(this,i),(r=e.call(this)).delta=n-t,r.min=t,r}return As(i,[{key:"normalize",value:function(t){return void 0===t||""===String(t)||null===t?NaN:this.delta?(t-this.min)/this.delta:.5}},{key:"denormalize",value:function(t){return this.delta?this.delta*t+this.min:this.min}}]),i}((function t(){Ss(this,t)})),ep=function(){function t(e){var i=this;Ss(this,t),this.serieses=[],this._data=e;for(var n=e[0],r=function(t){i.serieses.push(e.map((function(e){return e[t]})))},o=1;o<n.length;o++)r(o);this.xDatas=e.map((function(t){return t[0]})),this.xScaler=new tp(0,e.length-1),this.nomalizedX=this.xDatas.map((function(t,e){return i.xScaler.normalize(e)}))}return As(t,[{key:"length",get:function(){return this._data.length}},{key:"nomalize",value:function(t,e){return this.serieses[t].map((function(t){return e.normalize(t)}))}},{key:"sum",value:function(t){return this.serieses[t].reduce((function(t,e){return t+e}),0)}},{key:"getRange",value:function(t,e){if(e){var i=e.denormalize(0),n=e.denormalize(1);return Xd(this.serieses[t].filter((function(t,e){return e>=i&&e<=n})))}return Xd(this.serieses[t])}},{key:"getExpandRange",value:function(t,e){if(t>=e)return[t,e];var i=qd(5).length,n=[];if((e=e<0?0:e)-(t=t>0?0:t)>1){var r=Math.ceil((e-t)/(i-1)*1.1);n[0]=Math.floor(t),n[1]=Math.floor(t)+r*(i-1)}else{var o=(e-t)/(i-1)*1.1;n[0]=Number(t.toFixed(2)),n[1]=Number((t+o*(i-1)).toFixed(2))}return n}},{key:"setXRange",value:function(t){var e=this;this.xScaler=t instanceof Array?new tp(t[0],t[1]):t,this.nomalizedX=this.xDatas.map((function(t,i){return e.xScaler.normalize(i)}))}},{key:"filterX",value:function(t){for(var e=t.denormalize(0),i=t.denormalize(1),n=[],r=e;r<=i;r++)n.push(this.xDatas[r]);return n}},{key:"filterY",value:function(t,e){for(var i=e.denormalize(0),n=e.denormalize(1),r=[],o=i;o<=n;o++)r.push(this.serieses[t][o]);return r}},{key:"dataCountInRange",get:function(){var t=Math.round(this.xScaler.denormalize(0));return Math.round(this.xScaler.denormalize(1))-t+1}}]),t}(),ip=function(){function t(e){Ss(this,t),this.shape=new Wi,this.name=e}return As(t,[{key:"onAdd",value:function(t,e){this.chart=t,this.position=e}},{key:"onRemove",value:function(){this.chart=void 0}}]),t}(),np={fill:"none",stroke:"#888888"},rp={fontFamily:"THSMoneyfont-Medium",fill:"#C5CCD6",fontSize:10},op="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA9NJREFUaAXtmr1OWzEYhp2TEJBQCIoAlSUL7dCpY4XUsZU6cxGw9BaYegtd4CI6R6JjJdSRqUPLcpaWH0WECImEEPo+5hi54SQlaZvjI2HJ+Dv+fT778w92CmYMd3x8/PTm5uaNiryQX5O8WigUapIrksuSSwqjUVUqT195egq7yteW3JT8Q/Kh/IHkvZWVle+j6vDTCv5HmtxsNqtXV1ebSttSY2tpef51nJRAmZ2ZmZndWq3WGlX/UAXoyZOTk3cK38svUEkURaZcLluPXCwWbZwaNPhxnOo0+H6/b66vr23Y7XYNnjic6jyX315eXv6g8DZyoJHUVmUqT1T5R/l18gM9Pz9vw4Hy/+UTJS4uLqwyNCD4ffkNmdbPwQbvKXB6evq81+s1lLFOL1cqFTM3NzdYbirfl5eXpt1uuxGJS6XS26Wlpa9+478pQM9r+L4AL/sz1WrVmolfYNoy5tVqtYzmIU3H6tSX/kjcrRgylwizUSYLr8mTOTzEzDNY6FDYEtO+474Tkgm7jtnQ86E5mGBjXsLq+KwJJUtlrMQFMmZl8w5qWMicwJw0oc81InWWWDsCsi/W+AVWm1DhUQo2GGFN9ibjTIiNyi6VhCE7lvPEbREWOB5o5fmGfWnDcIlBh5oDdmkV8zNWHs42U9uk/kXPYEY42DEhDma5VAB2FLAHNEwoL85jXcOEVgFnw5jENRoNg09zk6al1eXHOVbYS1pTaxLsJuFneqgcx/HQrJOmDa0wSXAjADt2UyFeH0ly+IHHWkGBWZC9yOA1cKyynDIKTGb8AagpRUpMYpTIpYM9t/Cuxx8VcD2RVfg4Aln1vGv3cQRcT2QVRtoMUm+8sgIap13Y2ch64xQKKS/sjAC3xPaeMiS4USwCt8mwM4nbfLlImxL4H4+1zX1+U7yr3Ai7c/Y4/PV6fWj2SdOGVpgkuNtr2AtHR0d7El4vLi6a2Vl7sv5T+czTO52OOTs741+AT5gQjwnuBjhzuIcAuBFQ3kMUOKAQd/J5cR7rAavQXl4VgD3iQU3CIcPiaRbsYMAIK8ywu7PQDsQ864TuPEbLbBXgNVAanaMdV9ihOthghBVmOK0C3LMrcpsI3qR41gnNwQQbDlaYrWxj9Ed7QaSb6s8K13nO4VknJKdHGPtOJvh92f4rhfYQ6uYAWvXlNwQd86BGgRBGAgYHDxuMDp4Ovncdl+tnVjTC5fqh+1aF2zmR258aOCUIkxdM3qM2NcGn+WOPXS0mO2618Zl8+d4c8BMHZd7TpETqz22Ul6NskdVssJz/nUxA1umO/F//3OYXdnci/Bf0Z6sAAAAASUVORK5CYII=",ap=new tp(0,1);function sp(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hp(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function lp(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?hp(Object(i),!0).forEach((function(e){sp(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):hp(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function up(t){if(t.style.lineWidth&&t.style.lineWidth>1)return t;var e=t.shape,i=e.x1,n=e.x2,r=e.y1,o=e.y2;return i==n&&(i=n=Math.floor(i)+.5),r==o&&(r=o=Math.floor(r)+.5),t.attr({shape:{x1:i,x2:n,y1:r,y2:o}}),t}var cp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;return Ss(this,i),(r=e.call(this,t)).shape=new Wi,r.option=n,r}return As(i,[{key:"update",value:function(){if(this.chart&&this.position){var t=this.chart.getRect(this.position);switch(this.shape.attr({x:t.x,y:t.y}),this.shape.removeAll(),this.location){case"left":this.setleft(t.width,t.height);break;case"right":this.setRight(t.width,t.height);break;case"top":this.setTop(t.width,t.height);break;default:this.setBottom(t.width,t.height)}}}},{key:"setleft",value:function(t,e){var i=this;this.data.forEach((function(n,r){var o=i.scaler.normalize(n)*t;i.shape.add(up(new Wr({silent:!0,style:i.getStyle(r),z:i.option.z,shape:{x1:o,y1:0,x2:o,y2:e}})))}))}},{key:"setRight",value:function(t,e){var i=this;this.data.forEach((function(n,r){var o=(1-i.scaler.normalize(n))*t;i.shape.add(up(new Wr({silent:!0,style:i.getStyle(r),z:i.option.z,shape:{x1:o,y1:0,x2:o,y2:e}})))}))}},{key:"setTop",value:function(t,e){var i=this;this.data.forEach((function(n,r){var o=i.scaler.normalize(n)*e;i.shape.add(up(new Wr({silent:!0,style:i.getStyle(r),z:i.option.z,shape:{x1:0,y1:o,x2:t,y2:o}})))}))}},{key:"setBottom",value:function(t,e){var i=this;this.data.forEach((function(n,r){var o=(1-i.scaler.normalize(n))*e;i.shape.add(up(new Wr({silent:!0,style:i.getStyle(r),z:i.option.z,shape:{x1:0,y1:o,x2:t,y2:o}})))}))}},{key:"style",get:function(){return this.option.style||np}},{key:"data",get:function(){return this.option.data||[]}},{key:"scaler",get:function(){return this.option.scaler||ap}},{key:"location",get:function(){return this.option.location||"bottom"}},{key:"getStyle",value:function(t){return"function"==typeof this.style?this.style(t):this.style}}]),i}(ip),fp=[].join,dp=Qs!=Object,pp=Vc("join",",");zl({target:"Array",proto:!0,forced:dp||!pp},{join:function(t){return fp.call(Js(this),void 0===t?",":t)}});var yp=function(t){Cs(i,t);var e=Os(i);function i(t){return Ss(this,i),e.call(this,t)}return As(i,[{key:"buildPath",value:function(t,e){jr(t,e,!1),t.lineTo(e.end[0],e.end[1]),t.lineTo(e.begin[0],e.begin[1]),t.lineTo(e.points[0][0],e.points[0][1])}}]),i}(kr);var vp=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(this,i),(n=e.call(this,t)).start=-1,n.shape=new Wi,n.pointerAt=0,n.active=-1,n.splits=[],n.option=r,n.option.shapeWidth=r.shapeWidth?r.shapeWidth:function(){return 0},n.option.x=r.x?r.x:function(){return 0},n.showpointer=r.show||!0,n.onChart=!1,n.lock=!1,n.data.forEach((function(t,e){n.shape.add(n.getShape(e))})),n.option.connect&&(n.connectShape=new Zr({silent:!0,shape:{smooth:n.option.smooth?n.option.smooth:void 0},style:n.option.connect,z:n.option.z}),n.shape.add(n.connectShape),n.option.showArea&&(n.areaShape=new Ur({shape:{smooth:n.option.smooth?n.option.smooth:void 0,points:[[0,0]]},style:{fill:""}}),n.shape.add(n.areaShape))),(r.pointer||r.pointerMaker)&&(r.pointer&&(n.shape.add(r.pointer),n.pointerShape=r.pointer),r.pointerMaker&&(r.pointerMaker.hide(),n.shape.add(r.pointerMaker),n.pointerMaker=r.pointerMaker),n.onMousedown=function(){var t,e,i,r;if(null===(t=n.option)||void 0===t||null===(e=t.event)||void 0===e||e.beforeDown(n.name),!n.lock&&(n.firstmousex=null===(i=n.chart)||void 0===i?void 0:i.mousePosition[0],n.firstmousey=null===(r=n.chart)||void 0===r?void 0:r.mousePosition[1],n.chart&&n.position&&n.firstmousex&&n.firstmousey)){var o=n.chart.getRect(n.position);n.firstmousex<o.x||n.firstmousex>o.x+o.width||n.firstmousey<o.y||n.firstmousey>o.y+o.height?(n.onChart=!1,n.pointerShape&&n.pointerShape.hide(),n.pointerMaker&&n.pointerMaker.hide()):(n.firstmousex>o.x||n.firstmousex<o.x+o.width||n.firstmousey>o.y||n.firstmousey<o.y+o.height)&&(n.onChart=!0,n.mobileTouch())}},n.onMousemove=function(){var t,e;if(null===(t=n.option)||void 0===t||null===(e=t.event)||void 0===e||e.beforeMove(n.name),!n.lock)if(n.chart&&n.position&&r.data&&"Mobile"==r.PCorMobile){var i=n.chart.getRect(n.position),o=n.chart.mousePosition[0],a=n.chart.mousePosition[1];n.onChart?n.mobileTouch():o>i.x&&o<i.x+i.width&&a>i.y&&a<i.y+i.height?n.onChart=!0:(n.pointerShape&&n.pointerShape.hide(),n.pointerMaker&&n.pointerMaker.hide())}else if(n.chart&&n.position&&r.data&&"PC"==r.PCorMobile){var s=n.chart.getRect(n.position),h=n.chart.mousePosition[0]-n.shape.x,l=n.chart.mousePosition[1]-n.shape.y;1==n.splits.length?h<s.x||h>s.width+s.x||l<s.y||l>s.y+s.height?n.pointerMaker&&n.pointerShape&&(n.pointerShape.hide(),n.pointerMaker.hide()):r.onPointerChange&&r.onPointerChange(0):n.splits.some((function(t,e,i){if(h<t||e==i.length-1&&h>t||l<0||l>s.height)return n.pointerMaker&&n.pointerShape&&(n.pointerShape.hide(),n.pointerMaker.hide()),!0;if(i[e+1]>h){var o=i[e+1]-h>h-t?e:e+1;return(h=i[o])!=n.pointerAt&&(n.pointerShape&&(n.pointerShape.attr({shape:{x1:h,x2:h,y2:s.height}}),n.pointerShape.show()),n.pointerMaker&&n.value&&(n.pointerMaker.attr({x:h,y:n.value[o+n.start]*s.height}),n.pointerMaker.show(),isNaN(n.value[o+n.start])&&n.pointerMaker.hide()),n.pointerAt=h,r.onPointerChange&&r.onPointerChange(h/s.width)),!0}return!1}))}},n.onCancelMousePointer=function(){var t,e;null===(t=n.option)||void 0===t||null===(e=t.event)||void 0===e||e.beforeCancel(n.name),n.pointerAt>=0&&(n.pointerShape&&n.pointerShape.hide(),n.pointerMaker&&n.pointerMaker.hide(),r.onPointerChange&&r.onPointerChange(-1),n.pointerAt=-1)}),n}return As(i,[{key:"location",get:function(){return this.option.location||"middle"}},{key:"data",get:function(){return this.option.data||[]},set:function(t){this.option.data=t}},{key:"value",get:function(){return this.option.value},set:function(t){this.option.value=t}},{key:"height",get:function(){return this.shape.getBoundingRect().height}},{key:"update",value:function(){var t=this;if(this.chart&&this.position){this.splits=[];var e=this.chart.getRect(this.position),i=this.option.shapeWidth();i?e.width-=i:e.width;var n=this.option.x();switch(this.location){case"top":this.shape.attr({x:e.x+n,y:e.y});break;case"bottom":this.shape.attr({x:e.x+n,y:e.y+e.height});break;default:this.shape.attr({x:e.x+n,y:e.y+e.height/2})}var r=[];if(this.data.forEach((function(i,n){var o=t.shape.childAt(n);if(i>=0&&i<=1){o.show();var a=t.option.value?t.option.value[n]*e.height:0,s=[i*e.width,a];t.splits.push(s[0]),1==t.splits.length&&(t.start=n),o.attr({x:s[0],y:s[1]}),r.push(s),t.option.adjust&&t.option.adjust(n,o,e.width,e.height)}else o.hide()})),this.option.minDistance&&this.hideClash(this.option.minDistance),this.option.connect&&this.connectShape){var o=r.filter((function(t){return!isNaN(t[0])&&!isNaN(t[1])})),a=this.connectShape;if(1===o.length)this.connectShape=new Pr({silent:!0,shape:{r:5,cx:o[0][0],cy:o[0][1]},style:{fill:this.option.connect.stroke?this.option.connect.stroke:"#505DE6"}});else if(this.connectShape=new Zr({silent:!0,shape:{smooth:this.option.smooth?this.option.smooth:void 0,points:o},style:this.option.connect,z:this.option.z}),this.option.showArea){var s,h,l,u,c,f,d,p,y,v=this.areaShape,g={smooth:"number"!=typeof this.connectShape.shape.smooth?0:this.connectShape.shape.smooth,color:String(this.option.connect.stroke),beginOpacity:null!==(s=null===(h=this.option)||void 0===h||null===(l=h.shadowOption)||void 0===l?void 0:l.beginOpacity)&&void 0!==s?s:.5,endOpacity:null!==(u=null===(c=this.option)||void 0===c||null===(f=c.shadowOption)||void 0===f?void 0:f.endOpacity)&&void 0!==u?u:0},m={points:o,height:e.height,areaDirection:null!==(d=null===(p=this.option)||void 0===p||null===(y=p.shadowOption)||void 0===y?void 0:y.areaDirection)&&void 0!==d?d:"down"};this.areaShape=function(t,e){var i=e.color,n=e.smooth,r=e.beginOpacity,o=void 0===r?.5:r,a=e.endOpacity,s=void 0===a?0:a,h=t.points,l=t.height,u=t.areaDirection,c=void 0===u?"down":u,f=ne(String(i)),d=$c(f);if(f[3]=o,d[3]=s,c&&"up"===c){var p=f;f=d,d=p}var y=new Kr(1,1,1,0,[{offset:1,color:"rgba(".concat(f.join(","),")")},{offset:0,color:"rgba(".concat(d.join(","),")")}]),v=h.filter((function(t){return!isNaN(t[0])&&!isNaN(t[1])})),g=[v[0][0],l],m=[v[v.length-1][0],l];v.length>0&&c&&"up"===c&&(g=[v[0][0],0],m=[v[v.length-1][0],0]);var _=new yp({shape:{smooth:n,points:v,begin:g,end:m},style:{fill:y}});return _.getBoundingRect().x=0,_.getBoundingRect().y=0,isNaN(_.getBoundingRect().height)&&(_.getBoundingRect().height=l+10),isNaN(_.getBoundingRect().width)&&(_.getBoundingRect().width=Number(h[h.length-1][0])),_}(m,g),this.shape.replace(v,this.areaShape)}this.shape.replace(a,this.connectShape)}this.splits.sort((function(t,e){return t-e}))}}},{key:"getShape",value:function(t){return this.option.shape?this.option.shape(t):new Wi}},{key:"hideClash",value:function(t){var e=-100;this.shape.eachChild((function(i){if(!i.ignore){var n=i.getBoundingRect().x+i.x;n<e?i.hide():e=n+i.getBoundingRect().width+t}}))}},{key:"mobileTouch",value:function(){if(this.chart&&this.position){var t;if(this.connectShape&&this.connectShape instanceof Pr)null===(t=this.pointerMaker)||void 0===t||t.hide();var e=this.chart.getRect(this.position),i=this.chart.mousePosition[0]-this.shape.x;1===this.splits.length&&this.option.onPointerChange&&this.option.onPointerChange(0);var n=0;i>=this.splits[this.splits.length-1]?n=this.splits.length-1:this.splits.some((function(t,e,r){return i<t||e==r.length-1||r[e+1]>i&&(n=r[e+1]-i>i-t?e:e+1,!0)})),(i=this.splits[n])!=this.pointerAt&&(this.pointerShape&&(this.pointerShape.attr({shape:{x1:i,x2:i,y2:e.height}}),this.pointerShape.show()),this.pointerMaker&&this.value&&!isNaN(this.value[n+this.start])&&(this.pointerMaker.attr({x:i,y:this.value[n+this.start]*e.height}),this.showpointer?this.pointerMaker.show():this.pointerMaker.hide()),this.pointerAt=i,this.option.onPointerChange&&this.option.onPointerChange(i/e.width))}}}]),i}(ip),gp=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(this,i),(n=e.call(this,t)).shape=new Wi,n.option=r,n.data.forEach((function(t,e){n.shape.add(n.getShape(e))})),n}return As(i,[{key:"data",get:function(){return this.option.data||[]}},{key:"location",get:function(){return this.option.location||"center"}},{key:"width",get:function(){return this.shape.getBoundingRect().width}},{key:"getShape",value:function(t){return this.option.shape?this.option.shape(t):new Ir({shape:{x:-2,y:-2,width:4,height:4},style:{fill:"red"}})}},{key:"update",value:function(){var t=this;if(this.chart&&this.position){var e=this.chart.getRect(this.position);switch(this.location){case"left":this.shape.attr({x:e.x,y:e.y});break;case"right":this.shape.attr({x:e.x+e.width,y:e.y});break;default:this.shape.attr({x:e.x+e.width/2,y:e.y})}this.shape.eachChild((function(i,n){var r=t.data[n];r>=0&&r<=1?(i.show(),i.attr({y:r*e.height})):i.hide()}))}}}]),i}(ip),mp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).theme={axis:"#C5CCD6",splitLine:"#ECEEF1",zoomBg:"#F7F3F7",zoomData:"#E7E3E7",zoomFilter:"#165DFF",disable:"#ccc",colors:"#165DFF"};var o=ks(n.padding||[20,0,40,0],4),a=o[0],s=o[1],h=o[2],l=o[3];return r.barWidth=n.barWidth||20,r.frontSize=n.frontSize||10,n.layout=new Pf([l,function(){return r.yLabels?r.yLabels.width:0},4,40,"auto",40,s],[a,20,10,"auto",5,function(){return r.xLabels?r.xLabels.height:0},h]),r}return As(i,[{key:"setData",value:function(t){var e=this,i=new ep(t);this.dataset=i;var n=this.barWidth;this.xLabels=this.add(new vp("xLabels",{data:this.dataset.nomalizedX,shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:i.xDatas[t],align:"center",verticalAlign:"middle",fill:e.theme.axis,fontSize:10}})}}),[4,5]);var r=Vd(0,ks(i.getRange(0),2)[1],5),o=new tp(r[r.length-1],0);this.add(new cp("spliteLine",{scaler:o,data:r,location:"top",style:function(t){return t?{stroke:"#ECEEF1",lineDash:[5,5]}:{stroke:"#C5CCD6",lineWidth:1}}}),[[3,5],3]),this.yLabels=this.add(new gp("yLabels",{data:qd(r.length,!0),location:"right",shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:r[t].toFixed(0),align:"right",verticalAlign:"middle",fill:e.theme.axis,fontSize:12}})}}),[1,3]),this.series=this.add(new vp("barseries",{location:"top",data:this.dataset.nomalizedX,value:this.dataset.serieses[0].map((function(t){return o.normalize(t)})),shape:function(t){var n=new Wi,r=i.serieses[0][t],o=r<0?"top":"bottom";return n.add(new Zo({silent:!0,style:{text:r.toFixed(1),stroke:"#000",fontSize:e.frontSize,align:"center",verticalAlign:o}})),n.add(new Ir({silent:!0,shape:{x:-e.barWidth/2,r:r<0?[0,0,4,4]:[4,4,0,0],width:e.barWidth},style:{fill:e.theme.colors}})),n},adjust:function(t,e,o,a){var s=i.serieses[0][t],h=e.childAt(0),l=e.childAt(1);a-e.y>=0&&Math.max(a-e.y,2),l.attr({shape:{y:a*(s/r[r.length-1]),x:-n/2,r:s<0?[0,0,4,4]:[4,4,0,0],width:n,height:0}}),h.attr({y:a*(s/r[r.length-1])}),l.animate("shape",!1).when(600,{height:-a*(s/r[r.length-1])}).start("quadraticInOut"),h.animate().when(600,{y:-10}).start("quadraticInOut")}}),[4,3]),this.ready()}},{key:"getTooltip",value:function(t){var e,i,n,r,o;return this.dataset&&this.dataset.serieses[0][t]?'<div style="min-width:235px;background-color:rgba(50,50,50,0.8);text-align:left;border-radius:16px;">\n            <div style="color:#FFFFFF;font-size:20px;padding-top:16px;padding-left:16px;padding-bottom: 12px;">\n                '.concat(null===(e=this.dataset)||void 0===e?void 0:e.xDatas[t],'\n            </div>\n            <div style="display:flex; flex-direction:column;justify-content:center;padding-left:16px;">\n                <div\n                    style="display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:nowrap;padding-bottom:12px;padding-right: 16px;">\n                    <div style="color:#FFFFFF;font-size:20px;font-family: PingFangSC-Regular;">\n                        <div\n                            style="display: inline-block;width: 10px;height: 10px;margin-right: 10px;border-radius:50%;background: #165DFF;top:50%;left:50%">\n                        </div>\n                        China\n                    </div>\n                    <div style="color: #FFFFFF;opacity: 100%;font-size: 24px;font-family:THSMoneyfont-Medium;">\n                        ').concat(null===(i=this.dataset)||void 0===i?void 0:i._data[t][1].toFixed(3),'\n                    </div>\n                </div>\n                <div\n                    style="display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:nowrap;padding-bottom:12px;padding-right: 16px;">\n                    <div style="color:#FFFFFF;font-size:20px;font-family: PingFangSC-Regular">\n                        <div\n                            style="display: inline-block;width: 10px;height: 10px;margin-right: 10px;border-radius:50%;background: #CA65FF;top:50%;left:50%">\n                        </div>\n                        US\n                    </div>\n                    <div style="color: #FFFFFF;opacity: 100%;font-size: 24px;font-family:THSMoneyfont-Medium;">\n                        ').concat(null===(n=this.dataset)||void 0===n?void 0:n._data[t][1].toFixed(3),'\n                    </div>\n                </div>\n                <div\n                    style="display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:nowrap;padding-bottom:12px;padding-right: 16px;">\n                    <div style="color:#FFFFFF;font-size:20px;font-family: PingFangSC;">\n                        <div\n                            style="display: inline-block;width: 10px;height: 10px;margin-right: 10px;border-radius:50%;background: #ff62a1;top:50%;left:50%">\n                        </div>\n                        EUR\n                    </div>\n                    <div style="color: #FFFFFF;font-size: 24px;font-family:THSMoneyfont-Medium;">\n                        ').concat(null===(r=this.dataset)||void 0===r?void 0:r._data[t][1].toFixed(3),'\n                    </div>\n                </div>\n                <div\n                    style="display:flex;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:nowrap;padding-bottom:16px;padding-right: 16px;">\n                    <div style="color:#FFFFFF;font-size:20px;font-family: PingFangSC;">\n                        <div\n                            style="display: inline-block;width: 10px;height: 10px;margin-right: 10px;border-radius:50%;background: #FFB616;top:50%;left:50%">\n                        </div>\n        \n                        Others\n                    </div>\n                    <div style="color: #FFFFFF;font-size: 24px;font-family:THSMoneyfont-Medium;">\n                        ').concat(null===(o=this.dataset)||void 0===o?void 0:o._data[t][1].toFixed(3),"\n                    </div>\n                </div>\n            </div>\n        </div>"):""}}]),i}(Jd);Eu("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),mc);var _p=function(){function t(e){Ss(this,t),this.data=[],this.xDatas=[],this.nomalizedX=[],this.lSeriesMap=new Map,this.rSeriesMap=new Map,this.lyScaler=ap,this.ryScaler=ap,this.xScaler=ap,this.visible=new Set,this.option=e,this.splits=qd(e.splitCount||5),this.visible=e.visible?e.visible:this.visible,this.expandRate=e.expandRate||0,this.option.roundUp="boolean"!=typeof e.roundUp||e.roundUp}return As(t,[{key:"setData",value:function(t,e){this.xScaler=e||new tp(0,t.length-1),this.data=t,this.update()}},{key:"setRange",value:function(t,e){var i=this.data.length-1,n=Math.round(i*t),r=Math.round(i*e);n==Math.round(this.xScaler.denormalize(0))&&r==Math.round(this.xScaler.denormalize(1))||(this.xScaler=new tp(n,r),this.update())}},{key:"setVisible",value:function(t){this.visible=t}},{key:"update",value:function(){var t=this,e=this.option,i=this.data;if(this.xDatas=i.map((function(t){return t[e.xKey]})),this.nomalizedX=this.xDatas.map((function(e,i){return t.xScaler.normalize(i)})),this.calSplits(),this.updateYscaler("left"),this.updateYscaler("right"),0!==this.lyScaler.delta&&0!==this.ryScaler.delta&&"both"==this.option.coverZero&&this.option.roundUp){var n=this.lyScaler.min,r=this.lyScaler.delta+this.lyScaler.min,o=this.ryScaler.min,a=this.ryScaler.delta+this.ryScaler.min;if(0==this.lSeriesMap.size||0===this.rSeriesMap.size)return;var s=$d(n,r,o,a,this.splits.length);this.lyScaler=new tp(s[0][this.splits.length-1],s[0][0]),this.ryScaler=new tp(s[1][this.splits.length-1],s[1][0])}}},{key:"updateYscaler",value:function(t){var e=this.calDataRange(t);if(Array.isArray(e)){var i="left"===t?this.lSeriesMap:this.rSeriesMap;if(e=this.checkRange(e,i,t),e=this.expandRange(e,this.expandRate),"both"!=this.option.coverZero&&this.option.coverZero!=t||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),this.option.roundUp&&e[1]!==e[0]){var n=Qd(e[0],e[1],this.splits.length);e=[n[0],n[this.splits.length-1]]}var r=new tp(e[1],e[0]);"left"===t?this.lyScaler=e[1]===e[0]&&0===e[0]?this.lyScaler:r:this.ryScaler=e[1]===e[0]&&0===e[0]?this.ryScaler:r}}},{key:"calDataRange",value:function(t){var e=this,i=this.option,n=this.data,r="left"===t?i.lyKeys:i.ryKeys,o="left"===t?this.lSeriesMap:this.rSeriesMap,a="left"===t?this.option.lyRangeKeys:this.option.ryRangeKeys;if(!r)return null;r.forEach((function(t){o.set(t,n.map((function(e){return e[t]})))}));var s=Math.round(this.xScaler.denormalize(0)),h=Math.round(this.xScaler.denormalize(1)),l=[];o.forEach((function(t,i){if(e.visible.has(i)&&-1===e.getyRangeIndex(i,a))for(var n=s,r=0;n<t.length&&n<=h;n++,r++)l.push(t[n])}));var u=this.getStackRange(t);return l.length?0===u[0]&&0===u[1]?Xd(l):Xd([].concat(l,$c(u))):u[0]!==u[1]?Xd($c(u)):[0,0]}},{key:"calSplits",value:function(){if(this.option.splitLineCountAuto){var t=this.calDataRange("left"),e=this.calDataRange("right"),i=[0,0];Array.isArray(t)&&(i=$c(t)),Array.isArray(e)&&(i=[].concat($c(i),$c(e)));var n=function(t,e){if(t*e>=0)return 5;var i=Math.min(t,e),n=Math.max(t,e),r=Math.abs(n/i);return r>=4||r<=.25||r>1/3&&r<=2/3||r>1.5&&r<3?6:5}((i=Xd(i))[0],i[1]);this.splits=qd(n)}}},{key:"getYvalues",value:function(t){var e=this,i=[];return this.splits.forEach((function(n,r){i.push(e.split(r,t))})),i}},{key:"getYvalueIndex",value:function(t,e){return this.getYvalues(e).findIndex((function(e){return e==t}))}},{key:"checkRange",value:function(t,e,i){var n=this,r="left"===i?this.option.lyRangeKeys:this.option.ryRangeKeys;if(t[0]!==t[1])return t;if(0===t[0]&&0===t[1]){var o=[],a=this.data.length-1;e.forEach((function(t,e){if(n.visible.has(e)&&-1===n.getyRangeIndex(e,r))for(var i=0,s=0;i<t.length&&i<=a;i++,s++)o.push(t[i])}));var s=this.getStackRange(i),h=Xd(o.length?0===s[0]&&0===s[1]?o:[].concat(o,$c(s)):s[0]!==s[1]?$c(s):[0,0]);return 0===h[0]&&0===h[1]?[0,1]:this.checkRange(h,e,i)}var l=Qd(t[0],t[1],this.splits.length);return[l[0],l[l.length-1]]}},{key:"split",value:function(t,e){var i;return i="right"==e.toLowerCase()?this.myDenormalize(this.ryScaler,this.splits[t]):"left"==e.toLowerCase()?this.myDenormalize(this.lyScaler,this.splits[t]):-1,Number(Od(i,14))}},{key:"myDenormalize",value:function(t,e){var i=Od(t.delta,14),n=Od(t.min,14),r=Od(e,14);return i?Hd(Wd(i,r),n):n}},{key:"countDataInView",value:function(){var t=Math.round(this.xScaler.denormalize(0));return Math.round(this.xScaler.denormalize(1))-t+1}},{key:"getNomalizedY",value:function(){var t=[];this.lSeriesMap.forEach((function(e){t.length==e.length?e.forEach((function(e,i){t[i]+=e})):t=$c(e)}));var e=Xd(t),i=new tp(e[0],e[1]);return t.map((function(t){return i.normalize(t)}))}},{key:"getStackRange",value:function(t){var e=this,i="left"===t?this.option.lyRangeKeys:this.option.ryRangeKeys,n=this.lSeriesMap,r=Math.round(this.xScaler.denormalize(0)),o=Math.round(this.xScaler.denormalize(1)),a=[],s=[];n.forEach((function(t,n){var h=e.getyRangeIndex(n,i);if(e.visible.has(n)&&-1!==h)for(var l=r,u=0;l<t.length&&l<=o;l++,u++)!isNaN(t[l])&&t[l]>=0&&(a[u]?a[u]+=Number(t[l]):a[u]=Number(t[l])),!isNaN(t[l])&&t[l]<0&&(s[u]?s[u]+=Number(t[l]):s[u]=Number(t[l]))}));var h=[].concat(a,s);return 0===h.length?[0,0]:Xd(h)}},{key:"getyRangeIndex",value:function(t,e){var i=this;return e?e.findIndex((function(e){return-1!==e.findIndex((function(e){return e===t&&i.visible.has(t)}))})):-1}},{key:"expandRange",value:function(t,e){if(isNaN(e)||0===e)return t;var i=(t[1]-t[0])*e,n=[t[0]-i/2,t[1]+i/2];return t[1]*t[0]>0&&n[0]*n[1]<0&&(t[0]>0&&(n[0]=0,n[1]=t[1]+(i-t[0])),t[1]<0&&(n[1]=0,n[0]=t[0]-(i+t[1]))),n}}]),t}(),xp=function(t){Cs(i,t);var e=Os(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ss(this,i),(t=e.call(this)).startAt=0,t.anim=0,t.option=n,t.scaler=new tp(t.begin,t.end),t}return As(i,[{key:"begin",get:function(){return this.option.begin||0}},{key:"end",get:function(){return this.option.end||1e3}},{key:"now",get:function(){return this.option.now||0},set:function(t){var e=t;e=Math.min(e,this.end),(e=Math.max(e,this.begin))!=this.option.now&&(this.option.now=e,this.update())}},{key:"resume",value:function(){this.anim||(this.trigger("resume",this.now),this.startAt=Date.now()-this.now,this.anim=requestAnimationFrame(this.tick.bind(this)))}},{key:"pause",value:function(){this.anim&&(cancelAnimationFrame(this.anim),this.anim=0,this.trigger("pause",this.now))}},{key:"play",value:function(){this.anim||(this.trigger("play"),this.now=0,this.startAt=Date.now(),this.anim=requestAnimationFrame(this.tick.bind(this)))}},{key:"tick",value:function(){this.now=Date.now()-this.startAt,this.now==this.end?(this.anim=0,this.trigger("finish",this.now)):this.anim=requestAnimationFrame(this.tick.bind(this)),this.trigger("tick",this.now)}}],[{key:"doEase",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"linear";return Nt[e](t)}}]),i}(et),bp=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(this,i),(n=e.call(this,t)).option=r,n.shape=new Wr({silent:!0,style:n.style}),n}return As(i,[{key:"style",get:function(){return this.option.style||np}},{key:"location",get:function(){return this.option.location||"top"}},{key:"update",value:function(){if(this.chart&&this.position){var t=this.chart.getRect(this.position);switch(this.location){case"left":this.shape.attr({shape:{x1:t.x,x2:t.x,y1:t.y,y2:t.y+t.height}});break;case"right":this.shape.attr({shape:{x1:t.x+t.width,x2:t.x+t.width,y1:t.y,y2:t.y+t.height}});break;case"top":this.shape.attr({shape:{x1:t.x,x2:t.x+t.width,y1:t.y,y2:t.y}});break;default:this.shape.attr({shape:{x1:t.x,x2:t.x+t.width,y1:t.y+t.height,y2:t.y+t.height}})}up(this.shape)}}}]),i}(ip),wp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;return Ss(this,i),(r=e.call(this,t)).option=n,r.shape=r.option.shape,r}return As(i,[{key:"update",value:function(){if(this.chart&&this.position){var t=this.chart.getRect(this.position);this.shape.attr({x:t.x,y:t.y}),this.option.update&&this.option.update(this.shape,t.width,t.height)}}}]),i}(ip);function kp(t,e,i){return kp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zs(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}},kp(t,e,i||t)}var Sp=function t(){var e=this;Ss(this,t),this.use=function(t,i){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof t)throw new TypeError("fn is not a function");return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if(r)return t.apply(e,a),void(r=!1);clearTimeout(n),n=setTimeout((function(){t.apply(e,a)}),i)}}},Mp=function(t){Cs(i,t);var e=Os(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ZoomBar",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(this,i),(t=e.call(this,n)).shape=new Wi,t.mode="center",t.width=0,t.data=[],t.option=r,t.background=new Ir({silent:!0,style:{fill:r.bgColor||"#F7F3F7"}}),t.filter=new Ir({style:{fill:r.filterColor||"#165DFF",opacity:.5},cursor:"e-resize"}),t.handlerLeft=new Tr({style:{image:t.icon},cursor:"e-resize"}),t.handlerRight=new Tr({style:{image:t.icon},cursor:"e-resize"}),t.series=new Ur({silent:!0,style:{fill:r.dataColor||"#E7E3E7",opacity:.5}}),t.filter.on("mousedown",t.onMouseDown.bind(Es(t))),t.handlerLeft.on("mousedown",t.onMouseDown.bind(Es(t))),t.handlerRight.on("mousedown",t.onMouseDown.bind(Es(t))),(null==r.show||r.show)&&(t.shape.add(t.background),t.shape.add(t.series),t.shape.add(t.filter),t.shape.add(t.handlerLeft),t.shape.add(t.handlerRight)),t.onMouseMove=t.onMouseMove.bind(Es(t)),t.onMouseUp=t.onMouseUp.bind(Es(t)),t.option.datazoom&&t.option.datazoom.on("change",t.onZoomChange.bind(Es(t))),r.zoomBarBuriedpoint&&(t.zoomBarBuriedpoint=r.zoomBarBuriedpoint,t.debounce=(new Sp).use(t.zoomBarBuriedpoint,1e3,!1)),t}return As(i,[{key:"setData",value:function(t){this.data=t}},{key:"left",get:function(){return this.option.left||0},set:function(t){this.option.left=t<0?0:t}},{key:"right",get:function(){return this.option.right||1},set:function(t){this.option.right=t>1?1:t}},{key:"icon",get:function(){return this.option.icon||(this.option.pc?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAYCAYAAAA20uedAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAB6ADAAQAAAABAAAAGAAAAAAz5t8FAAAAcUlEQVQoFWNgQAKbN2/+j8RlYELmoLPJl2Tctm2b579//2b9//9fBmYsIyPjEyYmpjQWkMTcBatkbty6B5Nj0FBXlkmOD53FBNKBLAFScePmXQaQOPkOGtUJDEYmUAwAAxoe6CAGiA8SxxtlKDrolIYAm6kzmwq9R98AAAAASUVORK5CYII=":op)}},{key:"onAdd",value:function(t,e){kp(zs(i.prototype),"onAdd",this).call(this,t,e),t.zr.on("mousemove",this.onMouseMove),t.zr.on("mouseup",this.onMouseUp)}},{key:"onRemove",value:function(){var t,e;kp(zs(i.prototype),"onRemove",this).call(this),null===(t=this.chart)||void 0===t||t.zr.off("mousemove",this.onMouseMove),null===(e=this.chart)||void 0===e||e.zr.off("mouseup",this.onMouseUp)}},{key:"update",value:function(){if(this.chart&&this.position){var t=this.chart.getRect(this.position),e=t.x,i=t.y,n=t.width,r=t.height;this.width=n;var o=this.option.pc?5:r;if(this.shape.attr({x:e,y:i}),this.background.attr({shape:{width:n,height:r,r:2.5}}),this.filter.attr({shape:{x:this.left*n+r/2,width:(this.right-this.left)*n-r,height:r}}),this.handlerLeft.attr({x:this.left*n,style:{x:0,width:o,height:r}}),this.handlerRight.attr({x:this.right*n,style:{x:this.right-o,y:0,width:o,height:r}}),this.data.length>1){var a=n/(this.data.length-1),s=this.data.map((function(t,e){return[e*a,r-t*r]}));s.push([n,r],[0,r]),this.series.attr({shape:{points:s}})}}}},{key:"onMouseDown",value:function(t){switch(this.option.datazoom&&(this.option.datazoom.lock=!0),this.mousePosition=[t.offsetX,t.offsetY],t.target){case this.handlerLeft:this.mode="left";break;case this.handlerRight:this.mode="right";break;default:this.mode="center"}t.event.preventDefault()}},{key:"onMouseMove",value:function(t){if(this.mousePosition){var e=this.handlerLeft.x,i=this.handlerRight.x,n=0;this.option.minCount&&this.handlerLeft.style.width&&(n=(this.option.minCount-1)/(this.data.length-1)*this.width<2*this.handlerLeft.style.width?2*this.handlerLeft.style.width:(this.option.minCount-1)/(this.data.length-1)*this.width);var r=t.offsetX-this.shape.x;if("center"==this.mode){var o=t.offsetX-this.mousePosition[0];if(e+o<0||i+o>this.width)return;this.left=(e+o)/this.width,this.right=(i+o)/this.width,this.mousePosition=[t.offsetX,t.offsetY]}else r>i?(this.mode="right",this.right=r/this.width):r<e?(this.mode="left",this.left=r/this.width):"left"==this.mode?(r>i-n&&(r=i-n),this.left=r/this.width):(r<e+n&&(r=e+n),this.right=r/this.width);this.debounce&&this.debounce(),this.onChange()}}},{key:"zoomBarBuriedpoint",value:function(){}},{key:"onMouseUp",value:function(){this.option.datazoom&&(this.option.datazoom.lock=!1),this.mousePosition=void 0}},{key:"initZoomChange",value:function(){var t;null===(t=this.option.datazoom)||void 0===t||t.setRange(this.left,this.right)}},{key:"onChange",value:function(){var t=this.width,e=this.filter.shape.height/2;this.filter.attr({shape:{x:this.left*t+e,width:(this.right-this.left)*t-2*e}}),this.handlerLeft.attr({x:this.left*t}),this.handlerRight.attr({x:this.right*t}),this.option.datazoom&&this.option.datazoom.setRange(this.left,this.right),this.option.onChange&&this.option.onChange(this.left,this.right)}},{key:"onZoomChange",value:function(t){!this.mousePosition&&this.option.datazoom&&(this.left=t.denormalize(0)/(this.option.datazoom.total-1),this.right=t.denormalize(1)/(this.option.datazoom.total-1),this.onChange())}}]),i}(ip),Ap=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r,o=arguments;Ss(this,i),(r=e.call(this,n)).option=n,r.target=t;var a=Es(r),s=a.from,h=a.to;return r.target.attr({style:s}),r.animator=t.animate("style",!1).when(r.end-r.begin,h).during((function(){n.cb&&n.cb(o[0],o[1].now)})).start(),r.animator.pause(),r}return As(i,[{key:"update",value:function(){if(this.option.easing){var t=xp.doEase(this.scaler.normalize(this.now),this.option.easing);this.animator.getClip().onframe(t)}else this.animator.getClip().onframe(this.scaler.normalize(this.now))}},{key:"from",get:function(){return this.option.from}},{key:"to",get:function(){return this.option.to}}]),i}(xp),Tp=function(t){Cs(i,t);var e=Os(i);function i(t){var n;return Ss(this,i),n=e.call(this,{begin:Math.min.apply(Math,$c(t.map((function(t){return t.begin})))),end:Math.max.apply(Math,$c(t.map((function(t){return t.end}))))}),n.players=t,n}return As(i,[{key:"update",value:function(){var t=this;this.players.forEach((function(e){e.now=t.now}))}}]),i}(xp),Cp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;return Ss(this,i),(r=e.call(this,n)).option=n,r.target=t instanceof Array?t:[t],r.animator=[],r.target.forEach((function(t){if(r.option.style){t.attr({style:lp({},r.option.style[0])});var e=t.animate("style",!1).when(r.end-r.begin,r.option.style[1]).start();e.pause(),r.animator.push(e)}if(r.option.shape){t.attr({shape:r.option.shape[0]});var i=t.animate("shape",!1).when(r.end-r.begin,r.option.shape[1]).start();i._clip&&(i.pause(),r.animator.push(i))}})),r}return As(i,[{key:"update",value:function(){var t=xp.doEase(this.scaler.normalize(this.now),this.option.easing);this.animator.forEach((function(e){e.getClip().onframe(t)}))}}]),i}(xp),zp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return Ss(this,i),(r=e.call(this)).lock=!1,r.openSlide=!1,r.once=!0,r.sigleTriggle=0,r.chart=t,r.event=s,r.position=n,r.onMouseDown=r.onMouseDown.bind(Es(r)),r.onMouseMove=r.onMouseMove.bind(Es(r)),r.onMouseUp=r.onMouseUp.bind(Es(r)),r.onMouseWheel=r.onMouseWheel.bind(Es(r)),a&&(t.zr.on("mousedown",r.onMouseDown),t.zr.on("mousemove",r.onMouseMove),t.zr.on("mouseup",r.onMouseUp)),o&&t.zr.on("mousewheel",r.onMouseWheel),r}return As(i,[{key:"step",get:function(){if(!this._step&&this.scaler){var t=this.chart.getRect(this.position);this._step=t.width/(this.scaler.denormalize(1)-this.scaler.denormalize(0)+1)}return this._step}},{key:"onMouseDown",value:function(t){var e;null==this||null===(e=this.event)||void 0===e||e.beforeDown("dataZoom"),this.mousePosition=[t.offsetX,t.offsetY]}},{key:"onMouseMove",value:function(t){var e;if(null===(e=this.event)||void 0===e||e.beforeMove("dataZoom"),this.mousePosition&&this.once){var i=t.offsetX-this.mousePosition[0],n=t.offsetY-this.mousePosition[1];Math.abs(i)>Math.abs(n)?this.openSlide=!0:this.openSlide=!1,this.once=!1}if(this.mousePosition&&this.scaler&&!this.lock&&this.openSlide){var r=t.offsetX-this.mousePosition[0],o=Math.round(Math.abs(r)/5);if(t.event.preventDefault(),r>this.step&&this.scaler.denormalize(0)>0)this.scaler.min<.1*this.total?this.scaler.min--:this.scaler.min=this.scaler.min-o<=0?0:this.scaler.min-o,this.mousePosition=[t.offsetX,t.offsetY],t.event.preventDefault();else{if(!(r<-this.step&&this.scaler.denormalize(1)<this.total-1))return;this.scaler.min+this.scaler.delta>.9*this.total?this.scaler.min++:this.scaler.min=this.scaler.min+o>=this.scaler.delta+1?this.scaler.min+1:this.scaler.min+o,this.mousePosition=[t.offsetX,t.offsetY],t.event.preventDefault()}this.trigger("change",this.scaler)}}},{key:"onMouseUp",value:function(){var t;null==this||null===(t=this.event)||void 0===t||t.beforeCancel("dataZoom"),this.mousePosition=void 0,this.openSlide=!1,this.once=!0}},{key:"reset",value:function(t,e){this.scaler=t,this.total=e}},{key:"setRange",value:function(t,e){if(this.scaler){var i=Math.round(t*(this.total-1)),n=Math.round(e*(this.total-1));this.scaler.denormalize(0)!=i||this.scaler.denormalize(1)!=n?(this.scaler=new tp(i,n),this.trigger("change",this.scaler)):0===this.sigleTriggle&&(this.sigleTriggle=1,this.scaler=new tp(i,n),this.trigger("change",this.scaler))}}},{key:"onMouseWheel",value:function(t){if(this.scaler){var e=this.chart.getRect(this.position);if(t.offsetX<e.x||t.offsetX>e.x+e.width)return;var i=this.scaler.denormalize((t.offsetX-e.x)/e.width),n=i-Math.floor(i),r=this.scaler.denormalize(0),o=this.scaler.denormalize(1);t.wheelDelta>0?this.zoomIn(n,r,o):this.zoomOut(n,r,o),t.event.preventDefault()}}},{key:"zoomIn",value:function(t,e,i){i-e<5||(t<.5?i--:e++,this.scaler=new tp(e,i),this._step=0,this.trigger("change",this.scaler))}},{key:"zoomOut",value:function(t,e,i){if(t<.5)if(e>0)e--;else{if(!(i<this.total-1))return;i++}else if(i<this.total-1)i++;else{if(!(e>0))return;e--}this.scaler=new tp(e,i),this._step=0,this.trigger("change",this.scaler)}}]),i}(et),Pp=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(this,i),(n=e.call(this,t)).dom=document.createElement("div"),n.toIntercept=0,n.dom.style.position="absolute",n.dom.style.zIndex=r.zIndex||"auto",n.hideMouseAfter=r.hideMouseAfter||0,n.yIsLock=void 0!==r.yIsLock&&r.yIsLock,n.onMousedown=function(){var t,e;if(n.firstMousex=null===(t=n.chart)||void 0===t?void 0:t.mousePosition[0],n.firstMousey=null===(e=n.chart)||void 0===e?void 0:e.mousePosition[1],n.chart&&n.position){var i=n.chart.getRect(n.position);if(n.firstMousex&&n.firstMousey)if(n.firstMousex<i.x||n.firstMousex>i.x+i.width||n.firstMousey<i.y||n.firstMousey>i.y+i.height)n.onChart=!1,n.dom.style.display="none";else if(n.firstMousex>i.x||n.firstMousex<i.x+i.width||n.firstMousey>i.y||n.firstMousey<i.y+i.height)if(n.onChart=!0,r.flowMouse){var o=n.dom.offsetWidth,a=n.dom.offsetHeight;n.setTooltPosition(o,a,n.firstMousex,n.firstMousey)}else n.dom.style.display="",n.showTooltip()}},r.flowMouse?n.onMousemove=function(){if(n.rect&&n.chart&&n.position){n.dom.style.display="";var t=ks(n.chart.mousePosition,2),e=t[0],i=t[1],r=n.chart.getRect(n.position),o=r.x,a=r.y,s=r.width,h=r.height;if(e>s+o||e<o||i<a||i>a+h)n.dom.style.display="none";else{n.dom.style.display="";var l=n.dom.offsetWidth,u=n.dom.offsetHeight;n.setTooltPosition(l,u,e,i)}}}:n.onMousemove=function(){n.showTooltip()},n.onCancelMousePointer=function(){n.toIntercept=0,n.dom.style.display="none"},n}return As(i,[{key:"setTooltPosition",value:function(t,e,i,n){if(this.chart&&this.position){var r=this.chart.getRect(this.position),o=r.x,a=r.y,s=r.width,h=r.height,l=t||s,u=e||h,c=a+h/2,f=0;f=(f=i>o+s/2?Math.min(i-10-l,s-l+o):Math.min(i+10,s-l+o))>o?f:o;var d=0;d=(d=n>c?Math.min(n-10-u,h-u+a):Math.min(n+10,h-u+a))>a?d:a,!1===this.yIsLock&&(d=n>c?n-10-u:n+10),this.dom.style.left="".concat(f,"px"),this.dom.style.top="".concat(d,"px"),this.dom.style.right="",this.dom.style.bottom=""}}},{key:"onAdd",value:function(t,e){kp(zs(i.prototype),"onAdd",this).call(this,t,e),t.zr.dom.style.position||(t.zr.dom.style.position="relative"),t.zr.dom.appendChild(this.dom)}},{key:"onRemove",value:function(){kp(zs(i.prototype),"onRemove",this).call(this),this.dom.remove()}},{key:"update",value:function(){this.chart&&this.position&&(this.rect=this.chart.getRect(this.position))}},{key:"showTooltip",value:function(){if(this.chart&&this.position){this.dom.style.display="";var t=this.chart.getRect(this.position),e=this.chart.mousePosition[0],i=this.chart.mousePosition[1];if(this.onChart)if(this.rect&&this.chart){var n=this.rect.x+this.rect.width/2,r=ks(this.chart.mousePosition,1)[0],o=this.chart.zr.dom.offsetWidth;this.dom.style.top="".concat(this.rect.y,"px"),r>n?(this.dom.style.left="".concat(this.rect.x,"px"),this.dom.style.right=""):(this.dom.style.left="",this.dom.style.right="".concat(o-this.rect.x-this.rect.width,"px"))}else this.dom.style.display="none";else e>t.x&&e<t.x+t.width&&i>t.y&&i<t.y+t.height?(this.onChart=!0,this.dom.style.display=""):this.dom.style.display="none"}}}]),i}(ip),Lp=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ss(this,i),(n=e.call(this,t,r)).selectedId=-1,n.space=0,n.theme={background:"rgba(255,255,255,0)",valueColor:"#323232",labelColor:"#99A1AD",valFontFamily:"",labelFontFamily:""},r.theme&&Object.assign(n.theme,r.theme),r.padding){var o=ks(r.padding,4),a=o[0],s=o[1],h=o[2],l=o[3];r.layout=new Pf([l,"auto",s],[a,"auto",h])}n.padding=r.padding||[0,0,0,0],n.thickness=r.thickness||[40,10],n.percentage=r.percentage||!1,n.once=!0,n.colors=r.colors||["#165DFF","#CA65FF","#FF62A1","#22EFFF","#FFB616"];var u="THSMoneyfont-Medium";return n.label=n.add(new wp("LABEL",{shape:new Zo({silent:!0,style:{align:"center",verticalAlign:"middle",overflow:"truncate",fontFamily:u,rich:{value:{fontSize:r.fontSize?r.fontSize[0]:32,fill:n.theme.valueColor,fontFamily:n.theme.valFontFamily?n.theme.valFontFamily:u},text:{fontSize:r.fontSize?r.fontSize[1]:22,fill:n.theme.labelColor,fontFamily:n.theme.labelFontFamily?n.theme.labelFontFamily:u}}}}),update:function(t,e,i){var n=t.x,r=t.y;t.attr({x:n+e/2,y:r+i/2})}})),r.label&&(n.updateLabel=r.label),r.space&&(n.space=r.space),n}return As(i,[{key:"updateLabel",value:function(t){if(this.percentage)t.shape.attr({style:{text:"{value|".concat(t.data[1].toFixed(2),"%\n}{text|").concat(t.data[0],"}")}});else{var e,i=null===(e=this.dataset)||void 0===e?void 0:e._data.map((function(t){return Math.abs(Number(t[1]))})),n=null==i?void 0:i.reduce((function(t,e){return t+e}),0);n=n||0;var r=Math.abs(Number(t.data[1]))/n;t.data[1]<0?t.shape.attr({style:{text:"{value|-".concat((100*r).toFixed(2),"%\n}{text|").concat(t.data[0],"}")}}):t.shape.attr({style:{text:"{value|".concat((100*r).toFixed(2),"%\n}{text|").concat(t.data[0],"}")}})}}},{key:"setData",value:function(t){var e=this,i=new ep(t);this.dataset=i;var n=this.colors,r=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=2*Math.PI/t.reduce((function(t,e){return Math.abs(t)+Math.abs(e)}),0),n=[0],r=0;r<t.length;r++){var o=Math.abs(t[r])*i;n.push(o)}var a=2*Math.PI/360*e,s=new Array(t.length),h=new Array(t.length);t.forEach((function(e,i){n[i+1]>=a?h[i]=t[i]:s[i]=e}));for(var l=2*Math.PI,u=s.reduce((function(t){return t-a}),l)/h.reduce((function(t,e){return Math.abs(t)+Math.abs(e)}),0),c=[0],f=0;f<t.length;f++)void 0!==s[f]?c.push(a+c[f]):c.push(Math.abs(h[f])*u+c[f]);return c}(i.serieses[0]),o=new Wi({rotation:Math.PI/2});i.serieses[0].forEach((function(t,r){var a=new vo({style:{fill:n[r],stroke:e.theme.background,lineWidth:e.space}});a.on("mouseover",(function(){e.select(r),e.trigger("hoverData",r,i.xDatas[r])})),o.add(a)})),this.series=this.add(new wp("PieSerise",{shape:o,update:function(t,i,n){var o=t.x,a=t.y,s=Math.min(i,n)/2-e.thickness[1];e.label.shape.attr({style:{width:1.8*(s-e.thickness[0])}}),t.attr({x:(o+o+i)/2,y:(a+a+n)/2}),t.children().forEach((function(t,i){var n=t;n.attr({shape:{r:s,r0:s-e.thickness[0],startAngle:0,endAngle:0}});n.animateTo({shape:{startAngle:r[i],endAngle:r[i+1]}},{duration:600,delay:0,easing:"cubicOut"})}))}})),this.ready()}},{key:"select",value:function(t){if(-1!==this.selectedId&&this.selectedId!==t){var e=this.series.shape.childAt(this.selectedId);e.animators[0]&&e.animators[0].stop()}if(this.cancelSelect(),this.dataset&&this.series){var i=this.series.shape.childAt(t);this.once?(this.shortPieR=i.shape.r,this.longPieR=i.shape.r+this.thickness[1],800,this.once=!1,i.animateTo({shape:{r:this.longPieR}},{duration:400,delay:800,easing:"cubicOut"})):i.animateTo({shape:{r:this.longPieR}},{duration:400,delay:0,easing:"cubicOut"}),this.selectedId=t,this.updateLabel&&this.updateLabel({shape:this.label.shape,data:[this.dataset.xDatas[t],this.dataset.serieses[0][t]],i:t,percent:(i.shape.endAngle-i.shape.startAngle)/Math.PI/2})}}},{key:"cancelSelect",value:function(){this.series&&this.selectedId>-1&&(this.series.shape.childAt(this.selectedId).attr({shape:{r:this.shortPieR}}),this.selectedId=-1)}}]),i}(Jd),Dp=function(t){Cs(i,t);var e=Os(i);function i(t,n,r,o,a){var s,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Ss(this,i),(s=e.call(this,t)).shape=new Wi,s.index=-1,s.shape.hide(),s.option=n,s.hideMouseAfter=n.hideMouseAfter||0,s.chart=r,s.position=o,s.content=a,s.follow=h,s.dom=document.createElement("div"),s.dom.innerHTML="",s.dom.style.position="absolute",s.dom.style.pointerEvents="none",s.chart.zr.dom.appendChild(s.dom),s.chart.zr.dom.style.position||(s.chart.zr.dom.style.position="relative"),s.onMousedown=function(){var t,e;if(s.firstmousex=null===(t=s.chart)||void 0===t?void 0:t.mousePosition[0],s.firstmousey=null===(e=s.chart)||void 0===e?void 0:e.mousePosition[1],s.chart&&s.position){var i=s.chart.getRect(s.position);s.firstmousex&&s.firstmousey&&(s.firstmousex<i.x||s.firstmousex>i.x+i.width||s.firstmousey<i.y||s.firstmousey>i.y+i.height?(s.onChart=!1,s.dom.style.display="none"):(s.firstmousex>i.x||s.firstmousex<i.x+i.width||s.firstmousey>i.y||s.firstmousey<i.y+i.height)&&(s.onChart=!0,s.dom.style.display="",s.showTooltip()))}},s.onMousemove=function(){s.showTooltip()},s.onCancelMousePointer=function(){s.shape.hide(),s.dom.style.display="none"},s}return As(i,[{key:"update",value:function(){if(this.chart&&this.position){var t=this.chart.getRect(this.position),e=t.x,i=t.y,n=t.width;t.height,this.scaler=new tp(0,n),this.shape.attr({x:e,y:i})}}},{key:"setData",value:function(t){this.data=t}},{key:"setScaler",value:function(t){this.tooltipscaler=t}},{key:"showTooltip",value:function(){if(this.chart&&this.position&&this.tooltipscaler){var t=this.chart.getRect(this.position),e=t.x,i=t.y,n=t.width,r=t.height,o=this.chart.zr.getHeight(),a=this.chart.zr.getWidth(),s=this.chart.getRect(this.position),h=this.chart.mousePosition[0],l=this.chart.mousePosition[1];if(this.dom.style.display="",this.follow){if(this.tooltipscaler&&this.follow){var u=Math.round(this.tooltipscaler.denormalize((this.chart.mousePosition[0]-e)/n));this.index!=u&&(this.index=u,this.dom.innerHTML=this.content(u)||""),this.chart.mousePosition[0]+Number(this.dom.offsetWidth)<=n?(this.dom.style.left="".concat(this.chart.mousePosition[0],"px"),this.dom.style.right="",this.chart.mousePosition[1]+this.dom.offsetHeight>r?(this.dom.style.top="",this.dom.style.bottom="".concat(o-this.chart.mousePosition[1],"px")):(this.dom.style.top="".concat(this.chart.mousePosition[1],"px"),this.dom.style.bottom="")):(this.dom.style.left="",this.dom.style.right="".concat(a-this.chart.mousePosition[0],"px"),this.chart.mousePosition[1]+this.dom.offsetHeight>r?(this.dom.style.top="",this.dom.style.bottom="".concat(o-this.chart.mousePosition[1],"px")):(this.dom.style.top="".concat(this.chart.mousePosition[1],"px"),this.dom.style.bottom=""))}}else if(this.onChart){var c=[0,1,(this.chart.mousePosition[0]-e)/n].sort((function(t,e){return t-e}))[1],f=Math.round(this.tooltipscaler.denormalize(c));this.index==f&&this.index!=f||(this.index=f,this.dom.innerHTML=this.content(f)||""),this.dom.style.top="".concat(i,"px");var d=[e+n/2,i+r/2];this.chart.mousePosition[0]<d[0]?(this.dom.style.right="".concat(a-e-n,"px"),this.dom.style.left=""):(this.dom.style.right="",this.dom.style.left="".concat(e,"px")),this.chart.mousePosition[0]<=e&&(this.dom.style.right="".concat(a-e-n,"px"),this.dom.style.left=""),this.chart.mousePosition[0]>e+n&&(this.dom.style.right="",this.dom.style.left="".concat(e,"px"))}else h>s.x&&h<s.x+s.width&&l>s.y&&l<s.y+s.height?this.onChart=!0:this.dom.style.display="none"}}},{key:"showAxisPointer",value:function(){if(this.chart&&this.position&&this.scaler&&this.data){var t=this.chart.getRect(this.position),e=this.chart.mousePosition[0]-this.shape.x,i=this.scaler.normalize(e),n=this.chart.mousePosition[0],r=this.chart.mousePosition[1];if(r<t.y||r>t.y+t.height||n<t.x||n>t.x+t.width)return;if(i>1||i<0)return void this.shape.beforeUpdate();var o=this.data.length-1,a=Math.round(i*o);e=this.scaler.denormalize(a/o),this.shape.show()}}}]),i}(ip),Fp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).theme={axis:"#C5CCD6",splitLine:"#ECEEF1",zoomBg:"#F7F3F7",zoomData:"#E7E3E7",zoomFilter:"rgba(22,93,255,0.2)",zoomIcon:op,disable:"#ccc",linecolors:"#165DFF"},r.visible=new Set([0,1]),r.split=qd(6),r.series=[],r.leftScaler=ap;var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3];return r.hideMouseAfter=n.hideMouseAfter||0,n.layout=new Pf([l,function(){return r.leftLabels?r.leftLabels.width:0},4,"auto",4,function(){return r.rightLabels?r.rightLabels.width:0},10,s],[a,0,8,"auto",6,function(){return r.xLabels?r.xLabels.height:0},16,20,h]),n.theme&&Object.assign(r.theme,n.theme),n.buriedPoint&&(r.buriedPoint=n.buriedPoint),n.tooltip&&(r.getTooltip=n.tooltip),n.yLabelFormatter&&(r.getleftYLabel=n.yLabelFormatter),r.dataZoom=new zp(Es(r),[3,3],!1,!1),r.dataZoom.on("change",r.onZoomChange.bind(Es(r))),r.zoomBar=r.add(new Mp("ZoomBar",{bgColor:r.theme.zoomBg,dataColor:r.theme.zoomData,filterColor:r.theme.zoomFilter,icon:r.theme.zoomIcon,zoomBarBuriedpoint:r.buriedPoint,datazoom:r.dataZoom}),[3,7]),r.zoomBar.option.minCount=n.minRange||5,r.tootipComponent=r.add(new Dp("AxisPointer",{hideMouseAfter:r.hideMouseAfter},Es(r),[3,3],r.getTooltip.bind(Es(r)),!1),[3,3]),r.add(new cp("splitLine",{data:r.split,location:"bottom",style:function(t){return t?{stroke:r.theme.splitLine,lineDash:[5,5]}:{stroke:r.theme.axis,lineWidth:1}}}),[3,3]),r}return As(i,[{key:"setData",value:function(t,e){var i,n=this;this.dataset=new ep(t);var r=this.dataset,o=new tp(0,t.length-1);this.tootipComponent.setData(r.xDatas),this.tootipComponent.setScaler(o),this.xLabels=this.add(new vp("xLabels",{minDistance:10,data:r.nomalizedX,shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:r.xDatas[t],align:"center",verticalAlign:"middle",fill:n.theme.axis,fontSize:10}})}}),[3,5]);var a=Xd(r.getRange(0));if(a[0]===a[1]){var s=a[0];a[0]=.9*s,a[1]=1.1*s}var h=Ud(a[0],a[1]),l=new tp(h[1],h[0]);this.leftLabels=this.add(new gp("yLabels",{data:this.split,location:"right",shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:n.getleftYLabel(l.denormalize(n.split[t])),align:"right",verticalAlign:"middle",fill:n.theme.axis,fontSize:10}})}}),[1,3]),this.series=[this.add(new vp("lineSeries",{PCorMobile:"Mobile",location:"top",data:this.dataset.nomalizedX,value:this.dataset.serieses[0].map((function(t){return l.normalize(t)})),connect:{stroke:this.theme.linecolors,lineWidth:2,lineJoin:"round",opacity:1},smooth:.2,pointer:new Wr({silent:!0,style:{stroke:this.theme.axis}}),pointerMaker:new Pr({silent:!0,shape:{r:5},style:{fill:this.theme.linecolors}}),show:!0}),[3,3])],this.dataZoom.reset(r.xScaler,r.length),this.zoomBar.setData(r.nomalize(0,l)),e&&(this.zoomBar.left=e[0]/(t.length-1),this.zoomBar.right=e[1]/(t.length-1),this.zoomBar.onChange());var u=this.getRect([3,3]),c=new Ir({silent:!0,shape:{x:0,y:0,height:u.height,width:0},style:{fill:"rgba(0,0,0,0)"}});null===(i=this.series[0].connectShape)||void 0===i||i.setClipPath(c),c.animate("shape",!1).when(600,{width:u.width}).start("quarticIn")}},{key:"onZoomChange",value:function(t){var e=this;if(this.dataset){var i=this.dataset;this.dataset.setXRange(t);var n=Xd(i.getRange(0,t));if(n[0]===n[1]){var r=n[0];n[0]=.9*r,n[1]=1.1*r}var o=Ud(n[0],n[1]),a=new tp(o[1],o[0]);this.tootipComponent.setData(this.dataset.filterX(t)),this.tootipComponent.setScaler(t),this.xLabels&&(this.xLabels.data=this.dataset.nomalizedX),this.leftLabels&&this.leftLabels.shape.children().forEach((function(t,i){t.attr({style:{text:a.denormalize(e.split[i]).toFixed(2)}})})),this.series&&this.series.forEach((function(t,e){t.value=i.nomalize(e,a),t.data=i.nomalizedX}))}this.ready()}},{key:"hide",value:function(t){var e,i;this.visible.has(t)&&(this.visible.delete(t),null===(e=this.series[t])||void 0===e||null===(i=e.connectShape)||void 0===i||i.hide(),this.series[t]&&(this.series[t].showpointer=!1))}},{key:"show",value:function(t){var e,i;this.visible.has(t)||(this.visible.add(t),null===(e=this.series[t])||void 0===e||null===(i=e.connectShape)||void 0===i||i.show(),this.series[t]&&(this.series[t].showpointer=!0))}},{key:"getleftYLabel",value:function(t){return t.toFixed(2)}},{key:"getTooltip",value:function(t){return"<div>".concat(t,"</div>")}},{key:"buriedPoint",value:function(){}}]),i}(Jd),Rp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).theme={splitLine:"#ECEEF1",zoomBg:"#F7F3F7",zoomData:"#E7E3E7",zoomFilter:"rgba(22,93,255,0.2)",zoomIcon:op,disable:"#ccc",linecolors:["#165DFF","#FFB616"],xLabelColor:"",xLineWidth:1,axisFont:rp},r.visible=new Set([0,1]),r.split=qd(6),r.series=[],r.leftScaler=ap,r.rightScaler=ap,r.relay="both",r.onlyShowEdgeLabel=!1;var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3];r.hideMouseAfter=n.hideMouseAfter||0;var u=void 0===n.showZoomBar||n.showZoomBar;return n.relay&&(r.relay=n.relay),n.layout=new Pf([l,function(){return r.leftLabels?r.leftLabels.width:10},4,"auto",4,function(){return r.rightLabels?r.rightLabels.width:10},s],[a,0,8,"auto",6,function(){return r.xLabels?r.xLabels.height:0},function(){return u?12:0},function(){return u?20:0},h]),n.theme&&Object.assign(r.theme,n.theme),n.buriedPoint&&(r.buriedPoint=n.buriedPoint),n.tooltip&&(r.getTooltip=n.tooltip),n.leftyLabelFormatter&&(r.getleftYLabel=n.leftyLabelFormatter),n.rightyLabelFormatter&&(r.getrightYLabel=n.rightyLabelFormatter),n.onlyShowEdgeLabel&&(r.onlyShowEdgeLabel=n.onlyShowEdgeLabel),r.tootipComponent=r.add(new Dp("axisPointer",{hideMouseAfter:r.hideMouseAfter},Es(r),[3,3],r.getTooltip.bind(Es(r)),!1),[3,3]),r.add(new cp("splitLine",{data:r.split,location:"bottom",style:function(t){return t?{stroke:r.theme.splitLine,lineDash:[5,5]}:{stroke:r.theme.xLabelColor?r.theme.xLabelColor:r.theme.axisFont.fill,lineWidth:r.theme.xLineWidth>=0?r.theme.xLineWidth:1}}}),[3,3]),!0===u&&(r.dataZoom=new zp(Es(r),[3,3],!1,!1),r.dataZoom.on("change",r.onZoomChange.bind(Es(r))),r.zoomBar=r.add(new Mp("ZoomBar",{bgColor:r.theme.zoomBg,dataColor:r.theme.zoomData,filterColor:r.theme.zoomFilter,icon:r.theme.zoomIcon,zoomBarBuriedpoint:function(){return r.buriedPoint()},datazoom:r.dataZoom}),[3,7]),r.zoomBar.option.minCount=n.minRange||5),r}return As(i,[{key:"setData",value:function(t,e){var i,n,r=this;this.dataset=new ep(t);var o=this.dataset,a=o.getRange(0),s=function(t,e,i,n){if(t===e)return Array(i).fill(t);if(t>=e)throw new Error("区间不合理");var r=[];if(e-t>1)for(var o=Math.ceil((e-t)/(i-1)*(1+n)),a=1;a<=i;a++)r.push(Number(Math.floor(t)+o*(a-1)));else for(var s=(e-t)/(i-1)*(1+n),h=1;h<=i;h++)r.push(Number(t+s*(h-1)));return r}(a[0],a[1],6,0),h=new tp(0,t.length-1);this.tootipComponent.setData(o.xDatas),this.tootipComponent.setScaler(h),this.xLabels=this.add(new vp("xLabels",{minDistance:10,data:o.nomalizedX,shape:function(t){return new Zo({silent:!0,style:lp({text:o.xDatas[t],align:"center",verticalAlign:"middle"},r.theme.axisFont)})}}),[3,5]);var l=Xd(o.getRange(0)),u=Xd(o.getRange(1)),c=.05;l[0]=l[0]-(l[1]-l[0])*c,l[1]=l[1]+(l[1]-l[0])*c,u[0]=u[0]-(u[1]-u[0])*c,u[1]=u[1]+(u[1]-u[0])*c;var f=new tp(l[1],l[0]),d=new tp(u[1],u[0]),p=[].concat($c(u),$c(l));p.sort((function(t,e){return t-e}));var y=new tp(p[3],p[0]);"both"!==this.relay&&(f=y,d=y,console.log(y,p)),("left"===this.relay||"both"===this.relay)&&(this.leftLabels=this.add(new gp("leftyLabels",{data:qd(s.length,!1),location:"right",shape:function(t){return new Zo({silent:!0,style:lp({text:r.getleftYLabel(f.denormalize(r.split[t])),align:"right",verticalAlign:"middle"},r.theme.axisFont)})}}),[1,3])),("right"===this.relay||"both"===this.relay)&&(this.rightLabels=this.add(new gp("rightyLabels",{data:qd(s.length,!1),location:"left",shape:function(t){return new Zo({silent:!0,style:lp({text:r.getrightYLabel(d.denormalize(r.split[t])),align:"left",verticalAlign:"middle"},r.theme.axisFont)})}}),[5,3])),this.series=[this.add(new vp("leftlineSeries",{PCorMobile:"Mobile",location:"top",data:this.dataset.nomalizedX,value:this.dataset.serieses[0].map((function(t){return f.normalize(t)})),connect:{stroke:this.theme.linecolors[0],lineWidth:2,lineJoin:"round"},smooth:.2,pointer:new Wr({silent:!0,style:{stroke:this.theme.axisFont.fill}}),pointerMaker:new Pr({silent:!0,shape:{r:5},style:{fill:this.theme.linecolors[0]}}),show:!0}),[3,3]),this.add(new vp("rightlineSeries",{PCorMobile:"Mobile",location:"top",data:this.dataset.nomalizedX,value:this.dataset.serieses[1].map((function(t){return d.normalize(t)})),connect:{stroke:this.theme.linecolors[1],lineWidth:2,lineJoin:"round"},smooth:.2,pointerMaker:new Pr({silent:!0,shape:{r:5},style:{fill:this.theme.linecolors[1]}}),show:!0}),[3,3])],this.dataZoom&&this.zoomBar?(this.dataZoom.reset(o.xScaler,o.length),this.zoomBar.setData(o.nomalize(0,f)),e&&(this.zoomBar.left=e[0]/(t.length-1),this.zoomBar.right=e[1]/(t.length-1),this.zoomBar.onChange())):this.ready();var v=this.getRect([3,3]),g=new Ir({silent:!0,shape:{x:0,y:0,height:v.height,width:0},style:{fill:"rgba(0,0,0,0)"}});null===(i=this.series[0].connectShape)||void 0===i||i.setClipPath(g),null===(n=this.series[1].connectShape)||void 0===n||n.setClipPath(g),g.animate("shape",!1).when(600,{width:v.width}).start("quarticIn")}},{key:"onZoomChange",value:function(t){var e=this;if(this.dataset){var i=this.dataset;this.dataset.setXRange(t);var n=Xd(i.getRange(0,t)),r=this.dataset.getRange(1,t);if(n[0]===n[1]){var o=n[0];n[0]=.9*o,n[1]=1.1*o}if(r[0]===r[1]){var a=r[0];r[0]=.9*a,r[1]=1.1*a}var s=Ud(n[0],n[1]),h=Ud(r[0],r[1]),l=new tp(s[1],s[0]),u=new tp(h[1],h[0]),c=[].concat($c(s),$c(h));c.sort((function(t,e){return t-e}));var f=new tp(c[3],c[0]);"both"!==this.relay&&(l=f,u=f),this.tootipComponent.setData(this.dataset.filterX(t)),this.tootipComponent.setScaler(t),this.xLabels&&(this.xLabels.data=this.dataset.nomalizedX),this.leftLabels&&this.leftLabels.shape.children().forEach((function(t,i){t.attr({style:{text:e.getleftYLabel(l.denormalize(e.split[i]))}})})),this.rightLabels&&this.rightLabels.shape.children().forEach((function(t,i){t.attr({style:{text:u.denormalize(e.split[i]).toFixed(2)}})})),this.series&&this.series.forEach((function(t,e){t.value=i.nomalize(e,e?u:l),t.data=i.nomalizedX}))}this.ready()}},{key:"hide",value:function(t){var e,i;this.visible.has(t)&&(this.visible.delete(t),null===(e=this.series[t])||void 0===e||null===(i=e.connectShape)||void 0===i||i.hide(),this.series[t]&&(this.series[t].showpointer=!1))}},{key:"show",value:function(t){var e,i;this.visible.has(t)||(this.visible.add(t),null===(e=this.series[t])||void 0===e||null===(i=e.connectShape)||void 0===i||i.show(),this.series[t]&&(this.series[t].showpointer=!0))}},{key:"getleftYLabel",value:function(t){return t.toFixed(2)}},{key:"getrightYLabel",value:function(t){return t.toFixed(2)}},{key:"getTooltip",value:function(t){return"<div>".concat(t,"</div>")}},{key:"buriedPoint",value:function(){}},{key:"ready",value:function(){kp(zs(i.prototype),"ready",this).call(this),this.handleXlabel()}},{key:"handleXlabel",value:function(){var t=this;this.xLabels&&this.onlyShowEdgeLabel&&this.xLabels.data.length>1&&this.xLabels.data.forEach((function(e,i){var n,r=null===(n=t.xLabels)||void 0===n?void 0:n.shape.childAt(i);delete r.style.x,null==r||r.hide(),0===e&&(r.style.x=r.getBoundingRect().width/2,r.dirty(),r.show()),1===e&&(r.style.x=-r.getBoundingRect().width/2,r.dirty(),r.show())}))}}]),i}(Jd),Ep=kr.extend({type:"distributionBar",shape:{width:0,height:0,pointsTop:{},pointsBottom:{},radius:0},buildPath:function(t,e){t.beginPath(),t.moveTo(e.height/2,0),t.lineTo(e.pointsTop.up.x,e.pointsTop.up.y),t.arc(e.pointsTop.center.x,e.pointsTop.center.y,e.radius,-Math.PI/2,Math.PI/4),t.lineTo(e.pointsBottom.bevel.x,e.pointsBottom.bevel.y),t.arc(e.pointsBottom.center.x,e.pointsBottom.center.y,2*e.radius,Math.PI/4,Math.PI/2),t.lineTo(e.height/2,e.height),t.arc(e.height/2,e.height/2,e.height/2,Math.PI/2,Math.PI/2*3)}}),Ip=kr.extend({type:"trapezoid",shape:{radius:0,pointsLeftTop:{},pointsRightTop:{},pointsLeftBottom:{},pointsRightBottom:{}},buildPath:function(t,e){var i=e.radius;t.beginPath(),t.moveTo(e.pointsLeftTop.up.x,e.pointsLeftTop.up.y),t.lineTo(e.pointsRightTop.up.x,e.pointsRightTop.up.y),t.arc(e.pointsRightTop.center.x,e.pointsRightTop.center.y,i,-Math.PI/2,Math.PI/4),t.lineTo(e.pointsRightBottom.bevel.x,e.pointsRightBottom.bevel.y),t.arc(e.pointsRightBottom.center.x,e.pointsRightBottom.center.y,2*i,Math.PI/4,Math.PI/2),t.lineTo(e.pointsLeftBottom.up.x,e.pointsLeftBottom.up.y),t.arc(e.pointsLeftBottom.center.x,e.pointsLeftBottom.center.y,i,Math.PI/2,Math.PI/4+Math.PI),t.lineTo(e.pointsLeftTop.bevel.x,e.pointsLeftTop.bevel.y),t.arc(e.pointsLeftTop.center.x,e.pointsLeftTop.center.y,2*i,Math.PI/4+Math.PI,Math.PI/2+Math.PI)}}),Op=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{render:"svg"};return Ss(this,i),(o=e.call(this,t,a)).pointsLeftTop={},o.pointsRightTop={},o.pointsLeftBottom={},o.pointsRightBottom={},o.dom=t,o.width=0,o.height=0,o.defaultOption={grid:{paddingLeft:12,paddingTop:18},style:{height:12,radius:3,angle:Math.PI/4,gap:2,legend:{y:6,gap:2,triangle:{y:18,width:15},label:{fontSize:10,fontFamily:"THSMoneyfont-Medium",x:-8,y:16}}},data:{left:{value:0,color:"#E63C3C"},middle:{value:0,color:"#1C5FF7"},right:{value:0,color:"#0EB85A"}}},o.option=m(o.defaultOption,a,!0),o.safetyWidth=null===(n=o.option)||void 0===n||null===(r=n.style)||void 0===r?void 0:r.height,o}return As(i,[{key:"setData",value:function(t){this.option.data=m(this.option.data,t,!0),void 0===this.option.data.left.value&&void 0===this.option.data.right.value&&void 0===this.option.data.middle.value||0==this.option.data.left.value&&0==this.option.data.right.value&&0==this.option.data.middle.value||0!=this.option.data.left&&0!=this.option.data.middle&&0!=this.option.data.right&&(this.computeSize(),this.drawLeftBar(),this.drawRightBar(),this.drawMiddleBar(),this.drawLabels())}},{key:"generatePoints",value:function(t,e){var i=this.option.style,n=i.angle,r=i.radius;this.pointsLeftTop=this.compute({x:e,y:0},3*n,2*r,"LT"),this.pointsRightTop=this.compute({x:t,y:0},n,r,"RT"),this.pointsLeftBottom=this.compute({x:0,y:e},n,r,"LB"),this.pointsRightBottom=this.compute({x:t-e,y:e},3*n,2*r,"RB")}},{key:"computeSize",value:function(){this.width=this.dom.clientWidth-2*this.option.grid.paddingLeft,this.height=this.option.style.height;var t=this.option.data,e=t.left.value+t.middle.value+t.right.value,i=(this.width-2*this.option.style.gap-3*this.safetyWidth)/e;t.left.width=t.left.value*i+1.5*this.safetyWidth,t.middle.width=t.middle.value*i+2*this.safetyWidth,t.right.width=t.right.value*i+1.5*this.safetyWidth}},{key:"drawLeftBar",value:function(){var t=this.option.data.left.width,e=this.height;this.generatePoints(t,e);var i=this.option.style.radius,n=new Ep({shape:{width:t,height:e,pointsTop:this.pointsRightTop,pointsBottom:this.pointsRightBottom,radius:i},style:{fill:this.option.data.left.color},x:this.option.grid.paddingLeft,y:this.option.grid.paddingTop});this.zr.add(n)}},{key:"drawRightBar",value:function(){var t=this.option.data.right.width,e=this.height;this.generatePoints(t,e);var i=this.option.style.radius,n=new Ep({shape:{width:t,height:e,pointsTop:this.pointsRightTop,pointsBottom:this.pointsRightBottom,radius:i},style:{fill:this.option.data.right.color},originX:t/2,originY:e/2,x:this.option.grid.paddingLeft+this.option.data.left.width+this.option.data.middle.width-2*this.safetyWidth+2*this.option.style.gap,y:this.option.grid.paddingTop,rotation:Math.PI});this.zr.add(n)}},{key:"drawMiddleBar",value:function(){var t=this.option.data.middle.width,e=this.height;this.generatePoints(t,e);var i=this.option.style.radius,n=new Ip({shape:{radius:i,pointsLeftTop:this.pointsLeftTop,pointsRightTop:this.pointsRightTop,pointsLeftBottom:this.pointsLeftBottom,pointsRightBottom:this.pointsRightBottom},style:{fill:this.option.data.middle.color},x:this.option.grid.paddingLeft+this.option.data.left.width-this.safetyWidth+this.option.style.gap,y:this.option.grid.paddingTop});this.zr.add(n)}},{key:"drawLabels",value:function(){this.drawLabel(this.option.data.left,"LEFT"),this.drawLabel(this.option.data.right,"RIGHT")}},{key:"drawLabel",value:function(t,e){var i=new Wi,n=new Zo({style:{fill:t.color,stroke:t.color,text:t.value,fontSize:this.option.style.legend.label.fontSize,fontFamily:this.option.style.legend.label.fontFamily,fontWeight:500}}),r=n.getBoundingRect(),o=r.width;r.height;var a=this.option.style.legend.triangle.width/2,s=new Zr({shape:{points:[[a,0],[0,a],[2*a,a]]},style:{fill:t.color,stroke:t.color},silent:!0,rotation:"LEFT"===e?Math.PI:0,originX:a,originY:a/2}),h=s.getBoundingRect(),l=h.width,u=h.height;if(i.add(n),i.add(s),"LEFT"===e)n.attr("x",this.option.style.legend.label.x),n.attr("y",this.option.style.legend.label.y),s.attr("x",this.option.style.legend.label.x+o+this.option.style.legend.gap),i.attr("x",this.option.grid.paddingLeft);else{n.attr("x",l+this.option.style.legend.gap),n.attr("y",this.option.style.legend.label.y),s.attr("x",0);var c=i.getBoundingRect();i.attr("x",this.dom.clientWidth-this.option.grid.paddingLeft-c.width-this.option.style.legend.label.x)}var f=i.getBoundingRect().height;s.attr("y",this.option.style.legend.triangle.y+f/2-u/2),i.attr("y",this.height+this.option.style.legend.y),this.zr.add(i)}},{key:"compute",value:function(t,e,i,n){return{center:this.computePointOfCenter(t,e,i,n),up:this.computePointOfUp(t,e,i,n),bevel:this.computePointOfBevel(t,e,i,n)}}},{key:"computePointOfUp",value:function(t,e,i,n){var r=e/2,o=i/Math.tan(r),a={x:0,y:0};switch(n){case"RT":case"RB":a={x:t.x-o,y:t.y};break;case"LT":case"LB":a={x:t.x+o,y:t.y}}return a}},{key:"computePointOfCenter",value:function(t,e,i,n){var r=e/2,o=i/Math.tan(r),a=i,s={x:0,y:0};switch(n){case"LT":s={x:t.x+o,y:t.y+a};break;case"RT":s={x:t.x-o,y:t.y+a};break;case"LB":s={x:t.x+o,y:t.y-a};break;case"RB":s={x:t.x-o,y:t.y-a}}return s}},{key:"computePointOfBevel",value:function(t,e,i,n){var r=e/2,o=i/Math.tan(r),a=Math.abs(Math.cos(e)*o),s=Math.sin(e)*o,h={x:0,y:0};switch(n){case"LT":case"RT":h={x:t.x-a,y:t.y+s};break;case"LB":case"RB":h={x:t.x+a,y:t.y-s}}return h}}]),i}(Jd),Bp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).theme={axis:"#C5CCD6",splitLine:"#ECEEF1",zoomBg:"#F7F3F7",zoomData:"#E7E3E7",zoomFilter:"rgba(22,93,255,0.2)",zoomIcon:op,disable:"#ccc",colors:["#02BD56","#FC4141","#FFb616"]},r.split=qd(6),r.leftScaler=ap,r.visible=new Set([0,1,2]),r.outer=8,r.once=!0;var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3];return r.hideMouseAfter=n.hideMouseAfter||0,r.leftyLabelTitle=n.leftyLabelTitle||"Insider",r.rightyLabelTitle=n.rightyLabelTitle||"Price",r.barwidth=n.barwidth||12,n.layout=new Pf([l,function(){return r.leftLabels?r.leftLabels.width:0},function(){return r.outer},"auto",function(){return r.outer},function(){return r.rightLabels?r.rightLabels.width:0},s],[a,0,12,"auto",6,function(){return r.xLabels?r.xLabels.height:0},10,20,h]),n.theme&&Object.assign(r.theme,n.theme),n.buriedPoint&&(r.buriedPoint=n.buriedPoint),n.tooltip&&(r.getTooltip=n.tooltip),n.leftyLabelFormatter&&(r.getleftYLabel=n.leftyLabelFormatter),n.rightyLabelFormatter&&(r.getrightYLabel=n.rightyLabelFormatter),r.tootipComponent=r.add(new Dp("AxisPointer",{hideMouseAfter:r.hideMouseAfter},Es(r),[[2,4],3],r.getTooltip.bind(Es(r)),!1),[[2,4],3]),r.add(new cp("splitLine",{data:r.split,location:"bottom",style:function(t){return t?{stroke:r.theme.splitLine,lineDash:[5,5]}:{stroke:r.theme.axis,lineWidth:1}}}),[[2,4],3]),r.add(new wp("leftTitle",{shape:new Zo({style:{text:r.leftyLabelTitle,fontSize:10,fill:r.theme.axis}})}),[0,0]),r.add(new wp("rightTitle",{shape:new Zo({style:{text:r.rightyLabelTitle,fontSize:10,fill:r.theme.axis,align:"right"}}),update:function(t,e,i){t.attr({style:{x:e}})}}),[6,0]),r.dataZoom=new zp(Es(r),[3,3],!1,!1),r.dataZoom.on("change",r.onZoomChange.bind(Es(r))),r.zoomBar=r.add(new Mp("ZoomBar",{bgColor:r.theme.zoomBg,dataColor:r.theme.zoomData,filterColor:r.theme.zoomFilter,icon:r.theme.zoomIcon,zoomBarBuriedpoint:function(){return r.buriedPoint()},datazoom:r.dataZoom}),[[2,4],7]),r.zoomBar.option.minCount=n.minRange||5,r}return As(i,[{key:"setData",value:function(t,e){var i,n=this;this.dataset=new ep(t);var r=this.dataset,o=new tp(0,t.length-1);this.tootipComponent.setData(r.xDatas),this.tootipComponent.setScaler(o),this.xLabels=this.add(new vp("xLabels",{minDistance:10,data:r.nomalizedX,shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:r.xDatas[t],align:"center",verticalAlign:"middle",fill:n.theme.axis,fontSize:10}})}}),[3,5]);var a=Xd([].concat($c(r.getRange(0)),$c(r.getRange(1))));a[1]<5&&(a[1]=5);var s=r.getRange(2);if(s[0]===s[1]){var h=s[0];s[0]=.9*h,s[1]=h}var l=new tp(a[1],a[0]),u=new tp(s[1],s[0]);this.leftLabels=this.add(new gp("leftLabels",{data:this.split,location:"right",shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:n.getleftYLabel(l.denormalize(n.split[t])),align:"right",verticalAlign:"middle",fill:n.theme.axis,fontSize:10}})}}),[1,3]),this.rightLabels=this.add(new gp("rightLabels",{data:this.split,location:"left",shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:n.getrightYLabel(u.denormalize(n.split[t])),align:"left",verticalAlign:"middle",fontSize:10,fill:n.theme.axis}})}}),[5,3]),this.series=this.add(new vp("chartSeries",{PCorMobile:"Mobile",location:"top",data:this.dataset.nomalizedX,value:this.dataset.serieses[2].map((function(t){return u.normalize(t)})),connect:{stroke:this.theme.colors[2],lineWidth:2,lineJoin:"round"},pointer:new Wr({silent:!0,style:{stroke:this.theme.axis}}),pointerMaker:new Pr({silent:!0,shape:{r:5},style:{fill:this.theme.colors[2]}}),show:!0,shape:function(){var t=new Wi;return t.add(new Ir({silent:!0,shape:{r:[2,2,0,0]},style:{fill:n.theme.colors[0]}})),t.add(new Ir({silent:!0,shape:{r:[2,2,0,0]},style:{fill:n.theme.colors[1]}})),t},adjust:function(t,e,i,o){var s=i/((r.dataCountInRange>1?r.dataCountInRange:2)-1)/2*.5;s>n.barwidth&&(s=n.barwidth),e.attr({y:0});var h=e.childAt(0),l=e.childAt(1),u=n.leftScaler.normalize(r.serieses[0][t]),c=n.leftScaler.normalize(r.serieses[1][t]),f=o*u/a[1];f=f>=0?Math.max(f,2):Math.min(f,-2),0===r.serieses[0][t]&&(f=0);var d=o*c/a[1];d=d>=0?Math.max(d,2):Math.min(d,-2),0===r.serieses[1][t]&&(d=0),n.visible.has(0)&&n.visible.has(1)?(h.attr({shape:{x:-s-2,y:o,height:0,width:s}}),l.attr({shape:{x:2,y:o,height:0,width:s}}),n.once?(h.animate("shape",!1).when(600,{height:-f}).start("quadraticInOut"),l.animate("shape",!1).when(600,{height:-d}).start("quadraticInOut")):(h.attr({shape:{height:-f}}),l.attr({shape:{height:-d}}))):n.visible.has(0)?(h.attr({shape:{x:-s,width:2*s,y:o*(1-u/a[1]),height:f}}),l.attr({shape:{height:0}})):n.visible.has(1)?(h.attr({shape:{height:0}}),l.attr({shape:{x:-s,width:2*s,y:o*(1-c/a[1]),height:d}})):(h.attr({shape:{height:0}}),l.attr({shape:{height:0}}))}}),[3,3]),this.dataZoom.reset(r.xScaler,r.length),this.zoomBar.setData(r.nomalize(2,u)),e&&(this.zoomBar.left=e[0]/(t.length-1),this.zoomBar.right=e[1]/(t.length-1),this.zoomBar.onChange());var c=this.getRect([3,3]),f=new Ir({silent:!0,shape:{x:0,y:0,height:c.height,width:0},style:{fill:"rgba(0,0,0,0)"}});null===(i=this.series.connectShape)||void 0===i||i.setClipPath(f),f.animate("shape",!1).when(600,{width:c.width}).start("quarticIn")}},{key:"onZoomChange",value:function(t){var e=this;if(this.dataset){var i=this.dataset;this.dataset.setXRange(t);var n=Xd([].concat($c(i.getRange(0,t)),$c(i.getRange(1,t))));n[1]<5&&(n[1]=5);var r=new tp(n[1],0),o=this.dataset.getRange(2,t);if(o[0]===o[1]){var a=o[0];o[0]=.9*a,o[1]=1.1*a}var s=new tp(o[1],o[0]);this.tootipComponent.setData(this.dataset.filterX(t)),this.tootipComponent.setScaler(t),this.xLabels&&(this.xLabels.data=this.dataset.nomalizedX),this.leftLabels&&this.leftLabels.shape.children().forEach((function(t,i){t.attr({style:{text:e.getleftYLabel(r.denormalize(e.split[i]))}})})),this.rightLabels&&this.rightLabels.shape.children().forEach((function(t,i){t.attr({style:{text:e.getrightYLabel(s.denormalize(e.split[i]))}})})),this.series&&(this.series.value=this.dataset.nomalize(2,s),this.series.data=this.dataset.nomalizedX),this.outer=this.zr.getWidth()/this.dataset.dataCountInRange/2,this.ready(),this.once=!1}}},{key:"hide",value:function(t){var e,i;this.visible.has(t)&&(this.visible.delete(t),2==t?(null===(e=this.series)||void 0===e||null===(i=e.connectShape)||void 0===i||i.hide(),this.series&&(this.series.showpointer=!1)):this.ready())}},{key:"show",value:function(t){var e,i;this.visible.has(t)||(this.visible.add(t),2==t?(null===(e=this.series)||void 0===e||null===(i=e.connectShape)||void 0===i||i.show(),this.series&&(this.series.showpointer=!0)):this.ready())}},{key:"ready",value:function(){kp(zs(i.prototype),"ready",this).call(this)}},{key:"getleftYLabel",value:function(t){return t.toFixed(2)}},{key:"getrightYLabel",value:function(t){return t.toFixed(2)}},{key:"getTooltip",value:function(t){return'<div style="background:red">'.concat(t,"</div>")}},{key:"buriedPoint",value:function(){}}]),i}(Jd),Np=function(){function t(e){Ss(this,t),this.data=[],this.xDatas=[],this.nomalizedX=[],this.lSeriesMap=new Map,this.rSeriesMap=new Map,this.lyScaler=ap,this.ryScaler=ap,this.xScaler=ap,this.option=e,this.splits=qd(e.splitCount||5)}return As(t,[{key:"setData",value:function(t,e){this.xScaler=e||new tp(0,t.length-1),this.data=t,this.update()}},{key:"setRange",value:function(t,e){var i=this.data.length-1,n=Math.round(i*t),r=Math.round(i*e);n==Math.round(this.xScaler.denormalize(0))&&r==Math.round(this.xScaler.denormalize(1))||(this.xScaler=new tp(n,r),this.update())}},{key:"update",value:function(){var t=this,e=this.option,i=this.data;this.xDatas=i.map((function(t){return t[e.xKey]})),this.nomalizedX=this.xDatas.map((function(e,i){return t.xScaler.normalize(i)})),e.lyKeys&&(e.lyKeys.forEach((function(e){t.lSeriesMap.set(e,i.map((function(t){return t[e]})))})),this.updateLYScaler()),e.ryKeys&&(e.ryKeys.forEach((function(e){t.rSeriesMap.set(e,i.map((function(t){return t[e]})))})),this.updateRYScaler())}},{key:"updateLYScaler",value:function(){var t=this,e=Math.round(this.xScaler.denormalize(0)),i=Math.round(this.xScaler.denormalize(1)),n=[];this.lSeriesMap.forEach((function(r){for(var o=e,a=0;o<r.length&&o<=i;o++,a++)t.option.lyRange&&"sum"==t.option.lyRange?n[a]?n[a]+=r[o]:n[a]=r[o]:n.push(r[o])}));var r=Xd(n);"both"!=this.option.coverZero&&"left"!=this.option.coverZero||(r[0]>0&&(r[0]=0),r[1]<0&&(r[1]=0)),this.lyScaler=new tp(r[1],r[0])}},{key:"updateRYScaler",value:function(){var t=this,e=Math.round(this.xScaler.denormalize(0)),i=Math.round(this.xScaler.denormalize(1)),n=[];this.rSeriesMap.forEach((function(r){for(var o=e,a=0;o<r.length&&o<=i;o++,a++)t.option.ryRange&&"sum"==t.option.ryRange?n[a]?n[a]+=r[o]:n[a]=r[o]:n.push(r[o])}));var r=Xd(n);"both"!=this.option.coverZero&&"right"!=this.option.coverZero||(r[0]>0&&(r[0]=0),r[1]<0&&(r[1]=0)),this.ryScaler=new tp(r[1],r[0])}},{key:"Split",value:function(t,e){return"Right"==e?this.ryScaler.denormalize(this.splits[t]):"Left"==e?this.lyScaler.denormalize(this.splits[t]):-1}},{key:"lSplit",value:function(t){return this.lyScaler.denormalize(this.splits[t])}},{key:"rSplit",value:function(t){return this.ryScaler.denormalize(this.splits[t])}},{key:"countDataInView",value:function(){var t=Math.round(this.xScaler.denormalize(0));return Math.round(this.xScaler.denormalize(1))-t+1}},{key:"getNomalizedY",value:function(){var t=[];this.lSeriesMap.forEach((function(e){t.length==e.length?e.forEach((function(e,i){t[i]+=e})):t=$c(e)}));var e=Xd(t),i=new tp(e[0],e[1]);return t.map((function(t){return i.normalize(t)}))}}]),t}(),Wp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).colors=new Map,r.visible=new Set,r.outer=10,r.theme={axis:"#C5CCD6",splitLine:"#ECEEF1",zoomBg:"#F7F3F7",zoomData:"#E7E3E7",zoomFilter:"rgba(22,93,255,0.2)",zoomIcon:op};var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3];return r.hideMouseAfter=n.hideMouseAfter||0,r.once=!0,r.rectWidth=n.rectWidth||.5,n.layout=new Pf([l,function(){return r.yLabels?r.yLabels.width:0},8,function(){return r.outer},"auto",function(){return r.outer},s],[a,0,8,"auto",5,function(){return r.xLabels?r.xLabels.height:0},12,20,h]),r.dataAdapter=new Np({xKey:n.xKey,lyKeys:n.serieses.map((function(t){return t.key})),lyRange:"sum",coverZero:"both"}),n.theme&&Object.assign(r.theme,n.theme),n.yLabelFormatter&&(r.getYLabel=n.yLabelFormatter),n.buriedPoint&&(r.buriedPoint=n.buriedPoint),n.pointer&&(r.pointer=n.pointer),n.tooltip&&(r.getTooltip=n.tooltip),n.serieses.forEach((function(t){r.colors.set(t.key,t.color),r.visible.add(t.key)})),r.zoomBar=r.add(new Mp("ZoomBar",{bgColor:r.theme.zoomBg,dataColor:r.theme.zoomData,filterColor:r.theme.zoomFilter,icon:r.theme.zoomIcon,zoomBarBuriedpoint:function(){return r.buriedPoint()},onChange:function(t,e){r.dataAdapter.setRange(t,e),r.xLabels&&(r.xLabels.data=r.dataAdapter.nomalizedX),r.yLabels&&r.yLabels.shape.children().forEach((function(t,e){t.attr({style:{text:r.getYLabel(r.dataAdapter.lSplit(e))}})})),r.series&&(r.series.data=r.dataAdapter.nomalizedX),r.dataAdapter.data.length<5?r.outer=25:r.outer=r.zr.getWidth()/r.dataAdapter.countDataInView()/2,r.ready()}}),[[3,5],7]),r.zoomBar.option.minCount=n.minRange||5,r.add(new cp("splitLine",{data:r.dataAdapter.splits,location:"bottom",style:function(t){return t?{stroke:r.theme.splitLine,lineDash:[5,5]}:{stroke:r.theme.axis,lineWidth:1}}}),[[3,5],3]),r.tooltip=r.add(new Pp("ToolTip",{flowMouse:!1,hideMouseAfter:r.hideMouseAfter}),[4,3]),r}return As(i,[{key:"setData",value:function(t,e){var i=this,n=this.dataAdapter,r=this.theme,o=e?new tp(e[0],e[1]):void 0;n.setData(t,o),this.xLabels=this.add(new vp("xLabels",{data:n.nomalizedX,minDistance:10,shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:n.xDatas[t],align:"center",verticalAlign:"middle",fill:r.axis,fontSize:10}})}}),[4,5]),this.zoomBar.setData(this.dataAdapter.getNomalizedY()),e&&(this.zoomBar.left=e[0]/(t.length-1),this.zoomBar.right=e[1]/(t.length-1),this.zoomBar.onChange()),this.yLabels=this.add(new gp("yLabels",{data:n.splits,location:"right",shape:function(t){return new Zo({silent:!0,style:{fontFamily:"THSMoneyfont-Medium",text:i.getYLabel(n.lSplit(t)),align:"right",verticalAlign:"middle",fill:r.axis,fontSize:10}})}}),[1,3]),this.series=this.add(new vp("stackBar",{PCorMobile:"Mobile",location:"top",data:n.nomalizedX,shape:function(){var t=new Wi({clipPath:new Ir({shape:{r:[4,4,0,0]}})});return n.lSeriesMap.forEach((function(e,n){t.add(new Ir({silent:!0,style:{fill:i.colors.get(n)}}))})),t},adjust:function(t,e,r,o){var a=r/n.countDataInView()*i.rectWidth;a>20&&(a=20);var s=e,h=o,l=e.getClipPath(),u=0;n.lSeriesMap.forEach((function(e,r){var l=i.visible.has(r)?o-n.lyScaler.normalize(e[t])*o:0;l=l>=0?Math.max(l,2):Math.min(l,-2),i.visible.has(r)&&0!==e[t]||(l=0),h-=l;var c=s.childAt(u);c.attr({shape:{x:-a/2,y:h+l,width:a,height:0}}),i.once?c.animate("shape",!1).when(600,{height:-l}).start("quadraticInOut"):c.attr({shape:{height:-l}}),u++})),l.attr({shape:{x:-a/2,width:a,y:h,height:o-h}})},pointer:new Wr({silent:!0,style:{stroke:r.axis}}),onPointerChange:function(t){if(t<0||t>1)i.pointer(null,i.mousePosition);else{var e=Math.round(i.dataAdapter.xScaler.denormalize(t));i.tooltip.dom.innerHTML=i.getTooltip(e)}}}),[4,3]),this.dataAdapter.data.length<5?this.outer=25:this.outer=this.zr.getWidth()/this.dataAdapter.countDataInView()/2,this.ready(),this.once=!1}},{key:"show",value:function(t){this.visible.has(t)||(this.visible.add(t),this.ready())}},{key:"hide",value:function(t){this.visible.has(t)&&(this.visible.delete(t),this.ready())}},{key:"getYLabel",value:function(t){return t.toFixed(2)}},{key:"pointer",value:function(t,e){}},{key:"getTooltip",value:function(t){return'<div style="background:red">'.concat(t,"</div>")}},{key:"buriedPoint",value:function(){}}]),i}(Jd),Hp=function(t){Cs(i,t);var e=Os(i);function i(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ss(this,i),(n=e.call(this,t,r)).theme={rateBg:"#DEE7FF",rateLinecolor:"#185DFF",rateTitlecolor:"#9FA8B4",rateNumbercolor:"#323232"},n.data=0;var o=r.padding||[0,0,0,0],a=ks(o,4),s=a[0],h=a[1],l=a[2],u=a[3];n.lineHeight=r.lineHeight||25,n.rateChartTitle=r.rateChartTitle||"share",n.lang=r.lang||"en",r.theme&&Object.assign(n.theme,r.theme),r.layout=new Pf([u,"auto",h],[s,"auto",l]),n.thickness=r.thickness||5;var c=new vo({silent:!0,style:{fill:n.theme.rateBg}}),f=new vo({silent:!0,style:{fill:n.theme.rateLinecolor},rotation:Math.PI/2}),d=new Pr({silent:!0,shape:{r:n.thickness/2},style:{fill:n.theme.rateLinecolor}}),p=new Pr({silent:!0,shape:{r:n.thickness/2},style:{fill:n.theme.rateLinecolor}});n.bg=c,n.series=f;var y=new Wi;return y.add(c),y.add(n.series),y.add(d),y.add(p),n.add(new wp("Rate",{shape:y,update:function(t,e,i){var r=t.x,o=t.y,a=Math.min(e,i)/2,s=Zd([n.data*Math.PI*2])[0];t.attr({x:r+e/2,y:o+i/2}),c.attr({shape:{r:a,r0:a-n.thickness}}),f.attr({shape:{r:a,r0:a-n.thickness}}),d.attr({y:-a+n.thickness/2}),p.attr({x:s[0]*(a-n.thickness/2),y:s[1]*(a-n.thickness/2)})}})),n}return As(i,[{key:"setData",value:function(t){this.data=t,"en"==this.lang?this.context="{value|".concat((100*t).toFixed(2),"%}\n{text|").concat(this.rateChartTitle,"}"):"zh"==this.lang&&(this.context="{text|".concat(this.rateChartTitle,"}\n{value|").concat((100*t).toFixed(2),"%}")),this.series.attr({shape:{endAngle:2*Math.PI*t}}),this.bg.attr({textConfig:{position:"inside"},textContent:new Zo({style:{text:this.context,fontFamily:"THSMoneyfont-Medium",rich:{value:{fontSize:10,fontWeight:"bold",lineHeight:this.lineHeight,fill:this.theme.rateNumbercolor},text:{fontSize:10,fill:this.theme.rateTitlecolor}},align:"center"}})}),this.ready()}}]),i}(Jd),jp=Zl("splice"),Yp=Math.max,Xp=Math.min,Up=9007199254740991,Vp="Maximum allowed length exceeded";zl({target:"Array",proto:!0,forced:!jp},{splice:function(t,e){var i,n,r,o,a,s,h=vh(this),l=hl(h.length),u=cl(t,l),c=arguments.length;if(0===c?i=n=0:1===c?(i=0,n=l-u):(i=c-2,n=Xp(Yp(al(e),0),l-u)),l+i-n>Up)throw TypeError(Vp);for(r=Yl(h,n),o=0;o<n;o++)(a=u+o)in h&&Ql(r,o,h[a]);if(r.length=n,i<n){for(o=u;o<l-n;o++)s=o+i,(a=o+n)in h?h[s]=h[a]:delete h[s];for(o=l;o>l-n+i;o--)delete h[o-1]}else if(i>n)for(o=l-n;o>u;o--)s=o+i-1,(a=o+n-1)in h?h[s]=h[a]:delete h[s];for(o=0;o<i;o++)h[o+u]=arguments[o+2];return h.length=l-n+i,r}});var Gp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;return Ss(this,i),(r=e.call(this,n)).option=n,r.target=t,void 0!==r.option.from.x&&void 0!==r.option.to.x&&(r.xScaler=new tp(r.option.from.x,r.option.to.x)),void 0!==r.option.from.y&&void 0!==r.option.to.y&&(r.yScaler=new tp(r.option.from.y,r.option.to.y)),r}return As(i,[{key:"update",value:function(){var t=xp.doEase(this.scaler.normalize(this.now),this.option.easing),e={x:this.target.x,y:this.target.y};this.xScaler&&(e.x=this.xScaler.denormalize(t)),this.yScaler&&(e.y=this.yScaler.denormalize(t)),this.target.attr(e)}}]),i}(xp),Zp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).theme={nameFontSize:14,subNameFontSize:12,valueFontSize:10,nameLeft:0,subNameLeft:8,valueLeft:10,fontMargingBottom:8,nameColor:"#323232",subNameColor:"#99A1AD",valueColor:"#323232",columnColor:"#1650ff",nameFontWeight:"normal",subFontWeight:"normal",valueFontWeight:"normal",fontFamily:"PingFangSC-Regular,sans-serif",valFontFamily:"THSMoneyfont-Medium",textRightPadding:0},r.barHeight=15,r.maxBarWidth=260,r.minBarWidth=10,r.sort="none",r.easing="linear",r.animationTime=1e3,r.maxDataCount=10,r.yPositions=[];var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3];return n.layout=new Pf([l,"auto",s],[a,function(){return r.getBottomMoveDistance()},"auto",h]),r.visible=new Set,r.visible.add("value"),n.maxBarWidth&&(r.maxBarWidth=n.maxBarWidth),n.minBarWidth&&(r.minBarWidth=n.minBarWidth),n.animationTime&&(r.animationTime=n.animationTime),n.maxDataCount&&(r.maxDataCount=n.maxDataCount),n.formatterVal&&(r.formatterVal=n.formatterVal),n.itemClick&&(r.itemClick=n.itemClick),n.barHeight&&(r.barHeight=n.barHeight),n.sort&&(r.sort=n.sort),n.theme&&Object.assign(r.theme,n.theme),r.dataAdapter=new _p({xKey:"name",lyKeys:["value"],visible:r.visible}),r.xLine=r.add(new bp("xLine",{location:"left",style:{lineWidth:0}}),[1,2]),r.yLine=r.add(new bp("yLine",{location:"bottom",style:{lineWidth:0}}),[1,2]),r.widthScaler=new tp(0,1),r.textValStorage=new Map,r}return As(i,[{key:"setData",value:function(t){var e=this;this.setDataAdapter(t),!this.barseries&&(this.barseries=this.add(new gp("barseries",{location:"left",data:this.splits,shape:function(t){var i=new Wi({silent:!1}),n=e.dataAdapter.data[t],r=e.getBarWidth(n),o=e.barHeight;i.add(new Ir({shape:{x:0,y:-o,height:o,width:r,r:[0,4,4,0]},style:{fill:e.theme.columnColor}})),i.add(new Zo({style:{text:0===r?"":e.formatterVal(n.value),fill:e.theme.valueColor,fontSize:"".concat(e.theme.valueFontSize,"px"),fontFamily:e.theme.valFontFamily,fontWeight:e.theme.valueFontWeight,lineHeight:e.barHeight,x:r+e.theme.valueLeft,y:-o}}));var a=new Zo({style:{text:"".concat(n.name),fill:e.theme.nameColor,fontSize:"".concat(e.theme.nameFontSize,"px"),fontFamily:e.theme.fontFamily,fontWeight:e.theme.nameFontWeight,verticalAlign:"bottom",x:e.theme.nameLeft,y:-e.barHeight-e.theme.fontMargingBottom}});i.add(a);var s=new Zo({style:{text:"".concat(n.subName),fill:e.theme.subNameColor,fontSize:"".concat(e.theme.subNameFontSize,"px"),fontFamily:e.theme.fontFamily,fontWeight:e.theme.subFontWeight,verticalAlign:"bottom",lineHeight:e.theme.subNameFontSize+4,x:e.getSubNameX(a),y:-e.barHeight-e.theme.fontMargingBottom+2,overflow:"truncate",ellipsis:"..."}});return i.add(s),i}}),[1,2])),this.ready()}},{key:"ready",value:function(){kp(zs(i.prototype),"ready",this).call(this),this.yPositions.length?this.changeData(this.dataAdapter.data,this.oldData):this.firstAnimation(),this.listenGroupClck(),this.updateSubtextWidth()}},{key:"listenGroupClck",value:function(){var t,e=this,i=null===(t=this.barseries)||void 0===t?void 0:t.shape.children();i&&i.forEach((function(t){t.onclick=function(t){var i;if(t.target){var n=t.target.parent;n.isGroup||(n=n.parent);var r=n.childAt(2),o=n.childAt(3),a=String(r.style.text),s=String(o.style.text),h=null===(i=e.orgData)||void 0===i?void 0:i.findIndex((function(t){return t.name==a&&t.subName==s}));h=void 0===h?-1:h,e.itemClick(a,s,h)}}}))}},{key:"updateSubtextWidth",value:function(){var t=this;this.barseries.shape.eachChild((function(e){var i=e,n=i.childAt(2),r=i.childAt(3),o=t.getSubTextWidth(n);r.attr({style:{width:o}})}))}},{key:"itemClick",value:function(t,e,i){}},{key:"setDataAdapter",value:function(t){var e=this;this.orgData=t;var i=g(t);i=this.sortData(i),i=this.handelData(i),this.oldData=this.dataAdapter.data?this.dataAdapter.data:[],this.splits=qd(i.length),this.dataAdapter.setData(i,new tp(0,i.length));var n=[];this.dataAdapter.data.forEach((function(t){!isNaN(t.value)&&!e.isEmptyData(t)&&n.push(t.value)}));var r=Xd(n);this.widthScaler=new tp(r[0],r[1]),this.setMaxBarWidth()}},{key:"setMaxBarWidth",value:function(){var t=this,e=this.zr.dom.offsetWidth,i=this.maxBarWidth;this.dataAdapter.data.forEach((function(n){var r=new Zo({style:{text:t.formatterVal(n.value),fontSize:"".concat(t.theme.valueFontSize,"px"),fontWeight:t.theme.valueFontWeight}}),o=e-r.getBoundingRect().width-t.theme.valueLeft-10;i=Math.min(i,o)})),this.maxBarWidth=i}},{key:"getBarWidth",value:function(t){var e=t.value,i=0;if(this.isEmptyData(t))return i;if(null!=e){var n=this.widthScaler.min<0?this.widthScaler.delta:this.widthScaler.delta+this.widthScaler.min;i=this.maxBarWidth*(e/n)}return i<this.minBarWidth?this.minBarWidth:i}},{key:"getSubNameX",value:function(t){return t.getBoundingRect().width+this.theme.nameLeft+this.theme.subNameLeft}},{key:"getSubTextWidth",value:function(t){return this.getRect([1,1]).width-this.getSubNameX(t)-this.theme.textRightPadding}},{key:"getAnimationValText",value:function(t,e){var i=this.textValStorage.get(t);return this.formatterVal(Od(i.scaler.denormalize(e/this.animationTime),14))}},{key:"getOutSideY",value:function(){return this.zr.dom.offsetHeight+this.barHeight+100}},{key:"firstAnimation",value:function(){var t=this;if(this.barseries&&this.xLine&&this.yLine){var e=[],i=this.easing;this.yPositions=[],this.barseries.shape.eachChild((function(n){var r=n,o=r.childAt(0);t.yPositions.push(r.y);var a=r.childAt(1),s=r.childAt(2),h=r.childAt(3),l=parseFloat(a.style.text);t.textValStorage.set(a.id,{id:a.id,scaler:new tp(t.widthScaler.min,l)}),e.push(new Cp(o,{end:t.animationTime,shape:[{width:0},{width:o.shape.width}],style:[{opacity:0},{opacity:1}],easing:i}),new Ap(a,{end:t.animationTime,from:{x:0},to:{x:a.style.x},easing:i,cb:function(e,i){return e.style.text=0===o.shape.width?" ":t.getAnimationValText(e.id,i)}}),new Ap(s,{end:t.animationTime,from:{opacity:0},to:{opacity:1},easing:i}),new Ap(h,{end:t.animationTime,from:{opacity:0},to:{opacity:1},easing:i}))})),new Tp(e).play()}}},{key:"changeData",value:function(t,e){var i=this,n=this.getOutSideY(),r=this.easing,o=[],a=[],s=[];e.forEach((function(t,e){i.isEmptyData(t)&&s.push(e)}));var h=[],l=[];t.forEach((function(t,e){i.isEmptyData(t)&&l.push(e)})),e.forEach((function(e,s){var u=t.findIndex((function(t){return t.name===e.name&&t.subName===e.subName}));if(i.isEmptyData(e)){var c=l.pop();u=void 0===c?-1:c}var f=i.findeTargetGroup(e.name,e.subName,h),d=i.yPositions[s],p=-1===u?n:i.yPositions[u];if(h.push(f),-1===u&&a.push(f),o.push(new Gp(f,{begin:0,end:-1===u?i.animationTime/2:i.animationTime,from:{y:d},to:{y:p},easing:r})),-1!==u){var y=f.childAt(1),v=f.childAt(0),g=t[u].value;i.textValStorage.set(y.id,{id:y.id,scaler:new tp(parseFloat(y.style.text),g)});var m=i.getBarWidth(t[u])+i.theme.valueLeft;i.formatterVal(g)===y.style.text&&m===y.style.x||(m=m===y.style.x?m+=1e-5:m,o.push(new Ap(y,{begin:0,end:i.animationTime,from:{x:y.style.x},to:{x:m},easing:r,cb:function(t,e){return t.style.text=0===v.shape.width?" ":i.getAnimationValText(t.id,e)}}))),o.push(new Cp(v,{begin:0,end:i.animationTime,shape:[{width:v.shape.width},{width:i.getBarWidth(t[u])}],easing:r}))}})),t.forEach((function(t,h){var l=e.findIndex((function(e){return t.name===e.name&&t.subName===e.subName}));if(i.isEmptyData(t)){var u=s.pop();l=void 0===u?-1:u}if(-1===l){var c=a.pop();o.push(new Gp(c,{begin:i.animationTime/2,end:i.animationTime,from:{y:n},to:{y:i.yPositions[h]},easing:r}));var f=c.childAt(0),d=c.childAt(1);i.textValStorage.set(d.id,{id:d.id,scaler:new tp(i.widthScaler.min,t.value)});var p=c.childAt(2);p.attr({style:{text:t.name}}),c.childAt(3).attr({style:{text:t.subName,x:p.getBoundingRect().width+i.theme.subNameLeft+i.theme.nameLeft}}),o.push(new Cp(f,{begin:i.animationTime/2,end:i.animationTime,shape:[{width:0},{width:i.getBarWidth(t)}],style:[{opacity:0},{opacity:1}],easing:r}),new Ap(d,{begin:i.animationTime/2,end:i.animationTime,from:{x:0},to:{x:i.getBarWidth(t)+i.theme.valueLeft},easing:r,cb:function(t,e){return t.style.text=0===f.shape.width?" ":i.getAnimationValText(t.id,e)}}))}})),new Tp(o).play()}},{key:"objectValueIsEq",value:function(t,e){return JSON.stringify(t)===JSON.stringify(e)}},{key:"isEmptyData",value:function(t){return""===t.name&&""===t.subName&&0===t.value}},{key:"findeTargetGroup",value:function(t,e,i){var n;if(this.barseries){var r,o=null===(r=this.barseries)||void 0===r?void 0:r.shape.children(),a=o.findIndex((function(n){var r=n,o=r.childAt(2),a=r.childAt(3),s=i.findIndex((function(t){return t.id===r.id}));return o.style.text===t&&a.style.text===e&&-1===s}));n=o[a]}return n}},{key:"sortData",value:function(t){var e=this;return"none"===this.sort||t.sort((function(t,i){return"dec"===e.sort?i.value-t.value:t.value-i.value})),t}},{key:"handelData",value:function(t){var e=this,i=[];t.forEach((function(t){e.isEmptyData(t)&&i.push(t)}));var n=t.filter((function(t){return!e.isEmptyData(t)}));if((n=[].concat($c(n),i)).length>=this.maxDataCount)n.splice(this.maxDataCount);else for(var r=n.length;r<this.maxDataCount;r++)n.push({value:0,name:"",subName:""});return n}},{key:"getBottomMoveDistance",value:function(){return 2*this.barHeight}},{key:"formatterVal",value:function(t){return null==t?void 0:t.toFixed(2)}}]),i}(Jd),qp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).colors=new Map,r.unselectcolors=new Map,r.theme={axis:"#C5CCD6",axisFont:{fill:"#C5CCD6",fontFamily:"THSMoneyfont-Medium",xfontSize:10,yfontSize:10,highLightFill:"#165DFF"},splitLine:"rgba(0,0,0,0)"};var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3],u=n.safeDistance||8;return n.layout=new Pf([l,function(){return r.yleftLabels?r.yleftLabels.width:0},u,function(){return r.outer},"auto",function(){return r.outer},0,s],[a,0,8,"auto",8,function(){return r.xLabels?r.xLabels.height:0},0,0,h]),r.openBarAction=n.openBarAction,r.rectWidth=n.rectWidth||.5,r.minBarHeight=n.minBarHeight||2,r.maxBarWidth=n.maxBarWidth||20,r.visible=new Set,n.serieses.forEach((function(t){r.visible.add(t.key)})),r.dataAdapter=new _p({xKey:n.xKey,lyKeys:n.serieses.map((function(t){return t.key})),visible:r.visible,lyRangeKeys:[$c(r.visible).filter((function(t){return"sum"!==t}))],coverZero:"both"}),n.theme&&Object.assign(r.theme,n.theme),n.selectPoint&&(r.selectPoint=n.selectPoint),n.leftyLabelFormatter&&(r.getleftYLabel=n.leftyLabelFormatter),n.serieses.forEach((function(t){r.colors.set(t.key,t.color),r.unselectcolors.set(t.key,t.unselectColor),r.visible.add(t.key)})),r}return As(i,[{key:"setData",value:function(t,e){var i=this,n=this.dataAdapter,r=this.theme,o=e?new tp(e[0],e[1]):void 0;n.setData(t,o),this.add(new cp("splitLine",{data:this.dataAdapter.splits,location:"bottom",style:function(t){return t===i.dataAdapter.splits.length-1-n.getYvalueIndex(0,"left")?{stroke:r.axis,lineWidth:1}:{stroke:r.splitLine}}}),[[3,5],3]),this.xLabels=this.add(new vp("xLabels",{data:n.nomalizedX,minDistance:10,shape:function(t){var e=new Zo({silent:!0,style:{fontFamily:r.axisFont.fontFamily,text:n.xDatas[t],align:"center",verticalAlign:"middle",fill:r.axisFont.fill,fontSize:r.axisFont.xfontSize}});return e.name=n.xDatas[t],e}}),[4,5]),this.yleftLabels=this.add(new gp("yleftLabels",{data:n.splits,location:"right",shape:function(t){return new Zo({silent:!0,style:{fontFamily:r.axisFont.fontFamily,text:i.getleftYLabel(n.split(t,"Left")),align:"right",verticalAlign:"middle",fill:r.axisFont.fill,fontSize:r.axisFont.yfontSize}})}}),[1,3]),this.stackseries=this.add(new vp("stackBar",{PCorMobile:"Mobile",location:"top",data:n.nomalizedX,shape:function(t){var e=new Wi;e.name=n.xDatas[t],n.lSeriesMap.forEach((function(t,n){var r=new Ir({silent:!0,style:{fill:i.unselectcolors.get(n)},z:15});r.name="".concat(n),e.add(r)}));var r=new Ir({style:{fill:"rgba(255,0,0,0)"}});return r.name=n.xDatas[t],e.add(r),e},adjust:function(t,e,r,o){var a=r/n.countDataInView()*i.rectWidth;a>20&&(a=i.maxBarWidth);var s=e,h=0,l=0,u=0;n.lSeriesMap.forEach((function(e,r,c){var f=s.childOfName(r),d=i.getZeroYpoints(o,n),p=i.getRectHeight(e[t],o,n.lyScaler);p>0&&(p=Math.max(p,2)),p<0&&(p=Math.min(p,-2)),f.attr({shape:{y:d,width:a,height:0,r:p>0?[0,0,2,2]:[2,2,0,0]}}),i.visible.has("sum")&&1!==i.visible.size?"sum"==r?(i.visible.has(r)&&0!==e[t]||(p=0),f.attr({shape:{x:-a-1}})):(i.visible.has(r)&&0!==e[t]||(p=0),p>0?h+=p:l+=p,p=p>0?h:l,f.attr({shape:{x:1},z:10-u}),u++):i.visible.has("sum")&&1==i.visible.size?(i.visible.has(r)&&0!==e[t]||(p=0),"sum"==r&&f.attr({shape:{x:-a/2}})):(i.visible.has(r)&&0!==e[t]||(p=0),p>0?h+=p:l+=p,p=p>0?h:l,f.attr({shape:{x:-a/2},z:10-u}),u++),i.openBarAction?f.animate("shape",!1).when(600,{height:p}).start("quadraticInOut"):f.attr({shape:{height:p}})})),s.x;var c=s.y,f=s.childOfName(n.xDatas[t]);f.attr({shape:{x:-a,y:c,width:2*a,height:o+20}}),f.on("click",(function(){i.select(t,!1)}))}}),[4,3]),1==this.dataAdapter.countDataInView()?this.outer=80:this.outer=this.zr.getWidth()/this.dataAdapter.countDataInView()/2,this.ready()}},{key:"show",value:function(t){var e;(this.openBarAction||(this.openBarAction=!0),this.visible.has(t))||(this.visible.add(t),this.updateAxisLabels(),this.dataAdapter.update(),0!==this.dataAdapter.lyScaler.delta&&(null===(e=this.yleftLabels)||void 0===e||e.shape.show()),this.ready())}},{key:"hide",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.openBarAction=!e,this.visible.has(t)){var i;if(this.visible.delete(t),this.dataAdapter.update(),this.updateAxisLabels(),0===this.dataAdapter.lyScaler.delta)null===(i=this.yleftLabels)||void 0===i||i.shape.hide();this.ready()}}},{key:"select",value:function(t,e){this.rectClick(t),this.selectable=t,this.selectPoint(t,e)}},{key:"rectClick",value:function(t){var e=this;void 0!==this.selectable&&this.selectable!==t?(this.stackseries.shape.childAt(this.selectable).children().forEach((function(t){var i,n=t;n.attr({style:{fill:null!==(i=e.unselectcolors.get(n.name))&&void 0!==i?i:"rgba(0,0,0,0)"}})})),this.stackseries.shape.childAt(t).children().forEach((function(t){var i=t;i.attr({style:{fill:e.colors.get(i.name)}})})),this.xLabels.shape.childAt(this.selectable).attr({style:{fill:this.theme.axisFont.fill}}),this.xLabels.shape.childAt(t).attr({style:{fill:this.theme.axisFont.highLightFill}})):(this.stackseries.shape.childAt(t).children().forEach((function(t){var i=t;i.attr({style:{fill:e.colors.get(i.name)}})})),this.xLabels.shape.childAt(t).attr({style:{fill:this.theme.axisFont.highLightFill}}))}},{key:"selectPoint",value:function(t,e){console.log("用户点击了",t,e)}},{key:"updateAxisLabels",value:function(){var t=this;this.yleftLabels&&0!==this.dataAdapter.lyScaler.delta&&this.yleftLabels.shape.children().forEach((function(e,i){e.attr({style:{text:t.getleftYLabel(t.dataAdapter.split(i,"Left"))}})}))}},{key:"getleftYLabel",value:function(t){return t.toFixed(0)}},{key:"getZeroYpoints",value:function(t,e){return e.getYvalueIndex(0,"left")/(e.splits.length-1)*t}},{key:"getRectHeight",value:function(t,e,i){if(0===i.delta)return 0;var n=t/i.delta*e;return Math.abs(n)<this.minBarHeight&&0!==t?this.minBarHeight*(n/Math.abs(n)):n}}]),i}(Jd),Kp=function(t){Cs(i,t);var e=Os(i);function i(t,n){var r;Ss(this,i),(r=e.call(this,t,n)).colors=new Map,r.theme={axis:"#C5CCD6",axisFont:{fill:"#C5CCD6",highLightFill:"#165DFF",fontFamily:"THSMoneyfont-Medium",xfontSize:10,yfontSize:10},splitLine:"rgba(0,0,0,0)",highlightPoint:"#FFBE19",unhightlightPoint:"#FFECBD",outermarginPoint:"rgba(255,255,255,1)"};var o=ks(n.padding||[10,0,10,0],4),a=o[0],s=o[1],h=o[2],l=o[3],u=n.safeDistance||8;r.rectWidth=n.rectWidth||.5,r.minBarHeight=n.minBarHeight||2,r.maxBarWidth=n.maxBarWidth||20,r.lineWidth=n.lineWidth||2,r.circleRadius=n.circleRadius||5,n.layout=new Pf([l,function(){return r.yleftLabels?r.yleftLabels.width:0},u,function(){return r.outer},"auto",function(){return r.outer},u,function(){return r.yrightLabels?r.yrightLabels.width:0},s],[a,0,8,"auto",8,function(){return r.xLabels?r.xLabels.height:0},0,0,h]),r.keyMap=new Map,r.visible=new Set;var c=[],f=[];return n.serieses.forEach((function(t,e){r.keyMap.set(t.key,{label:t.label,color:t.color,style:t.style}),r.visible.add(t.key),"right"==t.relay?f.push(t.key):c.push(t.key)})),r.dataAdapter=new _p({xKey:n.xKey,lyKeys:c,ryKeys:f,visible:r.visible,coverZero:"both"}),n.theme&&Object.assign(r.theme,n.theme),n.selectPoint&&(r.selectPoint=n.selectPoint),n.leftyLabelFormatter&&(r.getleftYLabel=n.leftyLabelFormatter),n.rightyLabelFormatter&&(r.getrightYLabel=n.rightyLabelFormatter),n.serieses.forEach((function(t){r.colors.set(t.key,t.color),r.visible.add(t.key)})),r}return As(i,[{key:"setData",value:function(t,e){var i=this,n=this.dataAdapter,r=this.theme,o=e?new tp(e[0],e[1]):void 0;n.setData(t,o),this.add(new cp("splitLine",{data:this.dataAdapter.splits,location:"bottom",style:function(t){return t===i.dataAdapter.splits.length-1-n.getYvalueIndex(0,"left")?{stroke:i.theme.axis,lineWidth:1}:{stroke:i.theme.splitLine}}}),[[3,5],3]),this.xLabels=this.add(new vp("xLabels",{data:n.nomalizedX,minDistance:10,shape:function(t){return new Zo({silent:!0,style:{fontFamily:r.axisFont.fontFamily,text:n.xDatas[t],align:"center",verticalAlign:"middle",fill:r.axisFont.fill,fontSize:r.axisFont.xfontSize}})}}),[4,5]),this.dataAdapter.lSeriesMap.size>0&&(this.yleftLabels=this.add(new gp("yleftLabels",{data:n.splits,location:"right",shape:function(t){return new Zo({silent:!0,style:{fontFamily:r.axisFont.fontFamily,text:i.getleftYLabel(n.split(t,"left")),align:"right",verticalAlign:"middle",fill:r.axisFont.fill,fontSize:r.axisFont.yfontSize}})}}),[1,3])),this.dataAdapter.rSeriesMap.size>0&&(this.yrightLabels=this.add(new gp("yrightLabels",{data:n.splits,location:"left",shape:function(t){return new Zo({silent:!0,style:{fontFamily:r.axisFont.fontFamily,text:i.getrightYLabel(n.split(t,"right")),align:"left",verticalAlign:"middle",fill:r.axisFont.fill,fontSize:r.axisFont.yfontSize}})}}),[7,3])),this.dataAdapter.rSeriesMap.size>0&&n.rSeriesMap.forEach((function(t,e){var o=i.keyMap.get(e);"line"==o.style&&(i.lineseries=i.add(new vp("line",{PCorMobile:"Mobile",location:"top",data:n.nomalizedX,value:t.map((function(t){return n.ryScaler.normalize(t)})),connect:{stroke:o.color,lineWidth:i.lineWidth},shape:function(t){return new Pr({shape:{r:i.circleRadius},style:{fill:r.unhightlightPoint,stroke:r.outermarginPoint,opacity:0},z:11})},z:10}),[4,3]))})),this.barseries=this.add(new vp("Bar",{PCorMobile:"Mobile",location:"top",data:n.nomalizedX,shape:function(t){var e=new Wi;e.name=n.xDatas[t],n.lSeriesMap.forEach((function(t,n){var r=new Ir({silent:!0,style:{fill:i.colors.get(n),opacity:.15},z:0});e.add(r)}));var r=new Ir({style:{fill:"rgba(255,0,0,0)"}});return r.name=n.xDatas[t],e.add(r),e},adjust:function(t,e,r,o){var a=r/n.countDataInView()*i.rectWidth;a>20&&(a=i.maxBarWidth);var s=e,h=0;n.lSeriesMap.forEach((function(e,r,l){var u=s.childAt(h),c=i.getZeroYpoints(o,n),f=i.getRectHeight(e[t],o,n.lyScaler);f>0&&(f=Math.max(f,2)),f<0&&(f=Math.min(f,-2)),u.attr({shape:{y:c,width:a,height:0,r:f>0?[0,0,2,2]:[2,2,0,0]}}),1==n.lSeriesMap.size?u.attr({shape:{x:-a/2}}):2==n.lSeriesMap.size&&(0==h?u.attr({shape:{x:-a-1}}):u.attr({shape:{x:1}})),i.visible.has(r)&&0!==e[t]||(f=0),u.animate("shape",!1).when(600,{height:f}).start("quadraticInOut"),h++})),s.x;var l=s.y,u=s.childOfName(n.xDatas[t]);u.attr({shape:{x:-a,y:l,width:2*a,height:o+20}}),u.on("click",(function(){i.select(t,!1)}))}}),[4,3]),1==this.dataAdapter.countDataInView()?this.outer=80:this.outer=this.zr.getWidth()/this.dataAdapter.countDataInView()/2,this.ready()}},{key:"ready",value:function(){var t=this;if(kp(zs(i.prototype),"ready",this).call(this),this.lineseries){var e,n=this.getRect([4,3]),r=new Ir({silent:!0,shape:{x:0,y:0,height:n.height,width:0},style:{fill:"rgba(0,0,0,0)"}});null===(e=this.lineseries.connectShape)||void 0===e||e.setClipPath(r),r.animate("shape",!1).when(600,{width:n.width}).start("quarticIn"),this.dataAdapter.xDatas.forEach((function(e,i){t.lineseries.shape.childAt(i)&&t.lineseries.shape.childAt(i).animate("style",!1).when(600,{opacity:1}).start("quarticIn")}))}}},{key:"show",value:function(t){this.visible.has(t)||(this.visible.add(t),this.ready())}},{key:"hide",value:function(t){this.visible.has(t)&&(this.visible.delete(t),this.ready())}},{key:"circleClick",value:function(t){void 0!==this.selectable&&this.selectable!==t?(this.lineseries.shape.childAt(this.selectable).attr({style:{fill:this.theme.unhightlightPoint}}),this.lineseries.shape.childAt(t).attr({style:{fill:this.theme.highlightPoint}})):this.lineseries.shape.childAt(t).attr({style:{fill:this.theme.highlightPoint}})}},{key:"rectClick",value:function(t){void 0!==this.selectable&&this.selectable!==t?(this.barseries.shape.childAt(this.selectable).children().forEach((function(t){t.attr({style:{opacity:.15},z:1})})),this.barseries.shape.childAt(t).children().forEach((function(t){t.attr({style:{opacity:1},z:2})})),this.xLabels.shape.childAt(this.selectable).attr({style:{fill:this.theme.axisFont.fill}}),this.xLabels.shape.childAt(t).attr({style:{fill:this.theme.axisFont.highLightFill}})):(this.barseries.shape.childAt(t).children().forEach((function(t){t.attr({style:{opacity:1},z:2})})),this.xLabels.shape.childAt(t).attr({style:{fill:this.theme.axisFont.highLightFill}}))}},{key:"selectPoint",value:function(t,e){console.log("用户点击了",t,e)}},{key:"select",value:function(t,e){this.rectClick(t),this.lineseries&&this.circleClick(t),this.selectable=t,this.selectPoint(t,e)}},{key:"getrightYLabel",value:function(t){return t.toFixed(2)}},{key:"getleftYLabel",value:function(t){return t.toFixed(2)}},{key:"getZeroYpoints",value:function(t,e){return e.getYvalueIndex(0,"left")/(e.splits.length-1)*t}},{key:"getRectHeight",value:function(t,e,i){if(0===i.delta)return 0;var n=t/i.delta*e;return Math.abs(n)<this.minBarHeight&&0!==t?this.minBarHeight*(n/Math.abs(n)):n}}]),i}(Jd);Vi("canvas",wa),Vi("svg",xs),t.BalanceSheetChart=Kp,t.BarChart=mp,t.DistributionBarChart=Op,t.DoubleLineChart=Rp,t.LineBarChart=Bp,t.PieChart=Lp,t.RankChart=Zp,t.RateChart=Hp,t.SimpleLineChart=Fp,t.StackChart=Wp,t.StackedColumnChart=qp,Object.defineProperty(t,"__esModule",{value:!0})}));
